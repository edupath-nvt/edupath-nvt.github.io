import{f as qe,h as Xe,r as N,u as Ke,i as hr,k as mr,l as gr,m as br,n as $t,j as s,o as ne,q as Ee,v as Ze,w as Rt,x as ze,y as Ae,z as oe,A as dt,P as vr,B as Pe,D as Lt,E as xr,F as rt,G as Fe,H as He,J as yr,K as mt,L as At,M as ot,N as Sr,O as Te,Q as Yt,c as Ie,R as xt,V as Ht,X as Ut,Y as me,_ as Pt,$ as W,a0 as Cr,a1 as yt,I as Ce,a2 as wr,a3 as Ve,a4 as kr,a5 as qt,a6 as $r,a7 as Xt,a8 as jr,a9 as Kt,aa as Zt,ab as jt,ac as Ot,U as Et,ad as Mr,ae as Gt}from"./index-Btu9Q6rK.js";import{v as Tr,d as we,S as at,y as Rr,E as Oe,L as Ne,u as St,a as Lr,b as Ar,c as Pr,N as Or,e as Er}from"./select-subject-BSsNl_re.js";import{S as Be}from"./Stack-CtHsyenN.js";import{u as Jt,C as Ct}from"./Autocomplete-tBgLQEcu.js";import{u as zr,c as Qt,a as er,b as tr,C as it,T as Ir}from"./index.esm-CQnYD5B2.js";import{L as wt}from"./label-border-DDF44RIS.js";import{a as rr,b as or,c as nr,D as sr}from"./DialogTitle-C_FuiGJi.js";import"./InputAdornment-TKMRH8Ut.js";function Dr(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function _r(e){return qe("MuiCollapse",e)}Xe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Nr=e=>{const{orientation:t,classes:r}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ze(o,_r,r)},Fr=ne("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(ze(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Vr=ne("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Br=ne("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),kt=N.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCollapse"}),{addEndListener:a,children:c,className:h,collapsedSize:i="0px",component:l,easing:f,in:g,onEnter:y,onEntered:b,onEntering:v,onExit:d,onExited:n,onExiting:x,orientation:S="vertical",style:P,timeout:M=hr.standard,TransitionComponent:A=mr,...T}=o,C={...o,orientation:S,collapsedSize:i},m=Nr(C),u=gr(),R=br(),$=N.useRef(null),L=N.useRef(),O=typeof i=="number"?`${i}px`:i,j=S==="horizontal",k=j?"width":"height",B=N.useRef(null),F=$t(r,B),Y=D=>K=>{if(D){const X=B.current;K===void 0?D(X):D(X,K)}},I=()=>$.current?$.current[j?"clientWidth":"clientHeight"]:0,H=Y((D,K)=>{$.current&&j&&($.current.style.position="absolute"),D.style[k]=O,y&&y(D,K)}),G=Y((D,K)=>{const X=I();$.current&&j&&($.current.style.position="");const{duration:se,easing:te}=Rt({style:P,timeout:M,easing:f},{mode:"enter"});if(M==="auto"){const le=u.transitions.getAutoHeightDuration(X);D.style.transitionDuration=`${le}ms`,L.current=le}else D.style.transitionDuration=typeof se=="string"?se:`${se}ms`;D.style[k]=`${X}px`,D.style.transitionTimingFunction=te,v&&v(D,K)}),_=Y((D,K)=>{D.style[k]="auto",b&&b(D,K)}),q=Y(D=>{D.style[k]=`${I()}px`,d&&d(D)}),ee=Y(n),ie=Y(D=>{const K=I(),{duration:X,easing:se}=Rt({style:P,timeout:M,easing:f},{mode:"exit"});if(M==="auto"){const te=u.transitions.getAutoHeightDuration(K);D.style.transitionDuration=`${te}ms`,L.current=te}else D.style.transitionDuration=typeof X=="string"?X:`${X}ms`;D.style[k]=O,D.style.transitionTimingFunction=se,x&&x(D)}),ue=D=>{M==="auto"&&R.start(L.current||0,D),a&&a(B.current,D)};return s.jsx(A,{in:g,onEnter:H,onEntered:_,onEntering:G,onExit:q,onExited:ee,onExiting:ie,addEndListener:ue,nodeRef:B,timeout:M==="auto"?null:M,...T,children:(D,{ownerState:K,...X})=>s.jsx(Fr,{as:l,className:Ee(m.root,h,{entered:m.entered,exited:!g&&O==="0px"&&m.hidden}[D]),style:{[j?"minWidth":"minHeight"]:O,...P},ref:F,ownerState:{...C,state:D},...X,children:s.jsx(Vr,{ownerState:{...C,state:D},className:m.wrapper,ref:$,children:s.jsx(Br,{ownerState:{...C,state:D},className:m.wrapperInner,children:c})})})})});kt&&(kt.muiSupportAuto=!0);function Wr(e){const{badgeContent:t,invisible:r=!1,max:o=99,showZero:a=!1}=e,c=Jt({badgeContent:t,max:o});let h=r;r===!1&&t===0&&!a&&(h=!0);const{badgeContent:i,max:l=o}=h?c:e,f=i&&Number(i)>l?`${l}+`:i;return{badgeContent:i,invisible:h,max:l,displayValue:f}}function Yr(e){return qe("MuiBadge",e)}const Re=Xe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),gt=10,bt=4,Hr=e=>{const{color:t,anchorOrigin:r,invisible:o,overlap:a,variant:c,classes:h={}}=e,i={root:["root"],badge:["badge",c,o&&"invisible",`anchorOrigin${oe(r.vertical)}${oe(r.horizontal)}`,`anchorOrigin${oe(r.vertical)}${oe(r.horizontal)}${oe(a)}`,`overlap${oe(a)}`,t!=="default"&&`color${oe(t)}`]};return Ze(i,Yr,h)},Ur=ne("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),qr=ne("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${oe(r.anchorOrigin.vertical)}${oe(r.anchorOrigin.horizontal)}${oe(r.overlap)}`],r.color!=="default"&&t[`color${oe(r.color)}`],r.invisible&&t.invisible]}})(ze(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:gt*2,lineHeight:1,padding:"0 6px",height:gt*2,borderRadius:gt,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(dt(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:bt,height:bt*2,minWidth:bt*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Re.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function zt(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const Xr=N.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiBadge"}),{anchorOrigin:a,className:c,classes:h,component:i,components:l={},componentsProps:f={},children:g,overlap:y="rectangular",color:b="default",invisible:v=!1,max:d=99,badgeContent:n,slots:x,slotProps:S,showZero:P=!1,variant:M="standard",...A}=o,{badgeContent:T,invisible:C,max:m,displayValue:u}=Wr({max:d,invisible:v,badgeContent:n,showZero:P}),R=Jt({anchorOrigin:zt(a),color:b,overlap:y,variant:M,badgeContent:n}),$=C||T==null&&M!=="dot",{color:L=b,overlap:O=y,anchorOrigin:j,variant:k=M}=$?R:o,B=zt(j),F=k!=="dot"?u:void 0,Y={...o,badgeContent:T,invisible:$,max:m,displayValue:F,showZero:P,anchorOrigin:B,color:L,overlap:O,variant:k},I=Hr(Y),H={slots:{root:(x==null?void 0:x.root)??l.Root,badge:(x==null?void 0:x.badge)??l.Badge},slotProps:{root:(S==null?void 0:S.root)??f.root,badge:(S==null?void 0:S.badge)??f.badge}},[G,_]=Ae("root",{elementType:Ur,externalForwardedProps:{...H,...A},ownerState:Y,className:Ee(I.root,c),ref:r,additionalProps:{as:i}}),[q,ee]=Ae("badge",{elementType:qr,externalForwardedProps:H,ownerState:Y,className:I.badge});return s.jsxs(G,{..._,children:[g,s.jsx(q,{...ee,children:F})]})});function Kr(e){return qe("MuiCard",e)}Xe("MuiCard",["root"]);const Zr=e=>{const{classes:t}=e;return Ze({root:["root"]},Kr,t)},Gr=ne(vr,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Jr=N.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCard"}),{className:a,raised:c=!1,...h}=o,i={...o,raised:c},l=Zr(i);return s.jsx(Gr,{className:Ee(l.root,a),elevation:c?8:void 0,ref:r,ownerState:i,...h})});function Qr(e){return qe("MuiCardHeader",e)}const lt=Xe("MuiCardHeader",["root","avatar","action","content","title","subheader"]),eo=e=>{const{classes:t}=e;return Ze({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Qr,t)},to=ne("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${lt.title}`]:t.title},{[`& .${lt.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),ro=ne("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),oo=ne("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),no=ne("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${Lt.root}:where(& .${lt.title})`]:{display:"block"},[`.${Lt.root}:where(& .${lt.subheader})`]:{display:"block"}}),so=N.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCardHeader"}),{action:a,avatar:c,component:h="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:f,title:g,titleTypographyProps:y,slots:b={},slotProps:v={},...d}=o,n={...o,component:h,disableTypography:i},x=eo(n),S={slots:b,slotProps:{title:y,subheader:f,...v}};let P=g;const[M,A]=Ae("title",{className:x.title,elementType:Pe,externalForwardedProps:S,ownerState:n,additionalProps:{variant:c?"body2":"h5",component:"span"}});P!=null&&P.type!==Pe&&!i&&(P=s.jsx(M,{...A,children:P}));let T=l;const[C,m]=Ae("subheader",{className:x.subheader,elementType:Pe,externalForwardedProps:S,ownerState:n,additionalProps:{variant:c?"body2":"body1",color:"textSecondary",component:"span"}});T!=null&&T.type!==Pe&&!i&&(T=s.jsx(C,{...m,children:T}));const[u,R]=Ae("root",{ref:r,className:x.root,elementType:to,externalForwardedProps:{...S,...d,component:h},ownerState:n}),[$,L]=Ae("avatar",{className:x.avatar,elementType:ro,externalForwardedProps:S,ownerState:n}),[O,j]=Ae("content",{className:x.content,elementType:no,externalForwardedProps:S,ownerState:n}),[k,B]=Ae("action",{className:x.action,elementType:oo,externalForwardedProps:S,ownerState:n});return s.jsxs(u,{...R,children:[c&&s.jsx($,{...L,children:c}),s.jsxs(O,{...j,children:[P,T]}),a&&s.jsx(k,{...B,children:a})]})});function It(e){return e.substring(2).toLowerCase()}function ao(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function io(e){const{children:t,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:c="onTouchEnd"}=e,h=N.useRef(!1),i=N.useRef(null),l=N.useRef(!1),f=N.useRef(!1);N.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const g=$t(xr(t),i),y=rt(d=>{const n=f.current;f.current=!1;const x=Fe(i.current);if(!l.current||!i.current||"clientX"in d&&ao(d,x))return;if(h.current){h.current=!1;return}let S;d.composedPath?S=d.composedPath().includes(i.current):S=!x.documentElement.contains(d.target)||i.current.contains(d.target),!S&&(r||!n)&&a(d)}),b=d=>n=>{f.current=!0;const x=t.props[d];x&&x(n)},v={ref:g};return c!==!1&&(v[c]=b(c)),N.useEffect(()=>{if(c!==!1){const d=It(c),n=Fe(i.current),x=()=>{h.current=!0};return n.addEventListener(d,y),n.addEventListener("touchmove",x),()=>{n.removeEventListener(d,y),n.removeEventListener("touchmove",x)}}},[y,c]),o!==!1&&(v[o]=b(o)),N.useEffect(()=>{if(o!==!1){const d=It(o),n=Fe(i.current);return n.addEventListener(d,y),()=>{n.removeEventListener(d,y)}}},[y,o]),N.cloneElement(t,v)}function lo(e,t,r=(o,a)=>o===a){return e.length===t.length&&e.every((o,a)=>r(o,t[a]))}const co=2;function We(e,t,r,o,a){return r===1?Math.min(e+t,a):Math.max(e-t,o)}function ar(e,t){return e-t}function Dt(e,t){const{index:r}=e.reduce((o,a,c)=>{const h=Math.abs(t-a);return o===null||h<o.distance||h===o.distance?{distance:h,index:c}:o},null)??{};return r}function Je(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let o=0;o<r.changedTouches.length;o+=1){const a=r.changedTouches[o];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function ct(e,t,r){return(e-t)*100/(r-t)}function uo(e,t,r){return(r-t)*e+t}function fo(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),o=r[0].split(".")[1];return(o?o.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function po(e,t,r){const o=Math.round((e-r)/t)*t+r;return Number(o.toFixed(fo(t)))}function _t({values:e,newValue:t,index:r}){const o=e.slice();return o[r]=t,o.sort(ar)}function Qe({sliderRef:e,activeIndex:t,setActive:r}){var a,c,h;const o=Fe(e.current);(!((a=e.current)!=null&&a.contains(o.activeElement))||Number((c=o==null?void 0:o.activeElement)==null?void 0:c.getAttribute("data-index"))!==t)&&((h=e.current)==null||h.querySelector(`[type="range"][data-index="${t}"]`).focus()),r&&r(t)}function et(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?lo(e,t):!1}const ho={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},mo=e=>e;let tt;function Nt(){return tt===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?tt=CSS.supports("touch-action","none"):tt=!0),tt}function go(e){const{"aria-labelledby":t,defaultValue:r,disabled:o=!1,disableSwap:a=!1,isRtl:c=!1,marks:h=!1,max:i=100,min:l=0,name:f,onChange:g,onChangeCommitted:y,orientation:b="horizontal",rootRef:v,scale:d=mo,step:n=1,shiftStep:x=10,tabIndex:S,value:P}=e,M=N.useRef(void 0),[A,T]=N.useState(-1),[C,m]=N.useState(-1),[u,R]=N.useState(!1),$=N.useRef(0),L=N.useRef(null),[O,j]=zr({controlled:P,default:r??l,name:"Slider"}),k=g&&((p,w,E)=>{const V=p.nativeEvent||p,U=new V.constructor(V.type,V);Object.defineProperty(U,"target",{writable:!0,value:{value:w,name:f}}),L.current=w,g(U,w,E)}),B=Array.isArray(O);let F=B?O.slice().sort(ar):[O];F=F.map(p=>p==null?l:He(p,l,i));const Y=h===!0&&n!==null?[...Array(Math.floor((i-l)/n)+1)].map((p,w)=>({value:l+n*w})):h||[],I=Y.map(p=>p.value),[H,G]=N.useState(-1),_=N.useRef(null),q=$t(v,_),ee=p=>w=>{var V;const E=Number(w.currentTarget.getAttribute("data-index"));At(w.target)&&G(E),m(E),(V=p==null?void 0:p.onFocus)==null||V.call(p,w)},ie=p=>w=>{var E;At(w.target)||G(-1),m(-1),(E=p==null?void 0:p.onBlur)==null||E.call(p,w)},ue=(p,w)=>{const E=Number(p.currentTarget.getAttribute("data-index")),V=F[E],U=I.indexOf(V);let z=w;if(Y&&n==null){const ae=I[I.length-1];z>=ae?z=ae:z<=I[0]?z=I[0]:z=z<V?I[U-1]:I[U+1]}if(z=He(z,l,i),B){a&&(z=He(z,F[E-1]||-1/0,F[E+1]||1/0));const ae=z;z=_t({values:F,newValue:z,index:E});let fe=E;a||(fe=z.indexOf(ae)),Qe({sliderRef:_,activeIndex:fe})}j(z),G(E),k&&!et(z,O)&&k(p,z,E),y&&y(p,L.current??z)},D=p=>w=>{var E;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(w.key)){w.preventDefault();const V=Number(w.currentTarget.getAttribute("data-index")),U=F[V];let z=null;if(n!=null){const ae=w.shiftKey?x:n;switch(w.key){case"ArrowUp":z=We(U,ae,1,l,i);break;case"ArrowRight":z=We(U,ae,c?-1:1,l,i);break;case"ArrowDown":z=We(U,ae,-1,l,i);break;case"ArrowLeft":z=We(U,ae,c?1:-1,l,i);break;case"PageUp":z=We(U,x,1,l,i);break;case"PageDown":z=We(U,x,-1,l,i);break;case"Home":z=l;break;case"End":z=i;break}}else if(Y){const ae=I[I.length-1],fe=I.indexOf(U),re=[c?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],be=[c?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];re.includes(w.key)?fe===0?z=I[0]:z=I[fe-1]:be.includes(w.key)&&(fe===I.length-1?z=ae:z=I[fe+1])}z!=null&&ue(w,z)}(E=p==null?void 0:p.onKeyDown)==null||E.call(p,w)};yr(()=>{var p;o&&_.current.contains(document.activeElement)&&((p=document.activeElement)==null||p.blur())},[o]),o&&A!==-1&&T(-1),o&&H!==-1&&G(-1);const K=p=>w=>{var E;(E=p.onChange)==null||E.call(p,w),ue(w,w.target.valueAsNumber)},X=N.useRef(void 0);let se=b;c&&b==="horizontal"&&(se+="-reverse");const te=({finger:p,move:w=!1})=>{const{current:E}=_,{width:V,height:U,bottom:z,left:ae}=E.getBoundingClientRect();let fe;se.startsWith("vertical")?fe=(z-p.y)/U:fe=(p.x-ae)/V,se.includes("-reverse")&&(fe=1-fe);let re;if(re=uo(fe,l,i),n)re=po(re,n,l);else{const Ye=Dt(I,re);re=I[Ye]}re=He(re,l,i);let be=0;if(B){w?be=X.current:be=Dt(F,re),a&&(re=He(re,F[be-1]||-1/0,F[be+1]||1/0));const Ye=re;re=_t({values:F,newValue:re,index:be}),a&&w||(be=re.indexOf(Ye),X.current=be)}return{newValue:re,activeIndex:be}},le=rt(p=>{const w=Je(p,M);if(!w)return;if($.current+=1,p.type==="mousemove"&&p.buttons===0){ce(p);return}const{newValue:E,activeIndex:V}=te({finger:w,move:!0});Qe({sliderRef:_,activeIndex:V,setActive:T}),j(E),!u&&$.current>co&&R(!0),k&&!et(E,O)&&k(p,E,V)}),ce=rt(p=>{const w=Je(p,M);if(R(!1),!w)return;const{newValue:E}=te({finger:w,move:!0});T(-1),p.type==="touchend"&&m(-1),y&&y(p,L.current??E),M.current=void 0,pe()}),J=rt(p=>{if(o)return;Nt()||p.preventDefault();const w=p.changedTouches[0];w!=null&&(M.current=w.identifier);const E=Je(p,M);if(E!==!1){const{newValue:U,activeIndex:z}=te({finger:E});Qe({sliderRef:_,activeIndex:z,setActive:T}),j(U),k&&!et(U,O)&&k(p,U,z)}$.current=0;const V=Fe(_.current);V.addEventListener("touchmove",le,{passive:!0}),V.addEventListener("touchend",ce,{passive:!0})}),pe=N.useCallback(()=>{const p=Fe(_.current);p.removeEventListener("mousemove",le),p.removeEventListener("mouseup",ce),p.removeEventListener("touchmove",le),p.removeEventListener("touchend",ce)},[ce,le]);N.useEffect(()=>{const{current:p}=_;return p.addEventListener("touchstart",J,{passive:Nt()}),()=>{p.removeEventListener("touchstart",J),pe()}},[pe,J]),N.useEffect(()=>{o&&pe()},[o,pe]);const De=p=>w=>{var U;if((U=p.onMouseDown)==null||U.call(p,w),o||w.defaultPrevented||w.button!==0)return;w.preventDefault();const E=Je(w,M);if(E!==!1){const{newValue:z,activeIndex:ae}=te({finger:E});Qe({sliderRef:_,activeIndex:ae,setActive:T}),j(z),k&&!et(z,O)&&k(w,z,ae)}$.current=0;const V=Fe(_.current);V.addEventListener("mousemove",le,{passive:!0}),V.addEventListener("mouseup",ce)},Me=ct(B?F[0]:l,l,i),Z=ct(F[F.length-1],l,i)-Me,ge=(p={})=>{const w=mt(p),E={onMouseDown:De(w||{})},V={...w,...E};return{...p,ref:q,...V}},xe=p=>w=>{var V;(V=p.onMouseOver)==null||V.call(p,w);const E=Number(w.currentTarget.getAttribute("data-index"));m(E)},ye=p=>w=>{var E;(E=p.onMouseLeave)==null||E.call(p,w),m(-1)},ke=(p={})=>{const w=mt(p),E={onMouseOver:xe(w||{}),onMouseLeave:ye(w||{})};return{...p,...w,...E}},_e=p=>({pointerEvents:A!==-1&&A!==p?"none":void 0});let he;return b==="vertical"&&(he=c?"vertical-rl":"vertical-lr"),{active:A,axis:se,axisProps:ho,dragging:u,focusedThumbIndex:H,getHiddenInputProps:(p={})=>{const w=mt(p),E={onChange:K(w||{}),onFocus:ee(w||{}),onBlur:ie(w||{}),onKeyDown:D(w||{})},V={...w,...E};return{tabIndex:S,"aria-labelledby":t,"aria-orientation":b,"aria-valuemax":d(i),"aria-valuemin":d(l),name:f,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:o,...p,...V,style:{...Tr,direction:c?"rtl":"ltr",width:"100%",height:"100%",writingMode:he}}},getRootProps:ge,getThumbProps:ke,marks:Y,open:C,range:B,rootRef:q,trackLeap:Z,trackOffset:Me,values:F,getThumbStyle:_e}}const bo=e=>!e||!ot(e);function vo(e){return qe("MuiSlider",e)}const ve=Xe("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),xo=e=>{const{open:t}=e;return{offset:Ee(t&&ve.valueLabelOpen),circle:ve.valueLabelCircle,label:ve.valueLabelLabel}};function yo(e){const{children:t,className:r,value:o}=e,a=xo(e);return t?N.cloneElement(t,{className:t.props.className},s.jsxs(N.Fragment,{children:[t.props.children,s.jsx("span",{className:Ee(a.offset,r),"aria-hidden":!0,children:s.jsx("span",{className:a.circle,children:s.jsx("span",{className:a.label,children:o})})})]})):null}function Ft(e){return e}const So=ne("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${oe(r.color)}`],r.size!=="medium"&&t[`size${oe(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(ze(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${ve.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ve.dragging}`]:{[`& .${ve.thumb}, & .${ve.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Co=ne("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),wo=ne("span",{name:"MuiSlider",slot:"Track"})(ze(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),ko=ne("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${oe(r.color)}`],r.size!=="medium"&&t[`thumbSize${oe(r.size)}`]]}})(ze(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${ve.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${ve.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ve.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),$o=ne(yo,{name:"MuiSlider",slot:"ValueLabel"})(ze(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${ve.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${ve.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),jo=ne("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Yt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(ze(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Mo=ne("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Yt(e)&&e!=="markLabelActive"})(ze(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),To=e=>{const{disabled:t,dragging:r,marked:o,orientation:a,track:c,classes:h,color:i,size:l}=e,f={root:["root",t&&"disabled",r&&"dragging",o&&"marked",a==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",i&&`color${oe(i)}`,l&&`size${oe(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${oe(l)}`,i&&`thumbColor${oe(i)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ze(f,vo,h)},Ro=({children:e})=>e,Lo=N.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiSlider"}),a=Sr(),{"aria-label":c,"aria-valuetext":h,"aria-labelledby":i,component:l="span",components:f={},componentsProps:g={},color:y="primary",classes:b,className:v,disableSwap:d=!1,disabled:n=!1,getAriaLabel:x,getAriaValueText:S,marks:P=!1,max:M=100,min:A=0,name:T,onChange:C,onChangeCommitted:m,orientation:u="horizontal",shiftStep:R=10,size:$="medium",step:L=1,scale:O=Ft,slotProps:j,slots:k,tabIndex:B,track:F="normal",value:Y,valueLabelDisplay:I="off",valueLabelFormat:H=Ft,...G}=o,_={...o,isRtl:a,max:M,min:A,classes:b,disabled:n,disableSwap:d,orientation:u,marks:P,color:y,size:$,step:L,shiftStep:R,scale:O,track:F,valueLabelDisplay:I,valueLabelFormat:H},{axisProps:q,getRootProps:ee,getHiddenInputProps:ie,getThumbProps:ue,open:D,active:K,axis:X,focusedThumbIndex:se,range:te,dragging:le,marks:ce,values:J,trackOffset:pe,trackLeap:De,getThumbStyle:Me}=go({..._,rootRef:r});_.marked=ce.length>0&&ce.some(Q=>Q.label),_.dragging=le,_.focusedThumbIndex=se;const Z=To(_),ge=(k==null?void 0:k.root)??f.Root??So,xe=(k==null?void 0:k.rail)??f.Rail??Co,ye=(k==null?void 0:k.track)??f.Track??wo,ke=(k==null?void 0:k.thumb)??f.Thumb??ko,_e=(k==null?void 0:k.valueLabel)??f.ValueLabel??$o,he=(k==null?void 0:k.mark)??f.Mark??jo,Se=(k==null?void 0:k.markLabel)??f.MarkLabel??Mo,p=(k==null?void 0:k.input)??f.Input??"input",w=(j==null?void 0:j.root)??g.root,E=(j==null?void 0:j.rail)??g.rail,V=(j==null?void 0:j.track)??g.track,U=(j==null?void 0:j.thumb)??g.thumb,z=(j==null?void 0:j.valueLabel)??g.valueLabel,ae=(j==null?void 0:j.mark)??g.mark,fe=(j==null?void 0:j.markLabel)??g.markLabel,re=(j==null?void 0:j.input)??g.input,be=Te({elementType:ge,getSlotProps:ee,externalSlotProps:w,externalForwardedProps:G,additionalProps:{...bo(ge)&&{as:l}},ownerState:{..._,...w==null?void 0:w.ownerState},className:[Z.root,v]}),Ye=Te({elementType:xe,externalSlotProps:E,ownerState:_,className:Z.rail}),ur=Te({elementType:ye,externalSlotProps:V,additionalProps:{style:{...q[X].offset(pe),...q[X].leap(De)}},ownerState:{..._,...V==null?void 0:V.ownerState},className:Z.track}),ut=Te({elementType:ke,getSlotProps:ue,externalSlotProps:U,ownerState:{..._,...U==null?void 0:U.ownerState},className:Z.thumb}),fr=Te({elementType:_e,externalSlotProps:z,ownerState:{..._,...z==null?void 0:z.ownerState},className:Z.valueLabel}),ft=Te({elementType:he,externalSlotProps:ae,ownerState:_,className:Z.mark}),pt=Te({elementType:Se,externalSlotProps:fe,ownerState:_,className:Z.markLabel}),pr=Te({elementType:p,getSlotProps:ie,externalSlotProps:re,ownerState:_});return s.jsxs(ge,{...be,children:[s.jsx(xe,{...Ye}),s.jsx(ye,{...ur}),ce.filter(Q=>Q.value>=A&&Q.value<=M).map((Q,de)=>{const ht=ct(Q.value,A,M),Ge=q[X].offset(ht);let $e;return F===!1?$e=J.includes(Q.value):$e=F==="normal"&&(te?Q.value>=J[0]&&Q.value<=J[J.length-1]:Q.value<=J[0])||F==="inverted"&&(te?Q.value<=J[0]||Q.value>=J[J.length-1]:Q.value>=J[0]),s.jsxs(N.Fragment,{children:[s.jsx(he,{"data-index":de,...ft,...!ot(he)&&{markActive:$e},style:{...Ge,...ft.style},className:Ee(ft.className,$e&&Z.markActive)}),Q.label!=null?s.jsx(Se,{"aria-hidden":!0,"data-index":de,...pt,...!ot(Se)&&{markLabelActive:$e},style:{...Ge,...pt.style},className:Ee(Z.markLabel,pt.className,$e&&Z.markLabelActive),children:Q.label}):null]},de)}),J.map((Q,de)=>{const ht=ct(Q,A,M),Ge=q[X].offset(ht),$e=I==="off"?Ro:_e;return s.jsx($e,{...!ot($e)&&{valueLabelFormat:H,valueLabelDisplay:I,value:typeof H=="function"?H(O(Q),de):H,index:de,open:D===de||K===de||I==="on",disabled:n},...fr,children:s.jsx(ke,{"data-index":de,...ut,className:Ee(Z.thumb,ut.className,K===de&&Z.active,se===de&&Z.focusVisible),style:{...Ge,...Me(de),...ut.style},children:s.jsx(p,{"data-index":de,"aria-label":x?x(de):c,"aria-valuenow":O(Q),"aria-labelledby":i,"aria-valuetext":S?S(O(Q),de):h,value:J[de],...pr})})},de)})]})});async function ir(){const e=new Set((await we.targets.toArray()).map(t=>t.subject));return Object.keys(at).filter(t=>!e.has(t))}const Ue=[xt[900],xt[500],Ht[500],Rr[500],Ut[500]],Mt=e=>e>=8?Ue[4]:e>=6.5?Ue[3]:e>=5?Ue[2]:e>=3.5?Ue[1]:Ue[0];function Tt(e){const t=Ie.c(30),{score:r,size:o,sx:a,isColor:c,subTitle:h}=e,i=r===void 0?0:r,l=o===void 0?40:o;let f;t[0]!==l||t[1]!==a?(f={position:"relative",width:l,aspectRatio:"1 / 1",display:"inline-flex",alignItems:"center",justifyContent:"center",...a},t[0]=l,t[1]=a,t[2]=f):f=t[2];const g=Math.min(l/4,16);let y;t[3]!==g?(y={fontSize:g},t[3]=g,t[4]=y):y=t[4];let b;t[5]!==i?(b=i.toFixed(2),t[5]=i,t[6]=b):b=t[6];let v;t[7]!==y||t[8]!==b?(v=s.jsx(me,{sx:y,children:b}),t[7]=y,t[8]=b,t[9]=v):v=t[9];let d;t[10]!==l||t[11]!==h?(d=h&&s.jsx(me,{sx:{opacity:.4,fontSize:Math.max(l/5.5,12)},children:h}),t[10]=l,t[11]=h,t[12]=d):d=t[12];let n;t[13]!==v||t[14]!==d?(n=s.jsxs(Be,{children:[v,d]}),t[13]=v,t[14]=d,t[15]=n):n=t[15];let x;t[16]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Pt,{sx:{color:"divider",position:"absolute",top:0,left:0,"& circle":{strokeLinecap:"round"}},variant:"determinate",value:100,size:"100%"}),t[16]=x):x=t[16];let S;t[17]!==c||t[18]!==i?(S=c?Mt(i):void 0,t[17]=c,t[18]=i,t[19]=S):S=t[19];let P;t[20]===Symbol.for("react.memo_cache_sentinel")?(P={strokeLinecap:"round"},t[20]=P):P=t[20];let M;t[21]!==S?(M={color:S,position:"absolute",top:0,left:0,"& circle":P},t[21]=S,t[22]=M):M=t[22];const A=i*10;let T;t[23]!==M||t[24]!==A?(T=s.jsx(Pt,{sx:M,variant:"determinate",value:A,size:"100%"}),t[23]=M,t[24]=A,t[25]=T):T=t[25];let C;return t[26]!==T||t[27]!==f||t[28]!==n?(C=s.jsxs(me,{sx:f,children:[n,x,T]}),t[26]=T,t[27]=f,t[28]=n,t[29]=C):C=t[29],C}const Ao=(e,t)=>{let r="transparent";return t>10&&(r="error.main"),e<t&&(r="warning.main"),t===0&&(r="primary.main"),r};function Po(e){const t=Ie.c(16),{target:r,require:o,avg:a}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=W("You can achieve the target"),t[0]=c):c=t[0];let h=c,i="text.secondary";if(o>10){let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=W("Cannot achieve the target"),t[1]=n):n=t[1],h=n,i="error.main"}if(r<o){let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=W("It is quite hard to reach the target"),t[2]=n):n=t[2],h=n,i="warning.main"}o===0&&(i="primary.main");let l;t[3]!==i?(l={color:i},t[3]=i,t[4]=l):l=t[4];const f=h;let g;t[5]!==a?(g=a.toFixed(2),t[5]=a,t[6]=g):g=t[6];let y;t[7]!==r?(y=r.toFixed(2),t[7]=r,t[8]=y):y=t[8];let b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("br",{}),t[9]=b):b=t[9];const v=o!==0&&W("require score")+" "+o.toFixed(2);let d;return t[10]!==h||t[11]!==l||t[12]!==g||t[13]!==y||t[14]!==v?(d=s.jsxs(Pe,{variant:"caption",sx:l,children:[f," ",g,"/",y," ",b,v]}),t[10]=h,t[11]=l,t[12]=g,t[13]=y,t[14]=v,t[15]=d):d=t[15],d}function Oo(e){const t=Ie.c(43),{target:r,handleEdit:o,onClickExams:a}=e,c=at[r.subject];let h;t[0]!==r.requiredAvg||t[1]!==r.score?(h=Ao(r.score,r.requiredAvg),t[0]=r.requiredAvg,t[1]=r.score,t[2]=h):h=t[2];const i=h,l=r.score!==0?i:"transparent";let f;t[3]!==l?(f={borderRadius:2,outline:1,outlineColor:l},t[3]=l,t[4]=f):f=t[4];let g;t[5]!==c.color?(g=R=>R.palette.getContrastText(c.color),t[5]=c.color,t[6]=g):g=t[6];let y;t[7]!==c.color||t[8]!==g?(y={bgcolor:c.color,color:g},t[7]=c.color,t[8]=g,t[9]=y):y=t[9];const b=c.icon;let v;t[10]!==b?(v=s.jsx(Ce,{icon:b}),t[10]=b,t[11]=v):v=t[11];let d;t[12]!==y||t[13]!==v?(d=s.jsx(qt,{sx:y,children:v}),t[12]=y,t[13]=v,t[14]=d):d=t[14];let n;t[15]!==r.requiredAvg||t[16]!==r.score||t[17]!==r.target?(n=s.jsx(Po,{avg:r.score,target:r.target,require:r.requiredAvg}),t[15]=r.requiredAvg,t[16]=r.score,t[17]=r.target,t[18]=n):n=t[18];let x;t[19]!==o||t[20]!==r.id?(x=()=>o(r.id),t[19]=o,t[20]=r.id,t[21]=x):x=t[21];let S;t[22]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(Ce,{icon:"solar:pen-bold"}),t[22]=S):S=t[22];let P;t[23]!==x?(P=s.jsx($r,{onClick:x,children:S}),t[23]=x,t[24]=P):P=t[24];let M;t[25]===Symbol.for("react.memo_cache_sentinel")?(M={px:3,pt:2},t[25]=M):M=t[25];let A;t[26]!==c.name||t[27]!==P||t[28]!==d||t[29]!==n?(A=s.jsx(so,{avatar:d,title:c.name,subheader:n,action:P,sx:M}),t[26]=c.name,t[27]=P,t[28]=d,t[29]=n,t[30]=A):A=t[30];let T;t[31]!==r.exams?(T=Object.entries(r.exams),t[31]=r.exams,t[32]=T):T=t[32];let C;t[33]!==a||t[34]!==T||t[35]!==r.subject?(C=s.jsx(Be,{pb:2,children:s.jsx(me,{display:"flex",children:T.map(R=>{const[$,L]=R;return s.jsxs(Be,{spacing:2,width:.3333333,px:1,children:[s.jsxs(Cr,{onClick:()=>a($),sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",py:1,borderRadius:1,transition:"all .2s ease-in-out","&:hover":{bgcolor:"action.hover"}},children:[s.jsx(Ct,{sx:{color:Oe[$].color,bgcolor:yt(Oe[$].color).alpha(.08).string(),fontWeight:"bold",textWrap:"wrap",fontSize:12},icon:s.jsx(Ce,{color:Oe[$].color,icon:Oe[$].icon}),label:$}),s.jsx(Xr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiBadge-badge":{boxShadow:Io,bgcolor:zo,color:Eo,borderColor:"divider",borderWidth:1}},badgeContent:`x${L.weight}`,children:s.jsx(Tt,{subTitle:`${Math.round(L.percent*100)/100}%`,sx:{mt:2},size:60,score:L.avg,isColor:!0})}),s.jsxs(Pe,{variant:"caption",sx:{opacity:.6,my:1},children:[L.count,"/",L.target," - (",L.count/L.target*100,"%)"]}),s.jsx(wr,{sx:{width:.8,borderRadius:1,height:6},variant:"determinate",value:L.count/L.target*100})]}),s.jsx(Ve,{sx:{alignSelf:"center"},size:"small",variant:"outlined",startIcon:s.jsx(Ce,{icon:"solar:calendar-bold"}),LinkComponent:kr,href:`/calendar?exam=${$}&subject=${r.subject}&back=/`,children:W("Schedule")})]},$)})})}),t[33]=a,t[34]=T,t[35]=r.subject,t[36]=C):C=t[36];let m;t[37]!==A||t[38]!==C?(m=s.jsxs(Jr,{children:[A,C]}),t[37]=A,t[38]=C,t[39]=m):m=t[39];let u;return t[40]!==m||t[41]!==f?(u=s.jsx(me,{sx:f,children:m}),t[40]=m,t[41]=f,t[42]=u):u=t[42],u}function Eo(e){return e.vars.palette.text.primary}function zo(e){return e.vars.palette.background.default}function Io(e){return e.vars.customShadows.z8}const Do=(e,t)=>{if(e<=0)return t>0?1/0:100;if(t<0)return 0;const r=t/e;return Math.round(r*100*10)/10},_o=async()=>{const[e,t]=await Promise.all([we.scores.toArray(),we.targets.toArray()]),r=new Map;for(const o of e){let a=r.get(o.subject);a||(a=Ne.reduce((c,h)=>c.set(h,[]),new Map),r.set(o.subject,a)),a.get(o.exams).push(o.score)}return t.map(o=>{const a=r.get(o.subject),c=a?Object.fromEntries(Ne.map(b=>[b,a.get(b)??[]])):Ne.reduce((b,v)=>(b[v]=[],b),{});let h=0,i=0,l=0;Ne.forEach(b=>{const v=c[b],d=Oe[b].weight,n=v.length;if(n>0){const x=v.reduce((S,P)=>S+P,0)/n;h+=x*n*d,i+=n*d}else l+=d});const f=i>0?h/i:0;let g=0;l>0&&(g=(o.target*(i+l)-h)/l);const y=Object.fromEntries(Ne.map(b=>{const v=c[b],d=v.length,n=d>0?v.reduce((x,S)=>x+S,0)/d:0;return[b,{target:o.exams[b],count:d,weight:Oe[b].weight,avg:d>0?n:0,isMissing:d===0,percent:Do(o.target,d>0?n:0)}]}));return{id:o.id,subject:o.subject,target:o.target,score:f,exams:y,countExams:Object.values(y).reduce((b,v)=>b+v.count,0),requiredAvg:g,missingExams:Ne.filter(b=>c[b].length===0),color:g>10?xt[500]:g>o.target?Ht[500]:Ut[500]}})},No=async(e,t)=>{var a;if(!t||!e)return{scores:[],totalScore:0};const r=await we.scores.where({subject:t,exams:e}).toArray(),o=(a=await we.targets.where({subject:t}).first())==null?void 0:a.exams[e];return{scores:r,totalScore:o}},lr=N.forwardRef((e,t)=>{const r=Ie.c(18),{value:o,onChange:a,height:c,disabled:h,sx:i}=e,l=c===void 0?8:c;let f;r[0]!==i?(f={px:2,...i},r[0]=i,r[1]=f):f=r[1];let g;r[2]!==a?(g=(n,x)=>a==null?void 0:a(x),r[2]=a,r[3]=g):g=r[3];let y;r[4]!==o?(y=Mt(o),r[4]=o,r[5]=y):y=r[5];let b;r[6]!==l||r[7]!==y?(b={color:y,height:l},r[6]=l,r[7]=y,r[8]=b):b=r[8];let v;r[9]!==h||r[10]!==t||r[11]!==g||r[12]!==b||r[13]!==o?(v=s.jsx(Lo,{ref:t,disabled:h,min:0,max:10,value:o,step:.25,marks:Vo,className:"slider-score",onChange:g,sx:b}),r[9]=h,r[10]=t,r[11]=g,r[12]=b,r[13]=o,r[14]=v):v=r[14];let d;return r[15]!==f||r[16]!==v?(d=s.jsx(me,{sx:f,children:v}),r[15]=f,r[16]=v,r[17]=d):d=r[17],d}),Fo=[0,2,3.5,5,6.5,8,10],Vo=Fo.map(e=>({value:e,label:e.toFixed(1)})),Bo=N.forwardRef((e,t)=>{const[r,o]=N.useState(!1),[a,c]=N.useState(!1);return s.jsx(io,{onClickAway:()=>r&&o(!1),children:s.jsxs(Ve,{ref:t,...e,sx:{minWidth:"unset",minHeight:36,...e.sx},color:r?"error":"inherit",onClick:async()=>{if(r)try{c(!0),await e.onDelete()}finally{o(!1),c(!1)}else o(!0)},loading:a,children:[s.jsx(Ce,{icon:"solar:trash-bin-trash-bold"}),s.jsx(kt,{in:r,orientation:"horizontal",unmountOnExit:!0,mountOnEnter:!0,sx:{textWrap:"nowrap",mx:r?.5:0},children:e.children||"Click to delete"})]})})}),cr=Xt(e=>({open:!1,setOpen:t=>e({open:t})})),je=Qt();function Wo(){const e=Ie.c(56),{open:t,setOpen:r}=cr(),{isSubmitSuccessful:o,isLoading:a}=er(je),c=St(ir)??[];let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={control:je.control,name:["id"]},e[0]=h):h=e[0];const[i]=tr(h);let l,f;e[1]!==i?(l=async()=>{if(!i)return;const q=await we.scores.where({subject:je.getValues("subject")}).toArray();return Ne.reduce((ee,ie)=>(ee[ie]=q.filter(ue=>ue.exams===ie).length,ee),{})},f=[i],e[1]=i,e[2]=l,e[3]=f):(l=e[2],f=e[3]);const g=St(l,f);let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=je.handleSubmit(Ho),e[4]=y):y=e[4];const b=y;let v,d;e[5]!==o||e[6]!==t||e[7]!==r?(v=()=>{o&&t&&r(!1)},d=[o,t,r],e[5]=o,e[6]=t,e[7]=r,e[8]=v,e[9]=d):(v=e[8],d=e[9]),N.useEffect(v,d);let n;e[10]!==i?(n=i?W("Update target"):W("Add target"),e[10]=i,e[11]=n):n=e[11];let x;e[12]!==n?(x=s.jsx(rr,{children:n}),e[12]=n,e[13]=x):x=e[13];let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={px:2},e[14]=S):S=e[14];let P;e[15]!==c?(P=s.jsx(Lr,{subjectList:c,control:je.control}),e[15]=c,e[16]=P):P=e[16];let M;e[17]===Symbol.for("react.memo_cache_sentinel")?(M={border:1,borderColor:"divider",borderRadius:1,p:0,position:"relative"},e[17]=M):M=e[17];let A,T;e[18]===Symbol.for("react.memo_cache_sentinel")?(A={mr:-1},T=Object.keys(Oe),e[18]=A,e[19]=T):(A=e[18],T=e[19]);let C;e[20]!==g?(C=s.jsx(jr,{sx:A,children:T.map(q=>s.jsxs(Ar,{value:q,children:[s.jsx(Pr,{children:q}),s.jsx(it,{control:je.control,name:`exams.${q}`,render:ee=>{const{field:ie}=ee;return s.jsx(Or,{min:g?g[q]:0,...ie})}})]},q))}),e[20]=g,e[21]=C):C=e[21];let m;e[22]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(wt,{children:W("Exam count")}),e[22]=m):m=e[22];let u;e[23]!==C?(u=s.jsxs(me,{sx:M,children:[C,m]}),e[23]=C,e[24]=u):u=e[24];let R;e[25]===Symbol.for("react.memo_cache_sentinel")?(R={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[25]=R):R=e[25];let $;e[26]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(me,{sx:R,children:[s.jsx(wt,{children:W("Target score")}),s.jsx(it,{control:je.control,name:"target",render:Yo})]}),e[26]=$):$=e[26];let L;e[27]!==u||e[28]!==P?(L=s.jsx(or,{dividers:!0,sx:S,children:s.jsxs(Be,{spacing:2,children:[P,u,$]})}),e[27]=u,e[28]=P,e[29]=L):L=e[29];let O;e[30]!==i||e[31]!==r?(O=i&&s.jsx(Bo,{sx:{mr:"auto"},onDelete:async()=>{await we.targets.delete(i),r(!1),Kt.success(W("Delete target successfully"))},children:W("Delete target")}),e[30]=i,e[31]=r,e[32]=O):O=e[32];let j;e[33]!==r?(j=()=>r(!1),e[33]=r,e[34]=j):j=e[34];let k;e[35]===Symbol.for("react.memo_cache_sentinel")?(k=W("Close"),e[35]=k):k=e[35];let B;e[36]!==a||e[37]!==j?(B=s.jsx(Ve,{disabled:a,onClick:j,children:k}),e[36]=a,e[37]=j,e[38]=B):B=e[38];const F=i?"solar:diskette-bold":"solar:cup-star-bold";let Y;e[39]!==F?(Y=s.jsx(Ce,{icon:F}),e[39]=F,e[40]=Y):Y=e[40];let I;e[41]!==i?(I=i?W("Update target"):W("Create target"),e[41]=i,e[42]=I):I=e[42];let H;e[43]!==a||e[44]!==Y||e[45]!==I?(H=s.jsx(Ve,{loading:a,variant:"contained",color:"primary",startIcon:Y,onClick:b,children:I}),e[43]=a,e[44]=Y,e[45]=I,e[46]=H):H=e[46];let G;e[47]!==O||e[48]!==B||e[49]!==H?(G=s.jsxs(nr,{children:[O,B,H]}),e[47]=O,e[48]=B,e[49]=H,e[50]=G):G=e[50];let _;return e[51]!==t||e[52]!==L||e[53]!==G||e[54]!==x?(_=s.jsxs(sr,{open:t,fullWidth:!0,maxWidth:"xs",children:[x,L,G]}),e[51]=t,e[52]=L,e[53]=G,e[54]=x,e[55]=_):_=e[55],_}function Yo(e){const{field:t}=e;return s.jsxs(me,{width:1,display:"flex",mt:2,children:[s.jsx(me,{children:s.jsx(Tt,{score:t.value,isColor:!0})}),s.jsx(lr,{sx:{flex:1},...t})]})}async function Ho(e){await we.targets.put(e),Kt.success(W("Add target successfully"))}var nt={exports:{}},Uo=nt.exports,Vt;function qo(){return Vt||(Vt=1,(function(e,t){(function(r,o){e.exports=o()})(Uo,(function(){var r,o,a=1e3,c=6e4,h=36e5,i=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,g=2628e6,y=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:f,months:g,days:i,hours:h,minutes:c,seconds:a,milliseconds:1,weeks:6048e5},v=function(C){return C instanceof A},d=function(C,m,u){return new A(C,u,m.$l)},n=function(C){return o.p(C)+"s"},x=function(C){return C<0},S=function(C){return x(C)?Math.ceil(C):Math.floor(C)},P=function(C){return Math.abs(C)},M=function(C,m){return C?x(C)?{negative:!0,format:""+P(C)+m}:{negative:!1,format:""+C+m}:{negative:!1,format:""}},A=(function(){function C(u,R,$){var L=this;if(this.$d={},this.$l=$,u===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return d(u*b[n(R)],this);if(typeof u=="number")return this.$ms=u,this.parseFromMilliseconds(),this;if(typeof u=="object")return Object.keys(u).forEach((function(k){L.$d[n(k)]=u[k]})),this.calMilliseconds(),this;if(typeof u=="string"){var O=u.match(y);if(O){var j=O.slice(2).map((function(k){return k!=null?Number(k):0}));return this.$d.years=j[0],this.$d.months=j[1],this.$d.weeks=j[2],this.$d.days=j[3],this.$d.hours=j[4],this.$d.minutes=j[5],this.$d.seconds=j[6],this.calMilliseconds(),this}}return this}var m=C.prototype;return m.calMilliseconds=function(){var u=this;this.$ms=Object.keys(this.$d).reduce((function(R,$){return R+(u.$d[$]||0)*b[$]}),0)},m.parseFromMilliseconds=function(){var u=this.$ms;this.$d.years=S(u/f),u%=f,this.$d.months=S(u/g),u%=g,this.$d.days=S(u/i),u%=i,this.$d.hours=S(u/h),u%=h,this.$d.minutes=S(u/c),u%=c,this.$d.seconds=S(u/a),u%=a,this.$d.milliseconds=u},m.toISOString=function(){var u=M(this.$d.years,"Y"),R=M(this.$d.months,"M"),$=+this.$d.days||0;this.$d.weeks&&($+=7*this.$d.weeks);var L=M($,"D"),O=M(this.$d.hours,"H"),j=M(this.$d.minutes,"M"),k=this.$d.seconds||0;this.$d.milliseconds&&(k+=this.$d.milliseconds/1e3,k=Math.round(1e3*k)/1e3);var B=M(k,"S"),F=u.negative||R.negative||L.negative||O.negative||j.negative||B.negative,Y=O.format||j.format||B.format?"T":"",I=(F?"-":"")+"P"+u.format+R.format+L.format+Y+O.format+j.format+B.format;return I==="P"||I==="-P"?"P0D":I},m.toJSON=function(){return this.toISOString()},m.format=function(u){var R=u||"YYYY-MM-DDTHH:mm:ss",$={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return R.replace(l,(function(L,O){return O||String($[L])}))},m.as=function(u){return this.$ms/b[n(u)]},m.get=function(u){var R=this.$ms,$=n(u);return $==="milliseconds"?R%=1e3:R=$==="weeks"?S(R/b[$]):this.$d[$],R||0},m.add=function(u,R,$){var L;return L=R?u*b[n(R)]:v(u)?u.$ms:d(u,this).$ms,d(this.$ms+L*($?-1:1),this)},m.subtract=function(u,R){return this.add(u,R,!0)},m.locale=function(u){var R=this.clone();return R.$l=u,R},m.clone=function(){return d(this.$ms,this)},m.humanize=function(u){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!u)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},C})(),T=function(C,m,u){return C.add(m.years()*u,"y").add(m.months()*u,"M").add(m.days()*u,"d").add(m.hours()*u,"h").add(m.minutes()*u,"m").add(m.seconds()*u,"s").add(m.milliseconds()*u,"ms")};return function(C,m,u){r=u,o=u().$utils(),u.duration=function(L,O){var j=u.locale();return d(L,{$l:j},O)},u.isDuration=v;var R=m.prototype.add,$=m.prototype.subtract;m.prototype.add=function(L,O){return v(L)?T(this,L,1):R.bind(this)(L,O)},m.prototype.subtract=function(L,O){return v(L)?T(this,L,-1):$.bind(this)(L,O)}}}))})(nt)),nt.exports}var Xo=qo();const Ko=Zt(Xo);var st={exports:{}},Zo=st.exports,Bt;function Go(){return Bt||(Bt=1,(function(e,t){(function(r,o){e.exports=o()})(Zo,(function(){return function(r,o,a){r=r||{};var c=o.prototype,h={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(f,g,y,b){return c.fromToBase(f,g,y,b)}a.en.relativeTime=h,c.fromToBase=function(f,g,y,b,v){for(var d,n,x,S=y.$locale().relativeTime||h,P=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],M=P.length,A=0;A<M;A+=1){var T=P[A];T.d&&(d=b?a(f).diff(y,T.d,!0):y.diff(f,T.d,!0));var C=(r.rounding||Math.round)(Math.abs(d));if(x=d>0,C<=T.r||!T.r){C<=1&&A>0&&(T=P[A-1]);var m=S[T.l];v&&(C=v(""+C)),n=typeof m=="string"?m.replace("%d",C):m(C,g,T.l,x);break}}if(g)return n;var u=x?S.future:S.past;return typeof u=="function"?u(n):u.replace("%s",n)},c.to=function(f,g){return i(f,g,this,!0)},c.from=function(f,g){return i(f,g,this)};var l=function(f){return f.$u?a.utc():a()};c.toNow=function(f){return this.to(l(this),f)},c.fromNow=function(f){return this.from(l(this),f)}}}))})(st)),st.exports}var Jo=Go();const Qo=Zt(Jo);jt.extend(Ko);jt.extend(Qo);function en(e){const t=typeof e=="string"?new Date(e):e,o=Math.floor((new Date().getTime()-t.getTime())/1e3);if(o<60)return`${o} ${W("seconds ago")}`;const a=Math.floor(o/60);if(a<60)return`${a} ${W("minutes ago")}`;const c=Math.floor(a/60);if(c<24)return`${c} ${W("hours ago")}`;const h=Math.floor(c/24);if(h<30)return`${h} ${W("days ago")}`;const i=Math.floor(h/30);return i<12?`${i} ${W("months ago")};`:`${Math.floor(i/12)} ${W("years ago")}`}const vt={root:Ot("label__root"),icon:Ot("label__icon")},tn=ne("span",{shouldForwardProp:e=>!["color","variant","disabled","sx"].includes(e)})(({color:e,variant:t,disabled:r,theme:o})=>{const a={...e==="default"&&{...t==="filled"&&{color:o.vars.palette.common.white,backgroundColor:o.vars.palette.text.primary,...o.applyStyles("dark",{color:o.vars.palette.grey[800]})},...t==="outlined"&&{backgroundColor:"transparent",color:o.vars.palette.text.primary,border:`2px solid ${o.vars.palette.text.primary}`},...t==="soft"&&{color:o.vars.palette.text.secondary,backgroundColor:Et(o.vars.palette.grey["500Channel"],.16)},...t==="inverted"&&{color:o.vars.palette.grey[800],backgroundColor:o.vars.palette.grey[300]}}},c={...e&&e!=="default"&&{...t==="filled"&&{color:o.vars.palette[e].contrastText,backgroundColor:o.vars.palette[e].main},...t==="outlined"&&{backgroundColor:"transparent",color:o.vars.palette[e].main,border:`2px solid ${o.vars.palette[e].main}`},...t==="soft"&&{color:o.vars.palette[e].dark,backgroundColor:Et(o.vars.palette[e].mainChannel,.16),...o.applyStyles("dark",{color:o.vars.palette[e].light})},...t==="inverted"&&{color:o.vars.palette[e].darker,backgroundColor:o.vars.palette[e].lighter}}};return{height:24,minWidth:24,lineHeight:0,flexShrink:0,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",gap:o.spacing(.75),justifyContent:"center",padding:o.spacing(0,.75),fontSize:o.typography.pxToRem(12),fontWeight:o.typography.fontWeightBold,borderRadius:Number(o.shape.borderRadius)*.75,transition:o.transitions.create(["all"],{duration:o.transitions.duration.shorter}),...a,...c,...r&&{opacity:.48,pointerEvents:"none"}}}),Wt=ne("span")({width:16,height:16,flexShrink:0,"& svg, img":{width:"100%",height:"100%",objectFit:"cover"}});function rn(e){const t=Ie.c(28);let r,o,a,c,h,i,l,f,g;t[0]!==e?({sx:l,endIcon:c,children:r,startIcon:i,className:o,disabled:a,variant:f,color:g,...h}=e,t[0]=e,t[1]=r,t[2]=o,t[3]=a,t[4]=c,t[5]=h,t[6]=i,t[7]=l,t[8]=f,t[9]=g):(r=t[1],o=t[2],a=t[3],c=t[4],h=t[5],i=t[6],l=t[7],f=t[8],g=t[9]);const y=f===void 0?"soft":f,b=g===void 0?"default":g;let v;t[10]!==o?(v=Mr([vt.root,o]),t[10]=o,t[11]=v):v=t[11];let d;t[12]!==i?(d=i&&s.jsx(Wt,{className:vt.icon,children:i}),t[12]=i,t[13]=d):d=t[13];let n;t[14]!==r?(n=typeof r=="string"?Dr(r):r,t[14]=r,t[15]=n):n=t[15];let x;t[16]!==c?(x=c&&s.jsx(Wt,{className:vt.icon,children:c}),t[16]=c,t[17]=x):x=t[17];let S;return t[18]!==b||t[19]!==a||t[20]!==h||t[21]!==l||t[22]!==v||t[23]!==d||t[24]!==n||t[25]!==x||t[26]!==y?(S=s.jsxs(tn,{color:b,variant:y,disabled:a,className:v,sx:l,...h,children:[d,n,x]}),t[18]=b,t[19]=a,t[20]=h,t[21]=l,t[22]=v,t[23]=d,t[24]=n,t[25]=x,t[26]=y,t[27]=S):S=t[27],S}const dr=Xt(e=>({open:!1,setOpen:t=>e({open:t})})),Le=Qt();function on(){var _e;const e=Ie.c(89),{open:t,setOpen:r}=dr();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={control:Le.control,name:["id","subject","exams","_score"]},e[0]=o):o=e[0];const[a,c,h,i]=tr(o),{scores:l,totalScore:f}=St(()=>No(h,c),[h,c])??{scores:[],totalScore:0},{isLoading:g,isSubmitSuccessful:y}=er(Le);let b,v;e[1]!==y||e[2]!==t||e[3]!==r?(b=()=>{y&&t&&r(!1)},v=[y,t,r],e[1]=y,e[2]=t,e[3]=r,e[4]=b,e[5]=v):(b=e[4],v=e[5]),N.useEffect(b,v);const d=at[c],n=Oe[h];let x;e[6]!==a?(x=Le.handleSubmit(async he=>{const Se=new Date().toISOString();he.id||delete he.id,await we.scores.put({...he,...a&&{createdAt:Se},updatedAt:Se})}),e[6]=a,e[7]=x):x=e[7];const S=x;let P;e[8]!==l[0]||e[9]!==l.length||e[10]!==f?(P=()=>{l.length===f&&l.length>0?Le.setValue("id",l[0].id):Le.setValue("id",0)},e[8]=l[0],e[9]=l.length,e[10]=f,e[11]=P):P=e[11];let M;e[12]!==l||e[13]!==f?(M=[l,f],e[12]=l,e[13]=f,e[14]=M):M=e[14],N.useEffect(P,M);let A;e[15]!==a?(A=a?W("Update score"):W("Input score"),e[15]=a,e[16]=A):A=e[16];let T;e[17]!==A?(T=s.jsx(rr,{children:A}),e[17]=A,e[18]=T):T=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C={borderRadius:1,borderWidth:1,p:1,px:2},e[19]=C):C=e[19];const m=d==null?void 0:d.color;let u;e[20]!==(d==null?void 0:d.color)?(u=he=>he.palette.getContrastText(d==null?void 0:d.color),e[20]=d==null?void 0:d.color,e[21]=u):u=e[21];let R;e[22]!==u||e[23]!==m?(R={bgcolor:m,color:u},e[22]=u,e[23]=m,e[24]=R):R=e[24];const $=(_e=at[c])==null?void 0:_e.icon;let L;e[25]!==$?(L=s.jsx(Ce,{icon:$}),e[25]=$,e[26]=L):L=e[26];let O;e[27]!==R||e[28]!==L?(O=s.jsx(qt,{sx:R,children:L}),e[27]=R,e[28]=L,e[29]=O):O=e[29];const j=d==null?void 0:d.name;let k;e[30]!==j?(k=s.jsx(Pe,{variant:"h6",children:j}),e[30]=j,e[31]=k):k=e[31];const B=`${h} ${l.length}/${f}`,F=n==null?void 0:n.color,Y=n==null?void 0:n.icon;let I;e[32]!==F||e[33]!==Y?(I=s.jsx(Ce,{color:F,icon:Y}),e[32]=F,e[33]=Y,e[34]=I):I=e[34];let H;e[35]!==(n==null?void 0:n.color)?(H=(n==null?void 0:n.color)&&yt(n==null?void 0:n.color).alpha(.08).string(),e[35]=n==null?void 0:n.color,e[36]=H):H=e[36];const G=n==null?void 0:n.color;let _;e[37]!==(n==null?void 0:n.color)?(_=yt(n==null?void 0:n.color).alpha(.16).string(),e[37]=n==null?void 0:n.color,e[38]=_):_=e[38];let q;e[39]!==H||e[40]!==G||e[41]!==_?(q={bgcolor:H,color:G,border:1,borderColor:_},e[39]=H,e[40]=G,e[41]=_,e[42]=q):q=e[42];let ee;e[43]!==B||e[44]!==I||e[45]!==q?(ee=s.jsx(Ct,{label:B,size:"small",icon:I,sx:q}),e[43]=B,e[44]=I,e[45]=q,e[46]=ee):ee=e[46];let ie;e[47]!==k||e[48]!==ee?(ie=s.jsxs(Be,{flex:1,alignItems:"flex-start",children:[k,ee]}),e[47]=k,e[48]=ee,e[49]=ie):ie=e[49];let ue;e[50]!==i?(ue=i==null?void 0:i.toFixed(2),e[50]=i,e[51]=ue):ue=e[51];let D;e[52]!==ue?(D=s.jsx(Ct,{label:ue}),e[52]=ue,e[53]=D):D=e[53];let K;e[54]!==O||e[55]!==ie||e[56]!==D?(K=s.jsxs(me,{display:"flex",alignItems:"center",gap:2,sx:C,children:[O,ie,D]}),e[54]=O,e[55]=ie,e[56]=D,e[57]=K):K=e[57];let X;e[58]===Symbol.for("react.memo_cache_sentinel")?(X={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[58]=X):X=e[58];let se;e[59]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs(me,{sx:X,children:[s.jsx(wt,{children:W("Score")}),s.jsx(it,{control:Le.control,name:"score",render:sn})]}),e[59]=se):se=e[59];let te;e[60]!==l?(te=l.length>0&&s.jsx(it,{control:Le.control,name:"id",defaultValue:0,render:he=>{const{field:Se}=he,p=l.find(w=>w.id===Se.value);return s.jsxs(Ir,{label:W("Select score for update"),select:!0,sx:{"& .MuiSelect-select":{display:"flex",alignItems:"center"}},helperText:p&&en(p.updatedAt),...Se,children:[s.jsx(Gt,{value:0,children:s.jsx("em",{children:W("New score")})}),l.map(nn)]})}}),e[60]=l,e[61]=te):te=e[61];let le;e[62]!==K||e[63]!==te?(le=s.jsx(or,{children:s.jsxs(Be,{spacing:2,children:[K,se,te]})}),e[62]=K,e[63]=te,e[64]=le):le=e[64];let ce;e[65]!==r?(ce=()=>r(!1),e[65]=r,e[66]=ce):ce=e[66];let J;e[67]===Symbol.for("react.memo_cache_sentinel")?(J=W("Close"),e[67]=J):J=e[67];let pe;e[68]!==g||e[69]!==ce?(pe=s.jsx(Ve,{disabled:g,onClick:ce,children:J}),e[68]=g,e[69]=ce,e[70]=pe):pe=e[70];const De=f===l.length&&!a,Me=a?"solar:diskette-bold":"solar:check-circle-linear";let Z;e[71]!==Me?(Z=s.jsx(Ce,{icon:Me}),e[71]=Me,e[72]=Z):Z=e[72];let ge;e[73]!==a?(ge=a?W("Update score"):W("Input score"),e[73]=a,e[74]=ge):ge=e[74];let xe;e[75]!==S||e[76]!==g||e[77]!==De||e[78]!==Z||e[79]!==ge?(xe=s.jsx(Ve,{disabled:De,loading:g,variant:"contained",color:"primary",startIcon:Z,onClick:S,children:ge}),e[75]=S,e[76]=g,e[77]=De,e[78]=Z,e[79]=ge,e[80]=xe):xe=e[80];let ye;e[81]!==pe||e[82]!==xe?(ye=s.jsxs(nr,{children:[pe,xe]}),e[81]=pe,e[82]=xe,e[83]=ye):ye=e[83];let ke;return e[84]!==t||e[85]!==le||e[86]!==ye||e[87]!==T?(ke=s.jsxs(sr,{open:t,fullWidth:!0,maxWidth:"xs",children:[T,le,ye]}),e[84]=t,e[85]=le,e[86]=ye,e[87]=T,e[88]=ke):ke=e[88],ke}function nn(e){return s.jsxs(Gt,{value:e.id,children:[s.jsx(rn,{sx:{width:40,color:Mt(e.score)},children:e.score.toFixed(2)}),s.jsx(Pe,{ml:.5,variant:"body2",color:"textSecondary",children:jt(e.updatedAt).format("DD MMM YYYY")})]},e.id)}function sn(e){const{field:t}=e;return s.jsxs(me,{width:1,display:"flex",mt:2,children:[s.jsx(me,{children:s.jsx(Tt,{score:t.value,isColor:!0})}),s.jsx(lr,{sx:{flex:1},...t})]})}function mn(){const e=Ie.c(30);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[r,o]=N.useState(t),{setOpen:a,open:c}=cr(),{setOpen:h,open:i}=dr();let l;e[1]!==a?(l=async R=>{a(!0),je.reset(await we.targets.get(R))},e[1]=a,e[2]=l):l=e[2];const f=l;let g;e[3]!==a?(g=async()=>{const R=(await ir())[0]??"";je.reset(Er(R)),a(!0)},e[3]=a,e[4]=g):g=e[4];const y=g;let b;e[5]!==h?(b=(R,$,L)=>O=>{h(!0),Le.reset({subject:R,exams:O,score:Math.min(Math.round($*4)/4,10),_score:L})},e[5]=h,e[6]=b):b=e[6];const v=b;let d,n;e[7]!==c||e[8]!==i?(d=()=>{!c&&!i&&_o().then(o)},n=[c,i],e[7]=c,e[8]=i,e[9]=d,e[10]=n):(d=e[9],n=e[10]),N.useEffect(d,n);let x,S;e[11]===Symbol.for("react.memo_cache_sentinel")?(x={alignSelf:"flex-end"},S=s.jsx(Ce,{icon:"mingcute:add-line"}),e[11]=x,e[12]=S):(x=e[11],S=e[12]);let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=W("Add target"),e[13]=P):P=e[13];let M;e[14]!==y?(M=s.jsx(Ve,{variant:"contained",sx:x,startIcon:S,onClick:y,color:"primary",children:P}),e[14]=y,e[15]=M):M=e[15];let A;if(e[16]!==v||e[17]!==f||e[18]!==r){let R;e[20]!==v||e[21]!==f?(R=$=>s.jsx(Oo,{onClickExams:v($.subject,Math.max($.requiredAvg,8),$.requiredAvg),target:$,handleEdit:f},$.subject),e[20]=v,e[21]=f,e[22]=R):R=e[22],A=r.map(R),e[16]=v,e[17]=f,e[18]=r,e[19]=A}else A=e[19];let T;e[23]!==A||e[24]!==M?(T=s.jsxs(Be,{spacing:2,children:[M,A]}),e[23]=A,e[24]=M,e[25]=T):T=e[25];let C,m;e[26]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Wo,{}),m=s.jsx(on,{}),e[26]=C,e[27]=m):(C=e[26],m=e[27]);let u;return e[28]!==T?(u=s.jsxs(s.Fragment,{children:[T,C,m]}),e[28]=T,e[29]=u):u=e[29],u}export{mn as default};
