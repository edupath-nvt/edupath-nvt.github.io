import{f as qe,h as Xe,r as _,u as Ke,i as hr,k as mr,l as gr,m as br,n as $t,o as Ce,q as ne,v as Le,j as s,w as Ze,x as Ie,y as Rt,z as oe,A as dt,P as vr,B as Ee,D as Lt,E as xr,F as rt,G as Fe,H as He,J as yr,K as mt,L as At,M as ot,N as Sr,O as Ae,Q as Yt,c as De,R as xt,V as Ht,X as Ut,Y as ve,_ as Pt,$ as H,a0 as wr,a1 as yt,I as $e,a2 as Cr,a3 as Ve,a4 as kr,a5 as qt,a6 as $r,a7 as Xt,a8 as jr,a9 as Kt,aa as Zt,ab as jt,ac as Ot,U as Et,ad as Tr,ae as Gt}from"./index-C1ATK5f7.js";import{v as Mr,d as je,S as at,y as Rr,E as ze,L as Ne,u as St,a as Lr,b as Ar,c as Pr,N as Or,e as Er}from"./select-subject-ADEv2uUP.js";import{S as Be}from"./Stack-Bwy239CA.js";import{u as Jt,C as wt}from"./Autocomplete-BHzu5Eza.js";import{u as zr,c as Qt,a as er,b as tr,C as it,T as Ir}from"./index.esm-DrLhG5kb.js";import{L as Ct}from"./label-border-CGag8jOT.js";import{a as rr,b as or,c as nr,D as sr}from"./DialogTitle-BgAtsX4y.js";import"./InputAdornment-ByNsTYBR.js";function Dr(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function _r(e){return qe("MuiCollapse",e)}Xe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Nr=e=>{const{orientation:t,classes:r}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ze(o,_r,r)},Fr=ne("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Ie(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Vr=ne("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Br=ne("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),kt=_.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCollapse"}),{addEndListener:a,children:c,className:h,collapsedSize:i="0px",component:l,easing:f,in:m,onEnter:y,onEntered:g,onEntering:v,onExit:d,onExited:n,onExiting:x,orientation:S="vertical",slots:O={},slotProps:R={},style:A,timeout:k=hr.standard,TransitionComponent:C=mr,...b}=o,u={...o,orientation:S,collapsedSize:i},$=Nr(u),M=gr(),L=br(),P=_.useRef(null),T=_.useRef(),j=typeof i=="number"?`${i}px`:i,Y=S==="horizontal",N=Y?"width":"height",U=_.useRef(null),I=$t(r,U),W=F=>J=>{if(F){const V=U.current;J===void 0?F(V):F(V,J)}},K=()=>P.current?P.current[Y?"clientWidth":"clientHeight"]:0,D=W((F,J)=>{P.current&&Y&&(P.current.style.position="absolute"),F.style[N]=j,y&&y(F,J)}),X=W((F,J)=>{const V=K();P.current&&Y&&(P.current.style.position="");const{duration:G,easing:fe}=Rt({style:A,timeout:k,easing:f},{mode:"enter"});if(k==="auto"){const ge=M.transitions.getAutoHeightDuration(V);F.style.transitionDuration=`${ge}ms`,T.current=ge}else F.style.transitionDuration=typeof G=="string"?G:`${G}ms`;F.style[N]=`${V}px`,F.style.transitionTimingFunction=fe,v&&v(F,J)}),ee=W((F,J)=>{F.style[N]="auto",g&&g(F,J)}),ae=W(F=>{F.style[N]=`${K()}px`,d&&d(F)}),pe=W(n),ye=W(F=>{const J=K(),{duration:V,easing:G}=Rt({style:A,timeout:k,easing:f},{mode:"exit"});if(k==="auto"){const fe=M.transitions.getAutoHeightDuration(J);F.style.transitionDuration=`${fe}ms`,T.current=fe}else F.style.transitionDuration=typeof V=="string"?V:`${V}ms`;F.style[N]=j,F.style.transitionTimingFunction=G,x&&x(F)}),xe=F=>{k==="auto"&&L.start(T.current||0,F),a&&a(U.current,F)},ce={slots:O,slotProps:R,component:l},[me,ie]=Ce("root",{ref:I,className:Le($.root,h),elementType:Fr,externalForwardedProps:ce,ownerState:u,additionalProps:{style:{[Y?"minWidth":"minHeight"]:j,...A}}}),[de,te]=Ce("wrapper",{ref:P,className:$.wrapper,elementType:Vr,externalForwardedProps:ce,ownerState:u}),[Z,ue]=Ce("wrapperInner",{className:$.wrapperInner,elementType:Br,externalForwardedProps:ce,ownerState:u});return s.jsx(C,{in:m,onEnter:D,onEntered:ee,onEntering:X,onExit:ae,onExited:pe,onExiting:ye,addEndListener:xe,nodeRef:U,timeout:k==="auto"?null:k,...b,children:(F,{ownerState:J,...V})=>{const G={...u,state:F};return s.jsx(me,{...ie,className:Le(ie.className,{entered:$.entered,exited:!m&&j==="0px"&&$.hidden}[F]),ownerState:G,...V,children:s.jsx(de,{...te,ownerState:G,children:s.jsx(Z,{...ue,ownerState:G,children:c})})})}})});kt&&(kt.muiSupportAuto=!0);function Wr(e){const{badgeContent:t,invisible:r=!1,max:o=99,showZero:a=!1}=e,c=Jt({badgeContent:t,max:o});let h=r;r===!1&&t===0&&!a&&(h=!0);const{badgeContent:i,max:l=o}=h?c:e,f=i&&Number(i)>l?`${l}+`:i;return{badgeContent:i,invisible:h,max:l,displayValue:f}}function Yr(e){return qe("MuiBadge",e)}const Pe=Xe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),gt=10,bt=4,Hr=e=>{const{color:t,anchorOrigin:r,invisible:o,overlap:a,variant:c,classes:h={}}=e,i={root:["root"],badge:["badge",c,o&&"invisible",`anchorOrigin${oe(r.vertical)}${oe(r.horizontal)}`,`anchorOrigin${oe(r.vertical)}${oe(r.horizontal)}${oe(a)}`,`overlap${oe(a)}`,t!=="default"&&`color${oe(t)}`]};return Ze(i,Yr,h)},Ur=ne("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),qr=ne("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${oe(r.anchorOrigin.vertical)}${oe(r.anchorOrigin.horizontal)}${oe(r.overlap)}`],r.color!=="default"&&t[`color${oe(r.color)}`],r.invisible&&t.invisible]}})(Ie(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:gt*2,lineHeight:1,padding:"0 6px",height:gt*2,borderRadius:gt,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(dt(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:bt,height:bt*2,minWidth:bt*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function zt(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const Xr=_.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiBadge"}),{anchorOrigin:a,className:c,classes:h,component:i,components:l={},componentsProps:f={},children:m,overlap:y="rectangular",color:g="default",invisible:v=!1,max:d=99,badgeContent:n,slots:x,slotProps:S,showZero:O=!1,variant:R="standard",...A}=o,{badgeContent:k,invisible:C,max:b,displayValue:u}=Wr({max:d,invisible:v,badgeContent:n,showZero:O}),$=Jt({anchorOrigin:zt(a),color:g,overlap:y,variant:R,badgeContent:n}),M=C||k==null&&R!=="dot",{color:L=g,overlap:P=y,anchorOrigin:T,variant:j=R}=M?$:o,Y=zt(T),N=j!=="dot"?u:void 0,U={...o,badgeContent:k,invisible:M,max:b,displayValue:N,showZero:O,anchorOrigin:Y,color:L,overlap:P,variant:j},I=Hr(U),W={slots:{root:(x==null?void 0:x.root)??l.Root,badge:(x==null?void 0:x.badge)??l.Badge},slotProps:{root:(S==null?void 0:S.root)??f.root,badge:(S==null?void 0:S.badge)??f.badge}},[K,D]=Ce("root",{elementType:Ur,externalForwardedProps:{...W,...A},ownerState:U,className:Le(I.root,c),ref:r,additionalProps:{as:i}}),[X,ee]=Ce("badge",{elementType:qr,externalForwardedProps:W,ownerState:U,className:I.badge});return s.jsxs(K,{...D,children:[m,s.jsx(X,{...ee,children:N})]})});function Kr(e){return qe("MuiCard",e)}Xe("MuiCard",["root"]);const Zr=e=>{const{classes:t}=e;return Ze({root:["root"]},Kr,t)},Gr=ne(vr,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Jr=_.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCard"}),{className:a,raised:c=!1,...h}=o,i={...o,raised:c},l=Zr(i);return s.jsx(Gr,{className:Le(l.root,a),elevation:c?8:void 0,ref:r,ownerState:i,...h})});function Qr(e){return qe("MuiCardHeader",e)}const lt=Xe("MuiCardHeader",["root","avatar","action","content","title","subheader"]),eo=e=>{const{classes:t}=e;return Ze({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Qr,t)},to=ne("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${lt.title}`]:t.title},{[`& .${lt.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),ro=ne("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),oo=ne("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),no=ne("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${Lt.root}:where(& .${lt.title})`]:{display:"block"},[`.${Lt.root}:where(& .${lt.subheader})`]:{display:"block"}}),so=_.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiCardHeader"}),{action:a,avatar:c,component:h="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:f,title:m,titleTypographyProps:y,slots:g={},slotProps:v={},...d}=o,n={...o,component:h,disableTypography:i},x=eo(n),S={slots:g,slotProps:{title:y,subheader:f,...v}};let O=m;const[R,A]=Ce("title",{className:x.title,elementType:Ee,externalForwardedProps:S,ownerState:n,additionalProps:{variant:c?"body2":"h5",component:"span"}});O!=null&&O.type!==Ee&&!i&&(O=s.jsx(R,{...A,children:O}));let k=l;const[C,b]=Ce("subheader",{className:x.subheader,elementType:Ee,externalForwardedProps:S,ownerState:n,additionalProps:{variant:c?"body2":"body1",color:"textSecondary",component:"span"}});k!=null&&k.type!==Ee&&!i&&(k=s.jsx(C,{...b,children:k}));const[u,$]=Ce("root",{ref:r,className:x.root,elementType:to,externalForwardedProps:{...S,...d,component:h},ownerState:n}),[M,L]=Ce("avatar",{className:x.avatar,elementType:ro,externalForwardedProps:S,ownerState:n}),[P,T]=Ce("content",{className:x.content,elementType:no,externalForwardedProps:S,ownerState:n}),[j,Y]=Ce("action",{className:x.action,elementType:oo,externalForwardedProps:S,ownerState:n});return s.jsxs(u,{...$,children:[c&&s.jsx(M,{...L,children:c}),s.jsxs(P,{...T,children:[O,k]}),a&&s.jsx(j,{...Y,children:a})]})});function It(e){return e.substring(2).toLowerCase()}function ao(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function io(e){const{children:t,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:c="onTouchEnd"}=e,h=_.useRef(!1),i=_.useRef(null),l=_.useRef(!1),f=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const m=$t(xr(t),i),y=rt(d=>{const n=f.current;f.current=!1;const x=Fe(i.current);if(!l.current||!i.current||"clientX"in d&&ao(d,x))return;if(h.current){h.current=!1;return}let S;d.composedPath?S=d.composedPath().includes(i.current):S=!x.documentElement.contains(d.target)||i.current.contains(d.target),!S&&(r||!n)&&a(d)}),g=d=>n=>{f.current=!0;const x=t.props[d];x&&x(n)},v={ref:m};return c!==!1&&(v[c]=g(c)),_.useEffect(()=>{if(c!==!1){const d=It(c),n=Fe(i.current),x=()=>{h.current=!0};return n.addEventListener(d,y),n.addEventListener("touchmove",x),()=>{n.removeEventListener(d,y),n.removeEventListener("touchmove",x)}}},[y,c]),o!==!1&&(v[o]=g(o)),_.useEffect(()=>{if(o!==!1){const d=It(o),n=Fe(i.current);return n.addEventListener(d,y),()=>{n.removeEventListener(d,y)}}},[y,o]),_.cloneElement(t,v)}function lo(e,t,r=(o,a)=>o===a){return e.length===t.length&&e.every((o,a)=>r(o,t[a]))}const co=2;function We(e,t,r,o,a){return r===1?Math.min(e+t,a):Math.max(e-t,o)}function ar(e,t){return e-t}function Dt(e,t){const{index:r}=e.reduce((o,a,c)=>{const h=Math.abs(t-a);return o===null||h<o.distance||h===o.distance?{distance:h,index:c}:o},null)??{};return r}function Je(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let o=0;o<r.changedTouches.length;o+=1){const a=r.changedTouches[o];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function ct(e,t,r){return(e-t)*100/(r-t)}function uo(e,t,r){return(r-t)*e+t}function fo(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),o=r[0].split(".")[1];return(o?o.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function po(e,t,r){const o=Math.round((e-r)/t)*t+r;return Number(o.toFixed(fo(t)))}function _t({values:e,newValue:t,index:r}){const o=e.slice();return o[r]=t,o.sort(ar)}function Qe({sliderRef:e,activeIndex:t,setActive:r}){var a,c,h;const o=Fe(e.current);(!((a=e.current)!=null&&a.contains(o.activeElement))||Number((c=o==null?void 0:o.activeElement)==null?void 0:c.getAttribute("data-index"))!==t)&&((h=e.current)==null||h.querySelector(`[type="range"][data-index="${t}"]`).focus()),r&&r(t)}function et(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?lo(e,t):!1}const ho={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},mo=e=>e;let tt;function Nt(){return tt===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?tt=CSS.supports("touch-action","none"):tt=!0),tt}function go(e){const{"aria-labelledby":t,defaultValue:r,disabled:o=!1,disableSwap:a=!1,isRtl:c=!1,marks:h=!1,max:i=100,min:l=0,name:f,onChange:m,onChangeCommitted:y,orientation:g="horizontal",rootRef:v,scale:d=mo,step:n=1,shiftStep:x=10,tabIndex:S,value:O}=e,R=_.useRef(void 0),[A,k]=_.useState(-1),[C,b]=_.useState(-1),[u,$]=_.useState(!1),M=_.useRef(0),L=_.useRef(null),[P,T]=zr({controlled:O,default:r??l,name:"Slider"}),j=m&&((p,w,E)=>{const B=p.nativeEvent||p,q=new B.constructor(B.type,B);Object.defineProperty(q,"target",{writable:!0,value:{value:w,name:f}}),L.current=w,m(q,w,E)}),Y=Array.isArray(P);let N=Y?P.slice().sort(ar):[P];N=N.map(p=>p==null?l:He(p,l,i));const U=h===!0&&n!==null?[...Array(Math.floor((i-l)/n)+1)].map((p,w)=>({value:l+n*w})):h||[],I=U.map(p=>p.value),[W,K]=_.useState(-1),D=_.useRef(null),X=$t(v,D),ee=p=>w=>{var B;const E=Number(w.currentTarget.getAttribute("data-index"));At(w.target)&&K(E),b(E),(B=p==null?void 0:p.onFocus)==null||B.call(p,w)},ae=p=>w=>{var E;At(w.target)||K(-1),b(-1),(E=p==null?void 0:p.onBlur)==null||E.call(p,w)},pe=(p,w)=>{const E=Number(p.currentTarget.getAttribute("data-index")),B=N[E],q=I.indexOf(B);let z=w;if(U&&n==null){const se=I[I.length-1];z>=se?z=se:z<=I[0]?z=I[0]:z=z<B?I[q-1]:I[q+1]}if(z=He(z,l,i),Y){a&&(z=He(z,N[E-1]||-1/0,N[E+1]||1/0));const se=z;z=_t({values:N,newValue:z,index:E});let he=E;a||(he=z.indexOf(se)),Qe({sliderRef:D,activeIndex:he})}T(z),K(E),j&&!et(z,P)&&j(p,z,E),y&&y(p,L.current??z)},ye=p=>w=>{var E;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(w.key)){w.preventDefault();const B=Number(w.currentTarget.getAttribute("data-index")),q=N[B];let z=null;if(n!=null){const se=w.shiftKey?x:n;switch(w.key){case"ArrowUp":z=We(q,se,1,l,i);break;case"ArrowRight":z=We(q,se,c?-1:1,l,i);break;case"ArrowDown":z=We(q,se,-1,l,i);break;case"ArrowLeft":z=We(q,se,c?1:-1,l,i);break;case"PageUp":z=We(q,x,1,l,i);break;case"PageDown":z=We(q,x,-1,l,i);break;case"Home":z=l;break;case"End":z=i;break}}else if(U){const se=I[I.length-1],he=I.indexOf(q),re=[c?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Se=[c?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];re.includes(w.key)?he===0?z=I[0]:z=I[he-1]:Se.includes(w.key)&&(he===I.length-1?z=se:z=I[he+1])}z!=null&&pe(w,z)}(E=p==null?void 0:p.onKeyDown)==null||E.call(p,w)};yr(()=>{var p;o&&D.current.contains(document.activeElement)&&((p=document.activeElement)==null||p.blur())},[o]),o&&A!==-1&&k(-1),o&&W!==-1&&K(-1);const xe=p=>w=>{var E;(E=p.onChange)==null||E.call(p,w),pe(w,w.target.valueAsNumber)},ce=_.useRef(void 0);let me=g;c&&g==="horizontal"&&(me+="-reverse");const ie=({finger:p,move:w=!1})=>{const{current:E}=D,{width:B,height:q,bottom:z,left:se}=E.getBoundingClientRect();let he;me.startsWith("vertical")?he=(z-p.y)/q:he=(p.x-se)/B,me.includes("-reverse")&&(he=1-he);let re;if(re=uo(he,l,i),n)re=po(re,n,l);else{const Ye=Dt(I,re);re=I[Ye]}re=He(re,l,i);let Se=0;if(Y){w?Se=ce.current:Se=Dt(N,re),a&&(re=He(re,N[Se-1]||-1/0,N[Se+1]||1/0));const Ye=re;re=_t({values:N,newValue:re,index:Se}),a&&w||(Se=re.indexOf(Ye),ce.current=Se)}return{newValue:re,activeIndex:Se}},de=rt(p=>{const w=Je(p,R);if(!w)return;if(M.current+=1,p.type==="mousemove"&&p.buttons===0){te(p);return}const{newValue:E,activeIndex:B}=ie({finger:w,move:!0});Qe({sliderRef:D,activeIndex:B,setActive:k}),T(E),!u&&M.current>co&&$(!0),j&&!et(E,P)&&j(p,E,B)}),te=rt(p=>{const w=Je(p,R);if($(!1),!w)return;const{newValue:E}=ie({finger:w,move:!0});k(-1),p.type==="touchend"&&b(-1),y&&y(p,L.current??E),R.current=void 0,ue()}),Z=rt(p=>{if(o)return;Nt()||p.preventDefault();const w=p.changedTouches[0];w!=null&&(R.current=w.identifier);const E=Je(p,R);if(E!==!1){const{newValue:q,activeIndex:z}=ie({finger:E});Qe({sliderRef:D,activeIndex:z,setActive:k}),T(q),j&&!et(q,P)&&j(p,q,z)}M.current=0;const B=Fe(D.current);B.addEventListener("touchmove",de,{passive:!0}),B.addEventListener("touchend",te,{passive:!0})}),ue=_.useCallback(()=>{const p=Fe(D.current);p.removeEventListener("mousemove",de),p.removeEventListener("mouseup",te),p.removeEventListener("touchmove",de),p.removeEventListener("touchend",te)},[te,de]);_.useEffect(()=>{const{current:p}=D;return p.addEventListener("touchstart",Z,{passive:Nt()}),()=>{p.removeEventListener("touchstart",Z),ue()}},[ue,Z]),_.useEffect(()=>{o&&ue()},[o,ue]);const F=p=>w=>{var q;if((q=p.onMouseDown)==null||q.call(p,w),o||w.defaultPrevented||w.button!==0)return;w.preventDefault();const E=Je(w,R);if(E!==!1){const{newValue:z,activeIndex:se}=ie({finger:E});Qe({sliderRef:D,activeIndex:se,setActive:k}),T(z),j&&!et(z,P)&&j(w,z,se)}M.current=0;const B=Fe(D.current);B.addEventListener("mousemove",de,{passive:!0}),B.addEventListener("mouseup",te)},J=ct(Y?N[0]:l,l,i),V=ct(N[N.length-1],l,i)-J,G=(p={})=>{const w=mt(p),E={onMouseDown:F(w||{})},B={...w,...E};return{...p,ref:X,...B}},fe=p=>w=>{var B;(B=p.onMouseOver)==null||B.call(p,w);const E=Number(w.currentTarget.getAttribute("data-index"));b(E)},ge=p=>w=>{var E;(E=p.onMouseLeave)==null||E.call(p,w),b(-1)},Te=(p={})=>{const w=mt(p),E={onMouseOver:fe(w||{}),onMouseLeave:ge(w||{})};return{...p,...w,...E}},_e=p=>({pointerEvents:A!==-1&&A!==p?"none":void 0});let be;return g==="vertical"&&(be=c?"vertical-rl":"vertical-lr"),{active:A,axis:me,axisProps:ho,dragging:u,focusedThumbIndex:W,getHiddenInputProps:(p={})=>{const w=mt(p),E={onChange:xe(w||{}),onFocus:ee(w||{}),onBlur:ae(w||{}),onKeyDown:ye(w||{})},B={...w,...E};return{tabIndex:S,"aria-labelledby":t,"aria-orientation":g,"aria-valuemax":d(i),"aria-valuemin":d(l),name:f,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:o,...p,...B,style:{...Mr,direction:c?"rtl":"ltr",width:"100%",height:"100%",writingMode:be}}},getRootProps:G,getThumbProps:Te,marks:U,open:C,range:Y,rootRef:X,trackLeap:V,trackOffset:J,values:N,getThumbStyle:_e}}const bo=e=>!e||!ot(e);function vo(e){return qe("MuiSlider",e)}const we=Xe("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),xo=e=>{const{open:t}=e;return{offset:Le(t&&we.valueLabelOpen),circle:we.valueLabelCircle,label:we.valueLabelLabel}};function yo(e){const{children:t,className:r,value:o}=e,a=xo(e);return t?_.cloneElement(t,{className:t.props.className},s.jsxs(_.Fragment,{children:[t.props.children,s.jsx("span",{className:Le(a.offset,r),"aria-hidden":!0,children:s.jsx("span",{className:a.circle,children:s.jsx("span",{className:a.label,children:o})})})]})):null}function Ft(e){return e}const So=ne("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${oe(r.color)}`],r.size!=="medium"&&t[`size${oe(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(Ie(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${we.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${we.dragging}`]:{[`& .${we.thumb}, & .${we.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),wo=ne("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Co=ne("span",{name:"MuiSlider",slot:"Track"})(Ie(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),ko=ne("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${oe(r.color)}`],r.size!=="medium"&&t[`thumbSize${oe(r.size)}`]]}})(Ie(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${we.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(dt()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${we.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${we.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),$o=ne(yo,{name:"MuiSlider",slot:"ValueLabel"})(Ie(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${we.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${we.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),jo=ne("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Yt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(Ie(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),To=ne("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Yt(e)&&e!=="markLabelActive"})(Ie(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Mo=e=>{const{disabled:t,dragging:r,marked:o,orientation:a,track:c,classes:h,color:i,size:l}=e,f={root:["root",t&&"disabled",r&&"dragging",o&&"marked",a==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",i&&`color${oe(i)}`,l&&`size${oe(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${oe(l)}`,i&&`thumbColor${oe(i)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ze(f,vo,h)},Ro=({children:e})=>e,Lo=_.forwardRef(function(t,r){const o=Ke({props:t,name:"MuiSlider"}),a=Sr(),{"aria-label":c,"aria-valuetext":h,"aria-labelledby":i,component:l="span",components:f={},componentsProps:m={},color:y="primary",classes:g,className:v,disableSwap:d=!1,disabled:n=!1,getAriaLabel:x,getAriaValueText:S,marks:O=!1,max:R=100,min:A=0,name:k,onChange:C,onChangeCommitted:b,orientation:u="horizontal",shiftStep:$=10,size:M="medium",step:L=1,scale:P=Ft,slotProps:T,slots:j,tabIndex:Y,track:N="normal",value:U,valueLabelDisplay:I="off",valueLabelFormat:W=Ft,...K}=o,D={...o,isRtl:a,max:R,min:A,classes:g,disabled:n,disableSwap:d,orientation:u,marks:O,color:y,size:M,step:L,shiftStep:$,scale:P,track:N,valueLabelDisplay:I,valueLabelFormat:W},{axisProps:X,getRootProps:ee,getHiddenInputProps:ae,getThumbProps:pe,open:ye,active:xe,axis:ce,focusedThumbIndex:me,range:ie,dragging:de,marks:te,values:Z,trackOffset:ue,trackLeap:F,getThumbStyle:J}=go({...D,rootRef:r});D.marked=te.length>0&&te.some(Q=>Q.label),D.dragging=de,D.focusedThumbIndex=me;const V=Mo(D),G=(j==null?void 0:j.root)??f.Root??So,fe=(j==null?void 0:j.rail)??f.Rail??wo,ge=(j==null?void 0:j.track)??f.Track??Co,Te=(j==null?void 0:j.thumb)??f.Thumb??ko,_e=(j==null?void 0:j.valueLabel)??f.ValueLabel??$o,be=(j==null?void 0:j.mark)??f.Mark??jo,ke=(j==null?void 0:j.markLabel)??f.MarkLabel??To,p=(j==null?void 0:j.input)??f.Input??"input",w=(T==null?void 0:T.root)??m.root,E=(T==null?void 0:T.rail)??m.rail,B=(T==null?void 0:T.track)??m.track,q=(T==null?void 0:T.thumb)??m.thumb,z=(T==null?void 0:T.valueLabel)??m.valueLabel,se=(T==null?void 0:T.mark)??m.mark,he=(T==null?void 0:T.markLabel)??m.markLabel,re=(T==null?void 0:T.input)??m.input,Se=Ae({elementType:G,getSlotProps:ee,externalSlotProps:w,externalForwardedProps:K,additionalProps:{...bo(G)&&{as:l}},ownerState:{...D,...w==null?void 0:w.ownerState},className:[V.root,v]}),Ye=Ae({elementType:fe,externalSlotProps:E,ownerState:D,className:V.rail}),ur=Ae({elementType:ge,externalSlotProps:B,additionalProps:{style:{...X[ce].offset(ue),...X[ce].leap(F)}},ownerState:{...D,...B==null?void 0:B.ownerState},className:V.track}),ut=Ae({elementType:Te,getSlotProps:pe,externalSlotProps:q,ownerState:{...D,...q==null?void 0:q.ownerState},className:V.thumb}),fr=Ae({elementType:_e,externalSlotProps:z,ownerState:{...D,...z==null?void 0:z.ownerState},className:V.valueLabel}),ft=Ae({elementType:be,externalSlotProps:se,ownerState:D,className:V.mark}),pt=Ae({elementType:ke,externalSlotProps:he,ownerState:D,className:V.markLabel}),pr=Ae({elementType:p,getSlotProps:ae,externalSlotProps:re,ownerState:D});return s.jsxs(G,{...Se,children:[s.jsx(fe,{...Ye}),s.jsx(ge,{...ur}),te.filter(Q=>Q.value>=A&&Q.value<=R).map((Q,le)=>{const ht=ct(Q.value,A,R),Ge=X[ce].offset(ht);let Me;return N===!1?Me=Z.includes(Q.value):Me=N==="normal"&&(ie?Q.value>=Z[0]&&Q.value<=Z[Z.length-1]:Q.value<=Z[0])||N==="inverted"&&(ie?Q.value<=Z[0]||Q.value>=Z[Z.length-1]:Q.value>=Z[0]),s.jsxs(_.Fragment,{children:[s.jsx(be,{"data-index":le,...ft,...!ot(be)&&{markActive:Me},style:{...Ge,...ft.style},className:Le(ft.className,Me&&V.markActive)}),Q.label!=null?s.jsx(ke,{"aria-hidden":!0,"data-index":le,...pt,...!ot(ke)&&{markLabelActive:Me},style:{...Ge,...pt.style},className:Le(V.markLabel,pt.className,Me&&V.markLabelActive),children:Q.label}):null]},le)}),Z.map((Q,le)=>{const ht=ct(Q,A,R),Ge=X[ce].offset(ht),Me=I==="off"?Ro:_e;return s.jsx(Me,{...!ot(Me)&&{valueLabelFormat:W,valueLabelDisplay:I,value:typeof W=="function"?W(P(Q),le):W,index:le,open:ye===le||xe===le||I==="on",disabled:n},...fr,children:s.jsx(Te,{"data-index":le,...ut,className:Le(V.thumb,ut.className,xe===le&&V.active,me===le&&V.focusVisible),style:{...Ge,...J(le),...ut.style},children:s.jsx(p,{"data-index":le,"aria-label":x?x(le):c,"aria-valuenow":P(Q),"aria-labelledby":i,"aria-valuetext":S?S(P(Q),le):h,value:Z[le],...pr})})},le)})]})});async function ir(){const e=new Set((await je.targets.toArray()).map(t=>t.subject));return Object.keys(at).filter(t=>!e.has(t))}const Ue=[xt[900],xt[500],Ht[500],Rr[500],Ut[500]],Tt=e=>e>=8?Ue[4]:e>=6.5?Ue[3]:e>=5?Ue[2]:e>=3.5?Ue[1]:Ue[0];function Mt(e){const t=De.c(30),{score:r,size:o,sx:a,isColor:c,subTitle:h}=e,i=r===void 0?0:r,l=o===void 0?40:o;let f;t[0]!==l||t[1]!==a?(f={position:"relative",width:l,aspectRatio:"1 / 1",display:"inline-flex",alignItems:"center",justifyContent:"center",...a},t[0]=l,t[1]=a,t[2]=f):f=t[2];const m=Math.min(l/4,16);let y;t[3]!==m?(y={fontSize:m},t[3]=m,t[4]=y):y=t[4];let g;t[5]!==i?(g=i.toFixed(2),t[5]=i,t[6]=g):g=t[6];let v;t[7]!==y||t[8]!==g?(v=s.jsx(ve,{sx:y,children:g}),t[7]=y,t[8]=g,t[9]=v):v=t[9];let d;t[10]!==l||t[11]!==h?(d=h&&s.jsx(ve,{sx:{opacity:.4,fontSize:Math.max(l/5.5,12)},children:h}),t[10]=l,t[11]=h,t[12]=d):d=t[12];let n;t[13]!==v||t[14]!==d?(n=s.jsxs(Be,{children:[v,d]}),t[13]=v,t[14]=d,t[15]=n):n=t[15];let x;t[16]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Pt,{sx:{color:"divider",position:"absolute",top:0,left:0,"& circle":{strokeLinecap:"round"}},variant:"determinate",value:100,size:"100%"}),t[16]=x):x=t[16];let S;t[17]!==c||t[18]!==i?(S=c?Tt(i):void 0,t[17]=c,t[18]=i,t[19]=S):S=t[19];let O;t[20]===Symbol.for("react.memo_cache_sentinel")?(O={strokeLinecap:"round"},t[20]=O):O=t[20];let R;t[21]!==S?(R={color:S,position:"absolute",top:0,left:0,"& circle":O},t[21]=S,t[22]=R):R=t[22];const A=i*10;let k;t[23]!==R||t[24]!==A?(k=s.jsx(Pt,{sx:R,variant:"determinate",value:A,size:"100%"}),t[23]=R,t[24]=A,t[25]=k):k=t[25];let C;return t[26]!==k||t[27]!==f||t[28]!==n?(C=s.jsxs(ve,{sx:f,children:[n,x,k]}),t[26]=k,t[27]=f,t[28]=n,t[29]=C):C=t[29],C}const Ao=(e,t)=>{let r="transparent";return t>10&&(r="error.main"),e<t&&(r="warning.main"),t===0&&(r="primary.main"),r};function Po(e){const t=De.c(16),{target:r,require:o,avg:a}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=H("You can achieve the target"),t[0]=c):c=t[0];let h=c,i="text.secondary";if(o>10){let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=H("Cannot achieve the target"),t[1]=n):n=t[1],h=n,i="error.main"}if(r<o){let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=H("It is quite hard to reach the target"),t[2]=n):n=t[2],h=n,i="warning.main"}o===0&&(i="primary.main");let l;t[3]!==i?(l={color:i},t[3]=i,t[4]=l):l=t[4];const f=h;let m;t[5]!==a?(m=a.toFixed(2),t[5]=a,t[6]=m):m=t[6];let y;t[7]!==r?(y=r.toFixed(2),t[7]=r,t[8]=y):y=t[8];let g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("br",{}),t[9]=g):g=t[9];const v=o!==0&&H("require score")+" "+o.toFixed(2);let d;return t[10]!==h||t[11]!==l||t[12]!==m||t[13]!==y||t[14]!==v?(d=s.jsxs(Ee,{variant:"caption",sx:l,children:[f," ",m,"/",y," ",g,v]}),t[10]=h,t[11]=l,t[12]=m,t[13]=y,t[14]=v,t[15]=d):d=t[15],d}function Oo(e){const t=De.c(43),{target:r,handleEdit:o,onClickExams:a}=e,c=at[r.subject];let h;t[0]!==r.requiredAvg||t[1]!==r.score?(h=Ao(r.score,r.requiredAvg),t[0]=r.requiredAvg,t[1]=r.score,t[2]=h):h=t[2];const i=h,l=r.score!==0?i:"transparent";let f;t[3]!==l?(f={borderRadius:2,outline:1,outlineColor:l},t[3]=l,t[4]=f):f=t[4];let m;t[5]!==c.color?(m=$=>$.palette.getContrastText(c.color),t[5]=c.color,t[6]=m):m=t[6];let y;t[7]!==c.color||t[8]!==m?(y={bgcolor:c.color,color:m},t[7]=c.color,t[8]=m,t[9]=y):y=t[9];const g=c.icon;let v;t[10]!==g?(v=s.jsx($e,{icon:g}),t[10]=g,t[11]=v):v=t[11];let d;t[12]!==y||t[13]!==v?(d=s.jsx(qt,{sx:y,children:v}),t[12]=y,t[13]=v,t[14]=d):d=t[14];let n;t[15]!==r.requiredAvg||t[16]!==r.score||t[17]!==r.target?(n=s.jsx(Po,{avg:r.score,target:r.target,require:r.requiredAvg}),t[15]=r.requiredAvg,t[16]=r.score,t[17]=r.target,t[18]=n):n=t[18];let x;t[19]!==o||t[20]!==r.id?(x=()=>o(r.id),t[19]=o,t[20]=r.id,t[21]=x):x=t[21];let S;t[22]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx($e,{icon:"solar:pen-bold"}),t[22]=S):S=t[22];let O;t[23]!==x?(O=s.jsx($r,{onClick:x,children:S}),t[23]=x,t[24]=O):O=t[24];let R;t[25]===Symbol.for("react.memo_cache_sentinel")?(R={px:3,pt:2},t[25]=R):R=t[25];let A;t[26]!==c.name||t[27]!==O||t[28]!==d||t[29]!==n?(A=s.jsx(so,{avatar:d,title:c.name,subheader:n,action:O,sx:R}),t[26]=c.name,t[27]=O,t[28]=d,t[29]=n,t[30]=A):A=t[30];let k;t[31]!==r.exams?(k=Object.entries(r.exams),t[31]=r.exams,t[32]=k):k=t[32];let C;t[33]!==a||t[34]!==k||t[35]!==r.subject?(C=s.jsx(Be,{pb:2,children:s.jsx(ve,{display:"flex",children:k.map($=>{const[M,L]=$;return s.jsxs(Be,{spacing:2,width:.3333333,px:1,children:[s.jsxs(wr,{onClick:()=>a(M),sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",py:1,borderRadius:1,transition:"all .2s ease-in-out","&:hover":{bgcolor:"action.hover"}},children:[s.jsx(wt,{sx:{color:ze[M].color,bgcolor:yt(ze[M].color).alpha(.08).string(),fontWeight:"bold",textWrap:"wrap",fontSize:12},icon:s.jsx($e,{color:ze[M].color,icon:ze[M].icon}),label:M}),s.jsx(Xr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiBadge-badge":{boxShadow:Io,bgcolor:zo,color:Eo,borderColor:"divider",borderWidth:1}},badgeContent:`x${L.weight}`,children:s.jsx(Mt,{subTitle:`${Math.round(L.percent*100)/100}%`,sx:{mt:2},size:60,score:L.avg,isColor:!0})}),s.jsxs(Ee,{variant:"caption",sx:{opacity:.6,my:1},children:[L.count,"/",L.target," - (",L.count/L.target*100,"%)"]}),s.jsx(Cr,{sx:{width:.8,borderRadius:1,height:6},variant:"determinate",value:L.count/L.target*100})]}),s.jsx(Ve,{sx:{alignSelf:"center"},size:"small",variant:"outlined",startIcon:s.jsx($e,{icon:"solar:calendar-bold"}),LinkComponent:kr,href:`/calendar?exam=${M}&subject=${r.subject}&back=/`,children:H("Schedule")})]},M)})})}),t[33]=a,t[34]=k,t[35]=r.subject,t[36]=C):C=t[36];let b;t[37]!==A||t[38]!==C?(b=s.jsxs(Jr,{children:[A,C]}),t[37]=A,t[38]=C,t[39]=b):b=t[39];let u;return t[40]!==b||t[41]!==f?(u=s.jsx(ve,{sx:f,children:b}),t[40]=b,t[41]=f,t[42]=u):u=t[42],u}function Eo(e){return e.vars.palette.text.primary}function zo(e){return e.vars.palette.background.default}function Io(e){return e.vars.customShadows.z8}const Do=(e,t)=>{if(e<=0)return t>0?1/0:100;if(t<0)return 0;const r=t/e;return Math.round(r*100*10)/10},_o=async()=>{const[e,t]=await Promise.all([je.scores.toArray(),je.targets.toArray()]),r=new Map;for(const o of e){let a=r.get(o.subject);a||(a=Ne.reduce((c,h)=>c.set(h,[]),new Map),r.set(o.subject,a)),a.get(o.exams).push(o.score)}return t.map(o=>{const a=r.get(o.subject),c=a?Object.fromEntries(Ne.map(g=>[g,a.get(g)??[]])):Ne.reduce((g,v)=>(g[v]=[],g),{});let h=0,i=0,l=0;Ne.forEach(g=>{const v=c[g],d=ze[g].weight,n=v.length;if(n>0){const x=v.reduce((S,O)=>S+O,0)/n;h+=x*n*d,i+=n*d}else l+=d});const f=i>0?h/i:0;let m=0;l>0&&(m=(o.target*(i+l)-h)/l);const y=Object.fromEntries(Ne.map(g=>{const v=c[g],d=v.length,n=d>0?v.reduce((x,S)=>x+S,0)/d:0;return[g,{target:o.exams[g],count:d,weight:ze[g].weight,avg:d>0?n:0,isMissing:d===0,percent:Do(o.target,d>0?n:0)}]}));return{id:o.id,subject:o.subject,target:o.target,score:f,exams:y,countExams:Object.values(y).reduce((g,v)=>g+v.count,0),requiredAvg:m,missingExams:Ne.filter(g=>c[g].length===0),color:m>10?xt[500]:m>o.target?Ht[500]:Ut[500]}})},No=async(e,t)=>{var a;if(!t||!e)return{scores:[],totalScore:0};const r=await je.scores.where({subject:t,exams:e}).toArray(),o=(a=await je.targets.where({subject:t}).first())==null?void 0:a.exams[e];return{scores:r,totalScore:o}},lr=_.forwardRef((e,t)=>{const r=De.c(18),{value:o,onChange:a,height:c,disabled:h,sx:i}=e,l=c===void 0?8:c;let f;r[0]!==i?(f={px:2,...i},r[0]=i,r[1]=f):f=r[1];let m;r[2]!==a?(m=(n,x)=>a==null?void 0:a(x),r[2]=a,r[3]=m):m=r[3];let y;r[4]!==o?(y=Tt(o),r[4]=o,r[5]=y):y=r[5];let g;r[6]!==l||r[7]!==y?(g={color:y,height:l},r[6]=l,r[7]=y,r[8]=g):g=r[8];let v;r[9]!==h||r[10]!==t||r[11]!==m||r[12]!==g||r[13]!==o?(v=s.jsx(Lo,{ref:t,disabled:h,min:0,max:10,value:o,step:.25,marks:Vo,className:"slider-score",onChange:m,sx:g}),r[9]=h,r[10]=t,r[11]=m,r[12]=g,r[13]=o,r[14]=v):v=r[14];let d;return r[15]!==f||r[16]!==v?(d=s.jsx(ve,{sx:f,children:v}),r[15]=f,r[16]=v,r[17]=d):d=r[17],d}),Fo=[0,2,3.5,5,6.5,8,10],Vo=Fo.map(e=>({value:e,label:e.toFixed(1)})),Bo=_.forwardRef((e,t)=>{const[r,o]=_.useState(!1),[a,c]=_.useState(!1);return s.jsx(io,{onClickAway:()=>r&&o(!1),children:s.jsxs(Ve,{ref:t,...e,sx:{minWidth:"unset",minHeight:36,...e.sx},color:r?"error":"inherit",onClick:async()=>{if(r)try{c(!0),await e.onDelete()}finally{o(!1),c(!1)}else o(!0)},loading:a,children:[s.jsx($e,{icon:"solar:trash-bin-trash-bold"}),s.jsx(kt,{in:r,orientation:"horizontal",unmountOnExit:!0,mountOnEnter:!0,sx:{textWrap:"nowrap",mx:r?.5:0},children:e.children||"Click to delete"})]})})}),cr=Xt(e=>({open:!1,setOpen:t=>e({open:t})})),Re=Qt();function Wo(){const e=De.c(56),{open:t,setOpen:r}=cr(),{isSubmitSuccessful:o,isLoading:a}=er(Re),c=St(ir)??[];let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={control:Re.control,name:["id"]},e[0]=h):h=e[0];const[i]=tr(h);let l,f;e[1]!==i?(l=async()=>{if(!i)return;const X=await je.scores.where({subject:Re.getValues("subject")}).toArray();return Ne.reduce((ee,ae)=>(ee[ae]=X.filter(pe=>pe.exams===ae).length,ee),{})},f=[i],e[1]=i,e[2]=l,e[3]=f):(l=e[2],f=e[3]);const m=St(l,f);let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=Re.handleSubmit(Ho),e[4]=y):y=e[4];const g=y;let v,d;e[5]!==o||e[6]!==t||e[7]!==r?(v=()=>{o&&t&&r(!1)},d=[o,t,r],e[5]=o,e[6]=t,e[7]=r,e[8]=v,e[9]=d):(v=e[8],d=e[9]),_.useEffect(v,d);let n;e[10]!==i?(n=i?H("Update target"):H("Add target"),e[10]=i,e[11]=n):n=e[11];let x;e[12]!==n?(x=s.jsx(rr,{children:n}),e[12]=n,e[13]=x):x=e[13];let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={px:2},e[14]=S):S=e[14];let O;e[15]!==c?(O=s.jsx(Lr,{subjectList:c,control:Re.control}),e[15]=c,e[16]=O):O=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R={border:1,borderColor:"divider",borderRadius:1,p:0,position:"relative"},e[17]=R):R=e[17];let A,k;e[18]===Symbol.for("react.memo_cache_sentinel")?(A={mr:-1},k=Object.keys(ze),e[18]=A,e[19]=k):(A=e[18],k=e[19]);let C;e[20]!==m?(C=s.jsx(jr,{sx:A,children:k.map(X=>s.jsxs(Ar,{value:X,children:[s.jsx(Pr,{children:X}),s.jsx(it,{control:Re.control,name:`exams.${X}`,render:ee=>{const{field:ae}=ee;return s.jsx(Or,{min:m?m[X]:0,...ae})}})]},X))}),e[20]=m,e[21]=C):C=e[21];let b;e[22]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Ct,{children:H("Exam count")}),e[22]=b):b=e[22];let u;e[23]!==C?(u=s.jsxs(ve,{sx:R,children:[C,b]}),e[23]=C,e[24]=u):u=e[24];let $;e[25]===Symbol.for("react.memo_cache_sentinel")?($={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[25]=$):$=e[25];let M;e[26]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs(ve,{sx:$,children:[s.jsx(Ct,{children:H("Target score")}),s.jsx(it,{control:Re.control,name:"target",render:Yo})]}),e[26]=M):M=e[26];let L;e[27]!==u||e[28]!==O?(L=s.jsx(or,{dividers:!0,sx:S,children:s.jsxs(Be,{spacing:2,children:[O,u,M]})}),e[27]=u,e[28]=O,e[29]=L):L=e[29];let P;e[30]!==i||e[31]!==r?(P=i&&s.jsx(Bo,{sx:{mr:"auto"},onDelete:async()=>{await je.targets.delete(i),r(!1),Kt.success(H("Delete target successfully"))},children:H("Delete target")}),e[30]=i,e[31]=r,e[32]=P):P=e[32];let T;e[33]!==r?(T=()=>r(!1),e[33]=r,e[34]=T):T=e[34];let j;e[35]===Symbol.for("react.memo_cache_sentinel")?(j=H("Close"),e[35]=j):j=e[35];let Y;e[36]!==a||e[37]!==T?(Y=s.jsx(Ve,{disabled:a,onClick:T,children:j}),e[36]=a,e[37]=T,e[38]=Y):Y=e[38];const N=i?"solar:diskette-bold":"solar:cup-star-bold";let U;e[39]!==N?(U=s.jsx($e,{icon:N}),e[39]=N,e[40]=U):U=e[40];let I;e[41]!==i?(I=i?H("Update target"):H("Create target"),e[41]=i,e[42]=I):I=e[42];let W;e[43]!==a||e[44]!==U||e[45]!==I?(W=s.jsx(Ve,{loading:a,variant:"contained",color:"primary",startIcon:U,onClick:g,children:I}),e[43]=a,e[44]=U,e[45]=I,e[46]=W):W=e[46];let K;e[47]!==P||e[48]!==Y||e[49]!==W?(K=s.jsxs(nr,{children:[P,Y,W]}),e[47]=P,e[48]=Y,e[49]=W,e[50]=K):K=e[50];let D;return e[51]!==t||e[52]!==L||e[53]!==K||e[54]!==x?(D=s.jsxs(sr,{open:t,fullWidth:!0,maxWidth:"xs",children:[x,L,K]}),e[51]=t,e[52]=L,e[53]=K,e[54]=x,e[55]=D):D=e[55],D}function Yo(e){const{field:t}=e;return s.jsxs(ve,{width:1,display:"flex",mt:2,children:[s.jsx(ve,{children:s.jsx(Mt,{score:t.value,isColor:!0})}),s.jsx(lr,{sx:{flex:1},...t})]})}async function Ho(e){await je.targets.put(e),Kt.success(H("Add target successfully"))}var nt={exports:{}},Uo=nt.exports,Vt;function qo(){return Vt||(Vt=1,(function(e,t){(function(r,o){e.exports=o()})(Uo,(function(){var r,o,a=1e3,c=6e4,h=36e5,i=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,m=2628e6,y=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:f,months:m,days:i,hours:h,minutes:c,seconds:a,milliseconds:1,weeks:6048e5},v=function(C){return C instanceof A},d=function(C,b,u){return new A(C,u,b.$l)},n=function(C){return o.p(C)+"s"},x=function(C){return C<0},S=function(C){return x(C)?Math.ceil(C):Math.floor(C)},O=function(C){return Math.abs(C)},R=function(C,b){return C?x(C)?{negative:!0,format:""+O(C)+b}:{negative:!1,format:""+C+b}:{negative:!1,format:""}},A=(function(){function C(u,$,M){var L=this;if(this.$d={},this.$l=M,u===void 0&&(this.$ms=0,this.parseFromMilliseconds()),$)return d(u*g[n($)],this);if(typeof u=="number")return this.$ms=u,this.parseFromMilliseconds(),this;if(typeof u=="object")return Object.keys(u).forEach((function(j){L.$d[n(j)]=u[j]})),this.calMilliseconds(),this;if(typeof u=="string"){var P=u.match(y);if(P){var T=P.slice(2).map((function(j){return j!=null?Number(j):0}));return this.$d.years=T[0],this.$d.months=T[1],this.$d.weeks=T[2],this.$d.days=T[3],this.$d.hours=T[4],this.$d.minutes=T[5],this.$d.seconds=T[6],this.calMilliseconds(),this}}return this}var b=C.prototype;return b.calMilliseconds=function(){var u=this;this.$ms=Object.keys(this.$d).reduce((function($,M){return $+(u.$d[M]||0)*g[M]}),0)},b.parseFromMilliseconds=function(){var u=this.$ms;this.$d.years=S(u/f),u%=f,this.$d.months=S(u/m),u%=m,this.$d.days=S(u/i),u%=i,this.$d.hours=S(u/h),u%=h,this.$d.minutes=S(u/c),u%=c,this.$d.seconds=S(u/a),u%=a,this.$d.milliseconds=u},b.toISOString=function(){var u=R(this.$d.years,"Y"),$=R(this.$d.months,"M"),M=+this.$d.days||0;this.$d.weeks&&(M+=7*this.$d.weeks);var L=R(M,"D"),P=R(this.$d.hours,"H"),T=R(this.$d.minutes,"M"),j=this.$d.seconds||0;this.$d.milliseconds&&(j+=this.$d.milliseconds/1e3,j=Math.round(1e3*j)/1e3);var Y=R(j,"S"),N=u.negative||$.negative||L.negative||P.negative||T.negative||Y.negative,U=P.format||T.format||Y.format?"T":"",I=(N?"-":"")+"P"+u.format+$.format+L.format+U+P.format+T.format+Y.format;return I==="P"||I==="-P"?"P0D":I},b.toJSON=function(){return this.toISOString()},b.format=function(u){var $=u||"YYYY-MM-DDTHH:mm:ss",M={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return $.replace(l,(function(L,P){return P||String(M[L])}))},b.as=function(u){return this.$ms/g[n(u)]},b.get=function(u){var $=this.$ms,M=n(u);return M==="milliseconds"?$%=1e3:$=M==="weeks"?S($/g[M]):this.$d[M],$||0},b.add=function(u,$,M){var L;return L=$?u*g[n($)]:v(u)?u.$ms:d(u,this).$ms,d(this.$ms+L*(M?-1:1),this)},b.subtract=function(u,$){return this.add(u,$,!0)},b.locale=function(u){var $=this.clone();return $.$l=u,$},b.clone=function(){return d(this.$ms,this)},b.humanize=function(u){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!u)},b.valueOf=function(){return this.asMilliseconds()},b.milliseconds=function(){return this.get("milliseconds")},b.asMilliseconds=function(){return this.as("milliseconds")},b.seconds=function(){return this.get("seconds")},b.asSeconds=function(){return this.as("seconds")},b.minutes=function(){return this.get("minutes")},b.asMinutes=function(){return this.as("minutes")},b.hours=function(){return this.get("hours")},b.asHours=function(){return this.as("hours")},b.days=function(){return this.get("days")},b.asDays=function(){return this.as("days")},b.weeks=function(){return this.get("weeks")},b.asWeeks=function(){return this.as("weeks")},b.months=function(){return this.get("months")},b.asMonths=function(){return this.as("months")},b.years=function(){return this.get("years")},b.asYears=function(){return this.as("years")},C})(),k=function(C,b,u){return C.add(b.years()*u,"y").add(b.months()*u,"M").add(b.days()*u,"d").add(b.hours()*u,"h").add(b.minutes()*u,"m").add(b.seconds()*u,"s").add(b.milliseconds()*u,"ms")};return function(C,b,u){r=u,o=u().$utils(),u.duration=function(L,P){var T=u.locale();return d(L,{$l:T},P)},u.isDuration=v;var $=b.prototype.add,M=b.prototype.subtract;b.prototype.add=function(L,P){return v(L)?k(this,L,1):$.bind(this)(L,P)},b.prototype.subtract=function(L,P){return v(L)?k(this,L,-1):M.bind(this)(L,P)}}}))})(nt)),nt.exports}var Xo=qo();const Ko=Zt(Xo);var st={exports:{}},Zo=st.exports,Bt;function Go(){return Bt||(Bt=1,(function(e,t){(function(r,o){e.exports=o()})(Zo,(function(){return function(r,o,a){r=r||{};var c=o.prototype,h={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(f,m,y,g){return c.fromToBase(f,m,y,g)}a.en.relativeTime=h,c.fromToBase=function(f,m,y,g,v){for(var d,n,x,S=y.$locale().relativeTime||h,O=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=O.length,A=0;A<R;A+=1){var k=O[A];k.d&&(d=g?a(f).diff(y,k.d,!0):y.diff(f,k.d,!0));var C=(r.rounding||Math.round)(Math.abs(d));if(x=d>0,C<=k.r||!k.r){C<=1&&A>0&&(k=O[A-1]);var b=S[k.l];v&&(C=v(""+C)),n=typeof b=="string"?b.replace("%d",C):b(C,m,k.l,x);break}}if(m)return n;var u=x?S.future:S.past;return typeof u=="function"?u(n):u.replace("%s",n)},c.to=function(f,m){return i(f,m,this,!0)},c.from=function(f,m){return i(f,m,this)};var l=function(f){return f.$u?a.utc():a()};c.toNow=function(f){return this.to(l(this),f)},c.fromNow=function(f){return this.from(l(this),f)}}}))})(st)),st.exports}var Jo=Go();const Qo=Zt(Jo);jt.extend(Ko);jt.extend(Qo);function en(e){const t=typeof e=="string"?new Date(e):e,o=Math.floor((new Date().getTime()-t.getTime())/1e3);if(o<60)return`${o} ${H("seconds ago")}`;const a=Math.floor(o/60);if(a<60)return`${a} ${H("minutes ago")}`;const c=Math.floor(a/60);if(c<24)return`${c} ${H("hours ago")}`;const h=Math.floor(c/24);if(h<30)return`${h} ${H("days ago")}`;const i=Math.floor(h/30);return i<12?`${i} ${H("months ago")};`:`${Math.floor(i/12)} ${H("years ago")}`}const vt={root:Ot("label__root"),icon:Ot("label__icon")},tn=ne("span",{shouldForwardProp:e=>!["color","variant","disabled","sx"].includes(e)})(({color:e,variant:t,disabled:r,theme:o})=>{const a={...e==="default"&&{...t==="filled"&&{color:o.vars.palette.common.white,backgroundColor:o.vars.palette.text.primary,...o.applyStyles("dark",{color:o.vars.palette.grey[800]})},...t==="outlined"&&{backgroundColor:"transparent",color:o.vars.palette.text.primary,border:`2px solid ${o.vars.palette.text.primary}`},...t==="soft"&&{color:o.vars.palette.text.secondary,backgroundColor:Et(o.vars.palette.grey["500Channel"],.16)},...t==="inverted"&&{color:o.vars.palette.grey[800],backgroundColor:o.vars.palette.grey[300]}}},c={...e&&e!=="default"&&{...t==="filled"&&{color:o.vars.palette[e].contrastText,backgroundColor:o.vars.palette[e].main},...t==="outlined"&&{backgroundColor:"transparent",color:o.vars.palette[e].main,border:`2px solid ${o.vars.palette[e].main}`},...t==="soft"&&{color:o.vars.palette[e].dark,backgroundColor:Et(o.vars.palette[e].mainChannel,.16),...o.applyStyles("dark",{color:o.vars.palette[e].light})},...t==="inverted"&&{color:o.vars.palette[e].darker,backgroundColor:o.vars.palette[e].lighter}}};return{height:24,minWidth:24,lineHeight:0,flexShrink:0,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",gap:o.spacing(.75),justifyContent:"center",padding:o.spacing(0,.75),fontSize:o.typography.pxToRem(12),fontWeight:o.typography.fontWeightBold,borderRadius:Number(o.shape.borderRadius)*.75,transition:o.transitions.create(["all"],{duration:o.transitions.duration.shorter}),...a,...c,...r&&{opacity:.48,pointerEvents:"none"}}}),Wt=ne("span")({width:16,height:16,flexShrink:0,"& svg, img":{width:"100%",height:"100%",objectFit:"cover"}});function rn(e){const t=De.c(28);let r,o,a,c,h,i,l,f,m;t[0]!==e?({sx:l,endIcon:c,children:r,startIcon:i,className:o,disabled:a,variant:f,color:m,...h}=e,t[0]=e,t[1]=r,t[2]=o,t[3]=a,t[4]=c,t[5]=h,t[6]=i,t[7]=l,t[8]=f,t[9]=m):(r=t[1],o=t[2],a=t[3],c=t[4],h=t[5],i=t[6],l=t[7],f=t[8],m=t[9]);const y=f===void 0?"soft":f,g=m===void 0?"default":m;let v;t[10]!==o?(v=Tr([vt.root,o]),t[10]=o,t[11]=v):v=t[11];let d;t[12]!==i?(d=i&&s.jsx(Wt,{className:vt.icon,children:i}),t[12]=i,t[13]=d):d=t[13];let n;t[14]!==r?(n=typeof r=="string"?Dr(r):r,t[14]=r,t[15]=n):n=t[15];let x;t[16]!==c?(x=c&&s.jsx(Wt,{className:vt.icon,children:c}),t[16]=c,t[17]=x):x=t[17];let S;return t[18]!==g||t[19]!==a||t[20]!==h||t[21]!==l||t[22]!==v||t[23]!==d||t[24]!==n||t[25]!==x||t[26]!==y?(S=s.jsxs(tn,{color:g,variant:y,disabled:a,className:v,sx:l,...h,children:[d,n,x]}),t[18]=g,t[19]=a,t[20]=h,t[21]=l,t[22]=v,t[23]=d,t[24]=n,t[25]=x,t[26]=y,t[27]=S):S=t[27],S}const dr=Xt(e=>({open:!1,setOpen:t=>e({open:t})})),Oe=Qt();function on(){var _e;const e=De.c(89),{open:t,setOpen:r}=dr();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={control:Oe.control,name:["id","subject","exams","_score"]},e[0]=o):o=e[0];const[a,c,h,i]=tr(o),{scores:l,totalScore:f}=St(()=>No(h,c),[h,c])??{scores:[],totalScore:0},{isLoading:m,isSubmitSuccessful:y}=er(Oe);let g,v;e[1]!==y||e[2]!==t||e[3]!==r?(g=()=>{y&&t&&r(!1)},v=[y,t,r],e[1]=y,e[2]=t,e[3]=r,e[4]=g,e[5]=v):(g=e[4],v=e[5]),_.useEffect(g,v);const d=at[c],n=ze[h];let x;e[6]!==a?(x=Oe.handleSubmit(async be=>{const ke=new Date().toISOString();be.id||delete be.id,await je.scores.put({...be,...a&&{createdAt:ke},updatedAt:ke})}),e[6]=a,e[7]=x):x=e[7];const S=x;let O;e[8]!==l[0]||e[9]!==l.length||e[10]!==f?(O=()=>{l.length===f&&l.length>0?Oe.setValue("id",l[0].id):Oe.setValue("id",0)},e[8]=l[0],e[9]=l.length,e[10]=f,e[11]=O):O=e[11];let R;e[12]!==l||e[13]!==f?(R=[l,f],e[12]=l,e[13]=f,e[14]=R):R=e[14],_.useEffect(O,R);let A;e[15]!==a?(A=a?H("Update score"):H("Input score"),e[15]=a,e[16]=A):A=e[16];let k;e[17]!==A?(k=s.jsx(rr,{children:A}),e[17]=A,e[18]=k):k=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C={borderRadius:1,borderWidth:1,p:1,px:2},e[19]=C):C=e[19];const b=d==null?void 0:d.color;let u;e[20]!==(d==null?void 0:d.color)?(u=be=>be.palette.getContrastText(d==null?void 0:d.color),e[20]=d==null?void 0:d.color,e[21]=u):u=e[21];let $;e[22]!==u||e[23]!==b?($={bgcolor:b,color:u},e[22]=u,e[23]=b,e[24]=$):$=e[24];const M=(_e=at[c])==null?void 0:_e.icon;let L;e[25]!==M?(L=s.jsx($e,{icon:M}),e[25]=M,e[26]=L):L=e[26];let P;e[27]!==$||e[28]!==L?(P=s.jsx(qt,{sx:$,children:L}),e[27]=$,e[28]=L,e[29]=P):P=e[29];const T=d==null?void 0:d.name;let j;e[30]!==T?(j=s.jsx(Ee,{variant:"h6",children:T}),e[30]=T,e[31]=j):j=e[31];const Y=`${h} ${l.length}/${f}`,N=n==null?void 0:n.color,U=n==null?void 0:n.icon;let I;e[32]!==N||e[33]!==U?(I=s.jsx($e,{color:N,icon:U}),e[32]=N,e[33]=U,e[34]=I):I=e[34];let W;e[35]!==(n==null?void 0:n.color)?(W=(n==null?void 0:n.color)&&yt(n==null?void 0:n.color).alpha(.08).string(),e[35]=n==null?void 0:n.color,e[36]=W):W=e[36];const K=n==null?void 0:n.color;let D;e[37]!==(n==null?void 0:n.color)?(D=yt(n==null?void 0:n.color).alpha(.16).string(),e[37]=n==null?void 0:n.color,e[38]=D):D=e[38];let X;e[39]!==W||e[40]!==K||e[41]!==D?(X={bgcolor:W,color:K,border:1,borderColor:D},e[39]=W,e[40]=K,e[41]=D,e[42]=X):X=e[42];let ee;e[43]!==Y||e[44]!==I||e[45]!==X?(ee=s.jsx(wt,{label:Y,size:"small",icon:I,sx:X}),e[43]=Y,e[44]=I,e[45]=X,e[46]=ee):ee=e[46];let ae;e[47]!==j||e[48]!==ee?(ae=s.jsxs(Be,{flex:1,alignItems:"flex-start",children:[j,ee]}),e[47]=j,e[48]=ee,e[49]=ae):ae=e[49];let pe;e[50]!==i?(pe=i==null?void 0:i.toFixed(2),e[50]=i,e[51]=pe):pe=e[51];let ye;e[52]!==pe?(ye=s.jsx(wt,{label:pe}),e[52]=pe,e[53]=ye):ye=e[53];let xe;e[54]!==P||e[55]!==ae||e[56]!==ye?(xe=s.jsxs(ve,{display:"flex",alignItems:"center",gap:2,sx:C,children:[P,ae,ye]}),e[54]=P,e[55]=ae,e[56]=ye,e[57]=xe):xe=e[57];let ce;e[58]===Symbol.for("react.memo_cache_sentinel")?(ce={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[58]=ce):ce=e[58];let me;e[59]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsxs(ve,{sx:ce,children:[s.jsx(Ct,{children:H("Score")}),s.jsx(it,{control:Oe.control,name:"score",render:sn})]}),e[59]=me):me=e[59];let ie;e[60]!==l?(ie=l.length>0&&s.jsx(it,{control:Oe.control,name:"id",defaultValue:0,render:be=>{const{field:ke}=be,p=l.find(w=>w.id===ke.value);return s.jsxs(Ir,{label:H("Select score for update"),select:!0,sx:{"& .MuiSelect-select":{display:"flex",alignItems:"center"}},helperText:p&&en(p.updatedAt),...ke,children:[s.jsx(Gt,{value:0,children:s.jsx("em",{children:H("New score")})}),l.map(nn)]})}}),e[60]=l,e[61]=ie):ie=e[61];let de;e[62]!==xe||e[63]!==ie?(de=s.jsx(or,{children:s.jsxs(Be,{spacing:2,children:[xe,me,ie]})}),e[62]=xe,e[63]=ie,e[64]=de):de=e[64];let te;e[65]!==r?(te=()=>r(!1),e[65]=r,e[66]=te):te=e[66];let Z;e[67]===Symbol.for("react.memo_cache_sentinel")?(Z=H("Close"),e[67]=Z):Z=e[67];let ue;e[68]!==m||e[69]!==te?(ue=s.jsx(Ve,{disabled:m,onClick:te,children:Z}),e[68]=m,e[69]=te,e[70]=ue):ue=e[70];const F=f===l.length&&!a,J=a?"solar:diskette-bold":"solar:check-circle-linear";let V;e[71]!==J?(V=s.jsx($e,{icon:J}),e[71]=J,e[72]=V):V=e[72];let G;e[73]!==a?(G=a?H("Update score"):H("Input score"),e[73]=a,e[74]=G):G=e[74];let fe;e[75]!==S||e[76]!==m||e[77]!==F||e[78]!==V||e[79]!==G?(fe=s.jsx(Ve,{disabled:F,loading:m,variant:"contained",color:"primary",startIcon:V,onClick:S,children:G}),e[75]=S,e[76]=m,e[77]=F,e[78]=V,e[79]=G,e[80]=fe):fe=e[80];let ge;e[81]!==ue||e[82]!==fe?(ge=s.jsxs(nr,{children:[ue,fe]}),e[81]=ue,e[82]=fe,e[83]=ge):ge=e[83];let Te;return e[84]!==t||e[85]!==de||e[86]!==ge||e[87]!==k?(Te=s.jsxs(sr,{open:t,fullWidth:!0,maxWidth:"xs",children:[k,de,ge]}),e[84]=t,e[85]=de,e[86]=ge,e[87]=k,e[88]=Te):Te=e[88],Te}function nn(e){return s.jsxs(Gt,{value:e.id,children:[s.jsx(rn,{sx:{width:40,color:Tt(e.score)},children:e.score.toFixed(2)}),s.jsx(Ee,{ml:.5,variant:"body2",color:"textSecondary",children:jt(e.updatedAt).format("DD MMM YYYY")})]},e.id)}function sn(e){const{field:t}=e;return s.jsxs(ve,{width:1,display:"flex",mt:2,children:[s.jsx(ve,{children:s.jsx(Mt,{score:t.value,isColor:!0})}),s.jsx(lr,{sx:{flex:1},...t})]})}function mn(){const e=De.c(30);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[r,o]=_.useState(t),{setOpen:a,open:c}=cr(),{setOpen:h,open:i}=dr();let l;e[1]!==a?(l=async $=>{a(!0),Re.reset(await je.targets.get($))},e[1]=a,e[2]=l):l=e[2];const f=l;let m;e[3]!==a?(m=async()=>{const $=(await ir())[0]??"";Re.reset(Er($)),a(!0)},e[3]=a,e[4]=m):m=e[4];const y=m;let g;e[5]!==h?(g=($,M,L)=>P=>{h(!0),Oe.reset({subject:$,exams:P,score:Math.min(Math.round(M*4)/4,10),_score:L})},e[5]=h,e[6]=g):g=e[6];const v=g;let d,n;e[7]!==c||e[8]!==i?(d=()=>{!c&&!i&&_o().then(o)},n=[c,i],e[7]=c,e[8]=i,e[9]=d,e[10]=n):(d=e[9],n=e[10]),_.useEffect(d,n);let x,S;e[11]===Symbol.for("react.memo_cache_sentinel")?(x={alignSelf:"flex-end"},S=s.jsx($e,{icon:"mingcute:add-line"}),e[11]=x,e[12]=S):(x=e[11],S=e[12]);let O;e[13]===Symbol.for("react.memo_cache_sentinel")?(O=H("Add target"),e[13]=O):O=e[13];let R;e[14]!==y?(R=s.jsx(Ve,{variant:"contained",sx:x,startIcon:S,onClick:y,color:"primary",children:O}),e[14]=y,e[15]=R):R=e[15];let A;if(e[16]!==v||e[17]!==f||e[18]!==r){let $;e[20]!==v||e[21]!==f?($=M=>s.jsx(Oo,{onClickExams:v(M.subject,Math.max(M.requiredAvg,8),M.requiredAvg),target:M,handleEdit:f},M.subject),e[20]=v,e[21]=f,e[22]=$):$=e[22],A=r.map($),e[16]=v,e[17]=f,e[18]=r,e[19]=A}else A=e[19];let k;e[23]!==A||e[24]!==R?(k=s.jsxs(Be,{spacing:2,children:[R,A]}),e[23]=A,e[24]=R,e[25]=k):k=e[25];let C,b;e[26]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Wo,{}),b=s.jsx(on,{}),e[26]=C,e[27]=b):(C=e[26],b=e[27]);let u;return e[28]!==k?(u=s.jsxs(s.Fragment,{children:[k,C,b]}),e[28]=k,e[29]=u):u=e[29],u}export{mn as default};
