import{f as ot,h as at,r as N,u as it,i as cr,k as ur,l as dr,m as St,n as Te,o as ie,q as Ie,j as o,v as lt,w as Ve,P as fr,x as Ae,y as $t,z as Je,A as Ne,B as He,D as pr,E as pt,F as Mt,G as Qe,H as mr,J as Le,K as Ee,L as wt,M as Ot,c as ze,N as ht,O as Vt,Q as Wt,R as be,V as Y,X as hr,Y as gt,I as ke,Z as gr,_ as br,$ as Yt,a0 as Ht,a1 as kt,a2 as Tt,U as Lt,a3 as xr}from"./index-oeCntI2u.js";import{v as vr,d as Ce,S as tt,y as yr,E as Pe,B as Sr,A as Bt,L as De,u as bt,a as wr,b as kr,c as Cr,N as jr,e as $r}from"./select-subject-CUvFybAe.js";import{S as Fe}from"./Stack-4_dn7Npz.js";import{C as Rt,B as Oe}from"./Button-DLqoW5RA.js";import{C as xt}from"./Autocomplete-DkONfXsQ.js";import{I as Mr,t as Ut}from"./index-B5i5S_9h.js";import{u as Tr,c as qt,a as Xt,b as Kt,L as Lr,C as rt,T as Rr}from"./index.esm-D6rnI-5H.js";import{L as vt}from"./label-border-CKRLvzmV.js";import{T as Ar,g as At,a as Er}from"./getReactElementRef-CdgfStFM.js";import{a as Gt,b as Jt,c as Qt,D as Zt,M as er}from"./MenuItem-CetVxl3Z.js";import"./Zoom-CnTckyHp.js";function Pr(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function Ir(e){return ot("MuiCollapse",e)}at("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zr=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return lt(n,Ir,r)},_r=ie("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Ve(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Dr=ie("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Nr=ie("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),yt=N.forwardRef(function(t,r){const n=it({props:t,name:"MuiCollapse"}),{addEndListener:a,children:c,className:g,collapsedSize:i="0px",component:l,easing:f,in:m,onEnter:v,onEntered:b,onEntering:x,onExit:u,onExited:s,onExiting:y,orientation:k="vertical",slots:P={},slotProps:A={},style:R,timeout:C=cr.standard,TransitionComponent:w=Ar,...h}=n,d={...n,orientation:k,collapsedSize:i},j=zr(d),T=ur(),L=dr(),E=N.useRef(null),M=N.useRef(),$=typeof i=="number"?`${i}px`:i,H=k==="horizontal",O=H?"width":"height",X=N.useRef(null),_=St(r,X),B=F=>Q=>{if(F){const V=X.current;Q===void 0?F(V):F(V,Q)}},J=()=>E.current?E.current[H?"clientWidth":"clientHeight"]:0,D=B((F,Q)=>{E.current&&H&&(E.current.style.position="absolute"),F.style[O]=$,v&&v(F,Q)}),q=B((F,Q)=>{const V=J();E.current&&H&&(E.current.style.position="");const{duration:G,easing:de}=At({style:R,timeout:C,easing:f},{mode:"enter"});if(C==="auto"){const he=T.transitions.getAutoHeightDuration(V);F.style.transitionDuration=`${he}ms`,M.current=he}else F.style.transitionDuration=typeof G=="string"?G:`${G}ms`;F.style[O]=`${V}px`,F.style.transitionTimingFunction=de,x&&x(F,Q)}),ne=B((F,Q)=>{F.style[O]="auto",b&&b(F,Q)}),se=B(F=>{F.style[O]=`${J()}px`,u&&u(F)}),fe=B(s),ve=B(F=>{const Q=J(),{duration:V,easing:G}=At({style:R,timeout:C,easing:f},{mode:"exit"});if(C==="auto"){const de=T.transitions.getAutoHeightDuration(Q);F.style.transitionDuration=`${de}ms`,M.current=de}else F.style.transitionDuration=typeof V=="string"?V:`${V}ms`;F.style[O]=$,F.style.transitionTimingFunction=G,y&&y(F)}),xe=F=>{C==="auto"&&L.start(M.current||0,F),a&&a(X.current,F)},le={slots:P,slotProps:A,component:l},[me,oe]=Te("root",{ref:_,className:Ie(j.root,g),elementType:_r,externalForwardedProps:le,ownerState:d,additionalProps:{style:{[H?"minWidth":"minHeight"]:$,...R}}}),[ce,ee]=Te("wrapper",{ref:E,className:j.wrapper,elementType:Dr,externalForwardedProps:le,ownerState:d}),[K,ue]=Te("wrapperInner",{className:j.wrapperInner,elementType:Nr,externalForwardedProps:le,ownerState:d});return o.jsx(w,{in:m,onEnter:D,onEntered:ne,onEntering:q,onExit:se,onExited:fe,onExiting:ve,addEndListener:xe,nodeRef:X,timeout:C==="auto"?null:C,...h,children:(F,{ownerState:Q,...V})=>{const G={...d,state:F};return o.jsx(me,{...oe,className:Ie(oe.className,{entered:j.entered,exited:!m&&$==="0px"&&j.hidden}[F]),ownerState:G,...V,children:o.jsx(ce,{...ee,ownerState:G,children:o.jsx(K,{...ue,ownerState:G,children:c})})})}})});yt&&(yt.muiSupportAuto=!0);function Fr(e){return ot("MuiCard",e)}at("MuiCard",["root"]);const Or=e=>{const{classes:t}=e;return lt({root:["root"]},Fr,t)},Vr=ie(fr,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Wr=N.forwardRef(function(t,r){const n=it({props:t,name:"MuiCard"}),{className:a,raised:c=!1,...g}=n,i={...n,raised:c},l=Or(i);return o.jsx(Vr,{className:Ie(l.root,a),elevation:c?8:void 0,ref:r,ownerState:i,...g})});function Yr(e){return ot("MuiCardHeader",e)}const nt=at("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Hr=e=>{const{classes:t}=e;return lt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Yr,t)},Br=ie("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${nt.title}`]:t.title},{[`& .${nt.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Ur=ie("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),qr=ie("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Xr=ie("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${$t.root}:where(& .${nt.title})`]:{display:"block"},[`.${$t.root}:where(& .${nt.subheader})`]:{display:"block"}}),Kr=N.forwardRef(function(t,r){const n=it({props:t,name:"MuiCardHeader"}),{action:a,avatar:c,component:g="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:f,title:m,titleTypographyProps:v,slots:b={},slotProps:x={},...u}=n,s={...n,component:g,disableTypography:i},y=Hr(s),k={slots:b,slotProps:{title:v,subheader:f,...x}};let P=m;const[A,R]=Te("title",{className:y.title,elementType:Ae,externalForwardedProps:k,ownerState:s,additionalProps:{variant:c?"body2":"h5",component:"span"}});P!=null&&P.type!==Ae&&!i&&(P=o.jsx(A,{...R,children:P}));let C=l;const[w,h]=Te("subheader",{className:y.subheader,elementType:Ae,externalForwardedProps:k,ownerState:s,additionalProps:{variant:c?"body2":"body1",color:"textSecondary",component:"span"}});C!=null&&C.type!==Ae&&!i&&(C=o.jsx(w,{...h,children:C}));const[d,j]=Te("root",{ref:r,className:y.root,elementType:Br,externalForwardedProps:{...k,...u,component:g},ownerState:s}),[T,L]=Te("avatar",{className:y.avatar,elementType:Ur,externalForwardedProps:k,ownerState:s}),[E,M]=Te("content",{className:y.content,elementType:Xr,externalForwardedProps:k,ownerState:s}),[$,H]=Te("action",{className:y.action,elementType:qr,externalForwardedProps:k,ownerState:s});return o.jsxs(d,{...j,children:[c&&o.jsx(T,{...L,children:c}),o.jsxs(E,{...M,children:[P,C]}),a&&o.jsx($,{...H,children:a})]})});function Et(e){return e.substring(2).toLowerCase()}function Gr(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Jr(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:a,touchEvent:c="onTouchEnd"}=e,g=N.useRef(!1),i=N.useRef(null),l=N.useRef(!1),f=N.useRef(!1);N.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const m=St(Er(t),i),v=Je(u=>{const s=f.current;f.current=!1;const y=Ne(i.current);if(!l.current||!i.current||"clientX"in u&&Gr(u,y))return;if(g.current){g.current=!1;return}let k;u.composedPath?k=u.composedPath().includes(i.current):k=!y.documentElement.contains(u.target)||i.current.contains(u.target),!k&&(r||!s)&&a(u)}),b=u=>s=>{f.current=!0;const y=t.props[u];y&&y(s)},x={ref:m};return c!==!1&&(x[c]=b(c)),N.useEffect(()=>{if(c!==!1){const u=Et(c),s=Ne(i.current),y=()=>{g.current=!0};return s.addEventListener(u,v),s.addEventListener("touchmove",y),()=>{s.removeEventListener(u,v),s.removeEventListener("touchmove",y)}}},[v,c]),n!==!1&&(x[n]=b(n)),N.useEffect(()=>{if(n!==!1){const u=Et(n),s=Ne(i.current);return s.addEventListener(u,v),()=>{s.removeEventListener(u,v)}}},[v,n]),N.cloneElement(t,x)}function Qr(e,t,r=(n,a)=>n===a){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}const Zr=2;function We(e,t,r,n,a){return r===1?Math.min(e+t,a):Math.max(e-t,n)}function tr(e,t){return e-t}function Pt(e,t){const{index:r}=e.reduce((n,a,c)=>{const g=Math.abs(t-a);return n===null||g<n.distance||g===n.distance?{distance:g,index:c}:n},null)??{};return r}function qe(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const a=r.changedTouches[n];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function st(e,t,r){return(e-t)*100/(r-t)}function en(e,t,r){return(r-t)*e+t}function tn(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function rn(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(tn(t)))}function It({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(tr)}function Xe({sliderRef:e,activeIndex:t,setActive:r}){var a,c,g;const n=Ne(e.current);(!((a=e.current)!=null&&a.contains(n.activeElement))||Number((c=n==null?void 0:n.activeElement)==null?void 0:c.getAttribute("data-index"))!==t)&&((g=e.current)==null||g.querySelector(`[type="range"][data-index="${t}"]`).focus()),r&&r(t)}function Ke(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Qr(e,t):!1}const nn={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},sn=e=>e;let Ge;function zt(){return Ge===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ge=CSS.supports("touch-action","none"):Ge=!0),Ge}function on(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:a=!1,isRtl:c=!1,marks:g=!1,max:i=100,min:l=0,name:f,onChange:m,onChangeCommitted:v,orientation:b="horizontal",rootRef:x,scale:u=sn,step:s=1,shiftStep:y=10,tabIndex:k,value:P}=e,A=N.useRef(void 0),[R,C]=N.useState(-1),[w,h]=N.useState(-1),[d,j]=N.useState(!1),T=N.useRef(0),L=N.useRef(null),[E,M]=Tr({controlled:P,default:r??l,name:"Slider"}),$=m&&((p,S,I)=>{const W=p.nativeEvent||p,U=new W.constructor(W.type,W);Object.defineProperty(U,"target",{writable:!0,value:{value:S,name:f}}),L.current=S,m(U,S,I)}),H=Array.isArray(E);let O=H?E.slice().sort(tr):[E];O=O.map(p=>p==null?l:He(p,l,i));const X=g===!0&&s!==null?[...Array(Math.floor((i-l)/s)+1)].map((p,S)=>({value:l+s*S})):g||[],_=X.map(p=>p.value),[B,J]=N.useState(-1),D=N.useRef(null),q=St(x,D),ne=p=>S=>{var W;const I=Number(S.currentTarget.getAttribute("data-index"));Mt(S.target)&&J(I),h(I),(W=p==null?void 0:p.onFocus)==null||W.call(p,S)},se=p=>S=>{var I;Mt(S.target)||J(-1),h(-1),(I=p==null?void 0:p.onBlur)==null||I.call(p,S)},fe=(p,S)=>{const I=Number(p.currentTarget.getAttribute("data-index")),W=O[I],U=_.indexOf(W);let z=S;if(X&&s==null){const re=_[_.length-1];z>=re?z=re:z<=_[0]?z=_[0]:z=z<W?_[U-1]:_[U+1]}if(z=He(z,l,i),H){a&&(z=He(z,O[I-1]||-1/0,O[I+1]||1/0));const re=z;z=It({values:O,newValue:z,index:I});let pe=I;a||(pe=z.indexOf(re)),Xe({sliderRef:D,activeIndex:pe})}M(z),J(I),$&&!Ke(z,E)&&$(p,z,I),v&&v(p,L.current??z)},ve=p=>S=>{var I;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(S.key)){S.preventDefault();const W=Number(S.currentTarget.getAttribute("data-index")),U=O[W];let z=null;if(s!=null){const re=S.shiftKey?y:s;switch(S.key){case"ArrowUp":z=We(U,re,1,l,i);break;case"ArrowRight":z=We(U,re,c?-1:1,l,i);break;case"ArrowDown":z=We(U,re,-1,l,i);break;case"ArrowLeft":z=We(U,re,c?1:-1,l,i);break;case"PageUp":z=We(U,y,1,l,i);break;case"PageDown":z=We(U,y,-1,l,i);break;case"Home":z=l;break;case"End":z=i;break}}else if(X){const re=_[_.length-1],pe=_.indexOf(U),te=[c?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ye=[c?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];te.includes(S.key)?pe===0?z=_[0]:z=_[pe-1]:ye.includes(S.key)&&(pe===_.length-1?z=re:z=_[pe+1])}z!=null&&fe(S,z)}(I=p==null?void 0:p.onKeyDown)==null||I.call(p,S)};pr(()=>{var p;n&&D.current.contains(document.activeElement)&&((p=document.activeElement)==null||p.blur())},[n]),n&&R!==-1&&C(-1),n&&B!==-1&&J(-1);const xe=p=>S=>{var I;(I=p.onChange)==null||I.call(p,S),fe(S,S.target.valueAsNumber)},le=N.useRef(void 0);let me=b;c&&b==="horizontal"&&(me+="-reverse");const oe=({finger:p,move:S=!1})=>{const{current:I}=D,{width:W,height:U,bottom:z,left:re}=I.getBoundingClientRect();let pe;me.startsWith("vertical")?pe=(z-p.y)/U:pe=(p.x-re)/W,me.includes("-reverse")&&(pe=1-pe);let te;if(te=en(pe,l,i),s)te=rn(te,s,l);else{const Ye=Pt(_,te);te=_[Ye]}te=He(te,l,i);let ye=0;if(H){S?ye=le.current:ye=Pt(O,te),a&&(te=He(te,O[ye-1]||-1/0,O[ye+1]||1/0));const Ye=te;te=It({values:O,newValue:te,index:ye}),a&&S||(ye=te.indexOf(Ye),le.current=ye)}return{newValue:te,activeIndex:ye}},ce=Je(p=>{const S=qe(p,A);if(!S)return;if(T.current+=1,p.type==="mousemove"&&p.buttons===0){ee(p);return}const{newValue:I,activeIndex:W}=oe({finger:S,move:!0});Xe({sliderRef:D,activeIndex:W,setActive:C}),M(I),!d&&T.current>Zr&&j(!0),$&&!Ke(I,E)&&$(p,I,W)}),ee=Je(p=>{const S=qe(p,A);if(j(!1),!S)return;const{newValue:I}=oe({finger:S,move:!0});C(-1),p.type==="touchend"&&h(-1),v&&v(p,L.current??I),A.current=void 0,ue()}),K=Je(p=>{if(n)return;zt()||p.preventDefault();const S=p.changedTouches[0];S!=null&&(A.current=S.identifier);const I=qe(p,A);if(I!==!1){const{newValue:U,activeIndex:z}=oe({finger:I});Xe({sliderRef:D,activeIndex:z,setActive:C}),M(U),$&&!Ke(U,E)&&$(p,U,z)}T.current=0;const W=Ne(D.current);W.addEventListener("touchmove",ce,{passive:!0}),W.addEventListener("touchend",ee,{passive:!0})}),ue=N.useCallback(()=>{const p=Ne(D.current);p.removeEventListener("mousemove",ce),p.removeEventListener("mouseup",ee),p.removeEventListener("touchmove",ce),p.removeEventListener("touchend",ee)},[ee,ce]);N.useEffect(()=>{const{current:p}=D;return p.addEventListener("touchstart",K,{passive:zt()}),()=>{p.removeEventListener("touchstart",K),ue()}},[ue,K]),N.useEffect(()=>{n&&ue()},[n,ue]);const F=p=>S=>{var U;if((U=p.onMouseDown)==null||U.call(p,S),n||S.defaultPrevented||S.button!==0)return;S.preventDefault();const I=qe(S,A);if(I!==!1){const{newValue:z,activeIndex:re}=oe({finger:I});Xe({sliderRef:D,activeIndex:re,setActive:C}),M(z),$&&!Ke(z,E)&&$(S,z,re)}T.current=0;const W=Ne(D.current);W.addEventListener("mousemove",ce,{passive:!0}),W.addEventListener("mouseup",ee)},Q=st(H?O[0]:l,l,i),V=st(O[O.length-1],l,i)-Q,G=(p={})=>{const S=pt(p),I={onMouseDown:F(S||{})},W={...S,...I};return{...p,ref:q,...W}},de=p=>S=>{var W;(W=p.onMouseOver)==null||W.call(p,S);const I=Number(S.currentTarget.getAttribute("data-index"));h(I)},he=p=>S=>{var I;(I=p.onMouseLeave)==null||I.call(p,S),h(-1)},je=(p={})=>{const S=pt(p),I={onMouseOver:de(S||{}),onMouseLeave:he(S||{})};return{...p,...S,...I}},_e=p=>({pointerEvents:R!==-1&&R!==p?"none":void 0});let ge;return b==="vertical"&&(ge=c?"vertical-rl":"vertical-lr"),{active:R,axis:me,axisProps:nn,dragging:d,focusedThumbIndex:B,getHiddenInputProps:(p={})=>{const S=pt(p),I={onChange:xe(S||{}),onFocus:ne(S||{}),onBlur:se(S||{}),onKeyDown:ve(S||{})},W={...S,...I};return{tabIndex:k,"aria-labelledby":t,"aria-orientation":b,"aria-valuemax":u(i),"aria-valuemin":u(l),name:f,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:n,...p,...W,style:{...vr,direction:c?"rtl":"ltr",width:"100%",height:"100%",writingMode:ge}}},getRootProps:G,getThumbProps:je,marks:X,open:w,range:H,rootRef:q,trackLeap:V,trackOffset:Q,values:O,getThumbStyle:_e}}const an=e=>!e||!Qe(e);function ln(e){return ot("MuiSlider",e)}const Se=at("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),cn=e=>{const{open:t}=e;return{offset:Ie(t&&Se.valueLabelOpen),circle:Se.valueLabelCircle,label:Se.valueLabelLabel}};function un(e){const{children:t,className:r,value:n}=e,a=cn(e);return t?N.cloneElement(t,{className:t.props.className},o.jsxs(N.Fragment,{children:[t.props.children,o.jsx("span",{className:Ie(a.offset,r),"aria-hidden":!0,children:o.jsx("span",{className:a.circle,children:o.jsx("span",{className:a.label,children:n})})})]})):null}function _t(e){return e}const dn=ie("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Ee(r.color)}`],r.size!=="medium"&&t[`size${Ee(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(Ve(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Se.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Se.dragging}`]:{[`& .${Se.thumb}, & .${Se.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(wt()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),fn=ie("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),pn=ie("span",{name:"MuiSlider",slot:"Track"})(Ve(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(wt()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),mn=ie("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${Ee(r.color)}`],r.size!=="medium"&&t[`thumbSize${Ee(r.size)}`]]}})(Ve(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Se.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(wt()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${Se.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Se.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),hn=ie(un,{name:"MuiSlider",slot:"ValueLabel"})(Ve(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Se.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Se.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),gn=ie("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ot(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(Ve(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),bn=ie("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ot(e)&&e!=="markLabelActive"})(Ve(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),xn=e=>{const{disabled:t,dragging:r,marked:n,orientation:a,track:c,classes:g,color:i,size:l}=e,f={root:["root",t&&"disabled",r&&"dragging",n&&"marked",a==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",i&&`color${Ee(i)}`,l&&`size${Ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Ee(l)}`,i&&`thumbColor${Ee(i)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return lt(f,ln,g)},vn=({children:e})=>e,yn=N.forwardRef(function(t,r){const n=it({props:t,name:"MuiSlider"}),a=mr(),{"aria-label":c,"aria-valuetext":g,"aria-labelledby":i,component:l="span",components:f={},componentsProps:m={},color:v="primary",classes:b,className:x,disableSwap:u=!1,disabled:s=!1,getAriaLabel:y,getAriaValueText:k,marks:P=!1,max:A=100,min:R=0,name:C,onChange:w,onChangeCommitted:h,orientation:d="horizontal",shiftStep:j=10,size:T="medium",step:L=1,scale:E=_t,slotProps:M,slots:$,tabIndex:H,track:O="normal",value:X,valueLabelDisplay:_="off",valueLabelFormat:B=_t,...J}=n,D={...n,isRtl:a,max:A,min:R,classes:b,disabled:s,disableSwap:u,orientation:d,marks:P,color:v,size:T,step:L,shiftStep:j,scale:E,track:O,valueLabelDisplay:_,valueLabelFormat:B},{axisProps:q,getRootProps:ne,getHiddenInputProps:se,getThumbProps:fe,open:ve,active:xe,axis:le,focusedThumbIndex:me,range:oe,dragging:ce,marks:ee,values:K,trackOffset:ue,trackLeap:F,getThumbStyle:Q}=on({...D,rootRef:r});D.marked=ee.length>0&&ee.some(Z=>Z.label),D.dragging=ce,D.focusedThumbIndex=me;const V=xn(D),G=($==null?void 0:$.root)??f.Root??dn,de=($==null?void 0:$.rail)??f.Rail??fn,he=($==null?void 0:$.track)??f.Track??pn,je=($==null?void 0:$.thumb)??f.Thumb??mn,_e=($==null?void 0:$.valueLabel)??f.ValueLabel??hn,ge=($==null?void 0:$.mark)??f.Mark??gn,we=($==null?void 0:$.markLabel)??f.MarkLabel??bn,p=($==null?void 0:$.input)??f.Input??"input",S=(M==null?void 0:M.root)??m.root,I=(M==null?void 0:M.rail)??m.rail,W=(M==null?void 0:M.track)??m.track,U=(M==null?void 0:M.thumb)??m.thumb,z=(M==null?void 0:M.valueLabel)??m.valueLabel,re=(M==null?void 0:M.mark)??m.mark,pe=(M==null?void 0:M.markLabel)??m.markLabel,te=(M==null?void 0:M.input)??m.input,ye=Le({elementType:G,getSlotProps:ne,externalSlotProps:S,externalForwardedProps:J,additionalProps:{...an(G)&&{as:l}},ownerState:{...D,...S==null?void 0:S.ownerState},className:[V.root,x]}),Ye=Le({elementType:de,externalSlotProps:I,ownerState:D,className:V.rail}),ar=Le({elementType:he,externalSlotProps:W,additionalProps:{style:{...q[le].offset(ue),...q[le].leap(F)}},ownerState:{...D,...W==null?void 0:W.ownerState},className:V.track}),ct=Le({elementType:je,getSlotProps:fe,externalSlotProps:U,ownerState:{...D,...U==null?void 0:U.ownerState},className:V.thumb}),ir=Le({elementType:_e,externalSlotProps:z,ownerState:{...D,...z==null?void 0:z.ownerState},className:V.valueLabel}),ut=Le({elementType:ge,externalSlotProps:re,ownerState:D,className:V.mark}),dt=Le({elementType:we,externalSlotProps:pe,ownerState:D,className:V.markLabel}),lr=Le({elementType:p,getSlotProps:se,externalSlotProps:te,ownerState:D});return o.jsxs(G,{...ye,children:[o.jsx(de,{...Ye}),o.jsx(he,{...ar}),ee.filter(Z=>Z.value>=R&&Z.value<=A).map((Z,ae)=>{const ft=st(Z.value,R,A),Ue=q[le].offset(ft);let $e;return O===!1?$e=K.includes(Z.value):$e=O==="normal"&&(oe?Z.value>=K[0]&&Z.value<=K[K.length-1]:Z.value<=K[0])||O==="inverted"&&(oe?Z.value<=K[0]||Z.value>=K[K.length-1]:Z.value>=K[0]),o.jsxs(N.Fragment,{children:[o.jsx(ge,{"data-index":ae,...ut,...!Qe(ge)&&{markActive:$e},style:{...Ue,...ut.style},className:Ie(ut.className,$e&&V.markActive)}),Z.label!=null?o.jsx(we,{"aria-hidden":!0,"data-index":ae,...dt,...!Qe(we)&&{markLabelActive:$e},style:{...Ue,...dt.style},className:Ie(V.markLabel,dt.className,$e&&V.markLabelActive),children:Z.label}):null]},ae)}),K.map((Z,ae)=>{const ft=st(Z,R,A),Ue=q[le].offset(ft),$e=_==="off"?vn:_e;return o.jsx($e,{...!Qe($e)&&{valueLabelFormat:B,valueLabelDisplay:_,value:typeof B=="function"?B(E(Z),ae):B,index:ae,open:ve===ae||xe===ae||_==="on",disabled:s},...ir,children:o.jsx(je,{"data-index":ae,...ct,className:Ie(V.thumb,ct.className,xe===ae&&V.active,me===ae&&V.focusVisible),style:{...Ue,...Q(ae),...ct.style},children:o.jsx(p,{"data-index":ae,"aria-label":y?y(ae):c,"aria-valuenow":E(Z),"aria-labelledby":i,"aria-valuetext":k?k(E(Z),ae):g,value:K[ae],...lr})})},ae)})]})});async function rr(){const e=new Set((await Ce.targets.toArray()).map(t=>t.subject));return Object.keys(tt).filter(t=>!e.has(t))}const Be=[ht[900],ht[500],Vt[500],yr[500],Wt[500]],Ct=e=>e>=8?Be[4]:e>=6.5?Be[3]:e>=5?Be[2]:e>=3.5?Be[1]:Be[0];function jt(e){const t=ze.c(30),{score:r,size:n,sx:a,isColor:c,subTitle:g}=e,i=r===void 0?0:r,l=n===void 0?40:n;let f;t[0]!==l||t[1]!==a?(f={position:"relative",width:l,aspectRatio:"1 / 1",display:"inline-flex",alignItems:"center",justifyContent:"center",...a},t[0]=l,t[1]=a,t[2]=f):f=t[2];const m=Math.min(l/4,16);let v;t[3]!==m?(v={fontSize:m},t[3]=m,t[4]=v):v=t[4];let b;t[5]!==i?(b=i.toFixed(2),t[5]=i,t[6]=b):b=t[6];let x;t[7]!==v||t[8]!==b?(x=o.jsx(be,{sx:v,children:b}),t[7]=v,t[8]=b,t[9]=x):x=t[9];let u;t[10]!==l||t[11]!==g?(u=g&&o.jsx(be,{sx:{opacity:.4,fontSize:Math.max(l/5.5,12)},children:g}),t[10]=l,t[11]=g,t[12]=u):u=t[12];let s;t[13]!==x||t[14]!==u?(s=o.jsxs(Fe,{children:[x,u]}),t[13]=x,t[14]=u,t[15]=s):s=t[15];let y;t[16]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(Rt,{sx:{color:"divider",position:"absolute",top:0,left:0,"& circle":{strokeLinecap:"round"}},variant:"determinate",value:100,size:"100%"}),t[16]=y):y=t[16];let k;t[17]!==c||t[18]!==i?(k=c?Ct(i):void 0,t[17]=c,t[18]=i,t[19]=k):k=t[19];let P;t[20]===Symbol.for("react.memo_cache_sentinel")?(P={strokeLinecap:"round"},t[20]=P):P=t[20];let A;t[21]!==k?(A={color:k,position:"absolute",top:0,left:0,"& circle":P},t[21]=k,t[22]=A):A=t[22];const R=i*10;let C;t[23]!==A||t[24]!==R?(C=o.jsx(Rt,{sx:A,variant:"determinate",value:R,size:"100%"}),t[23]=A,t[24]=R,t[25]=C):C=t[25];let w;return t[26]!==C||t[27]!==f||t[28]!==s?(w=o.jsxs(be,{sx:f,children:[s,y,C]}),t[26]=C,t[27]=f,t[28]=s,t[29]=w):w=t[29],w}const Sn=(e,t)=>{let r="transparent";return t>10&&(r="error.main"),e<t&&(r="warning.main"),t===0&&(r="primary.main"),r};function wn(e){const t=ze.c(16),{target:r,require:n,avg:a}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=Y("You can achieve the target"),t[0]=c):c=t[0];let g=c,i="text.secondary";if(n>10){let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=Y("Cannot achieve the target"),t[1]=s):s=t[1],g=s,i="error.main"}if(r<n){let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=Y("It is quite hard to reach the target"),t[2]=s):s=t[2],g=s,i="warning.main"}n===0&&(i="primary.main");let l;t[3]!==i?(l={color:i},t[3]=i,t[4]=l):l=t[4];const f=g;let m;t[5]!==a?(m=a.toFixed(2),t[5]=a,t[6]=m):m=t[6];let v;t[7]!==r?(v=r.toFixed(2),t[7]=r,t[8]=v):v=t[8];let b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=o.jsx("br",{}),t[9]=b):b=t[9];const x=n!==0&&Y("require score")+" "+n.toFixed(2);let u;return t[10]!==g||t[11]!==l||t[12]!==m||t[13]!==v||t[14]!==x?(u=o.jsxs(Ae,{variant:"caption",sx:l,children:[f," ",m,"/",v," ",b,x]}),t[10]=g,t[11]=l,t[12]=m,t[13]=v,t[14]=x,t[15]=u):u=t[15],u}function kn(e){const t=ze.c(43),{target:r,handleEdit:n,onClickExams:a}=e,c=tt[r.subject];let g;t[0]!==r.requiredAvg||t[1]!==r.score?(g=Sn(r.score,r.requiredAvg),t[0]=r.requiredAvg,t[1]=r.score,t[2]=g):g=t[2];const i=g,l=r.score!==0?i:"transparent";let f;t[3]!==l?(f={borderRadius:2,outline:1,outlineColor:l},t[3]=l,t[4]=f):f=t[4];let m;t[5]!==c.color?(m=j=>j.palette.getContrastText(c.color),t[5]=c.color,t[6]=m):m=t[6];let v;t[7]!==c.color||t[8]!==m?(v={bgcolor:c.color,color:m},t[7]=c.color,t[8]=m,t[9]=v):v=t[9];const b=c.icon;let x;t[10]!==b?(x=o.jsx(ke,{icon:b}),t[10]=b,t[11]=x):x=t[11];let u;t[12]!==v||t[13]!==x?(u=o.jsx(Bt,{sx:v,children:x}),t[12]=v,t[13]=x,t[14]=u):u=t[14];let s;t[15]!==r.requiredAvg||t[16]!==r.score||t[17]!==r.target?(s=o.jsx(wn,{avg:r.score,target:r.target,require:r.requiredAvg}),t[15]=r.requiredAvg,t[16]=r.score,t[17]=r.target,t[18]=s):s=t[18];let y;t[19]!==n||t[20]!==r.id?(y=()=>n(r.id),t[19]=n,t[20]=r.id,t[21]=y):y=t[21];let k;t[22]===Symbol.for("react.memo_cache_sentinel")?(k=o.jsx(ke,{icon:"solar:pen-bold"}),t[22]=k):k=t[22];let P;t[23]!==y?(P=o.jsx(Mr,{onClick:y,children:k}),t[23]=y,t[24]=P):P=t[24];let A;t[25]===Symbol.for("react.memo_cache_sentinel")?(A={px:3,pt:2},t[25]=A):A=t[25];let R;t[26]!==c.name||t[27]!==P||t[28]!==u||t[29]!==s?(R=o.jsx(Kr,{avatar:u,title:c.name,subheader:s,action:P,sx:A}),t[26]=c.name,t[27]=P,t[28]=u,t[29]=s,t[30]=R):R=t[30];let C;t[31]!==r.exams?(C=Object.entries(r.exams),t[31]=r.exams,t[32]=C):C=t[32];let w;t[33]!==a||t[34]!==C||t[35]!==r.subject?(w=o.jsx(Fe,{pb:2,children:o.jsx(be,{display:"flex",children:C.map(j=>{const[T,L]=j;return o.jsxs(Fe,{spacing:2,width:.3333333,px:1,children:[o.jsxs(hr,{onClick:()=>a(T),sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",py:1,borderRadius:1,transition:"all .2s ease-in-out","&:hover":{bgcolor:"action.hover"}},children:[o.jsx(xt,{sx:{color:Pe[T].color,bgcolor:gt(Pe[T].color).alpha(.08).string(),fontWeight:"bold",textWrap:"wrap",fontSize:12},icon:o.jsx(ke,{color:Pe[T].color,icon:Pe[T].icon}),label:T}),o.jsx(Sr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiBadge-badge":{boxShadow:$n,bgcolor:jn,color:Cn,borderColor:"divider",borderWidth:1}},badgeContent:`x${L.weight}`,children:o.jsx(jt,{subTitle:`${Math.round(L.percent*100)/100}%`,sx:{mt:2},size:60,score:L.avg,isColor:!0})}),o.jsxs(Ae,{variant:"caption",sx:{opacity:.6,my:1},children:[L.count,"/",L.target," - (",L.count/L.target*100,"%)"]}),o.jsx(gr,{sx:{width:.8,borderRadius:1,height:6},variant:"determinate",value:L.count/L.target*100})]}),o.jsx(Oe,{sx:{alignSelf:"center"},size:"small",variant:"outlined",startIcon:o.jsx(ke,{icon:"solar:calendar-bold"}),LinkComponent:br,href:`/calendar?exam=${T}&subject=${r.subject}&back=/`,children:Y("Schedule")})]},T)})})}),t[33]=a,t[34]=C,t[35]=r.subject,t[36]=w):w=t[36];let h;t[37]!==R||t[38]!==w?(h=o.jsxs(Wr,{children:[R,w]}),t[37]=R,t[38]=w,t[39]=h):h=t[39];let d;return t[40]!==h||t[41]!==f?(d=o.jsx(be,{sx:f,children:h}),t[40]=h,t[41]=f,t[42]=d):d=t[42],d}function Cn(e){return e.vars.palette.text.primary}function jn(e){return e.vars.palette.background.default}function $n(e){return e.vars.customShadows.z8}const Mn=(e,t)=>{if(e<=0)return t>0?1/0:100;if(t<0)return 0;const r=t/e;return Math.round(r*100*10)/10},Tn=async()=>{const[e,t]=await Promise.all([Ce.scores.toArray(),Ce.targets.toArray()]),r=new Map;for(const n of e){let a=r.get(n.subject);a||(a=De.reduce((c,g)=>c.set(g,[]),new Map),r.set(n.subject,a)),a.get(n.exams).push(n.score)}return t.map(n=>{const a=r.get(n.subject),c=a?Object.fromEntries(De.map(b=>[b,a.get(b)??[]])):De.reduce((b,x)=>(b[x]=[],b),{});let g=0,i=0,l=0;De.forEach(b=>{const x=c[b],u=Pe[b].weight,s=x.length;if(s>0){const y=x.reduce((k,P)=>k+P,0)/s;g+=y*s*u,i+=s*u}else l+=u});const f=i>0?g/i:0;let m=0;l>0&&(m=(n.target*(i+l)-g)/l);const v=Object.fromEntries(De.map(b=>{const x=c[b],u=x.length,s=u>0?x.reduce((y,k)=>y+k,0)/u:0;return[b,{target:n.exams[b],count:u,weight:Pe[b].weight,avg:u>0?s:0,isMissing:u===0,percent:Mn(n.target,u>0?s:0)}]}));return{id:n.id,subject:n.subject,target:n.target,score:f,exams:v,countExams:Object.values(v).reduce((b,x)=>b+x.count,0),requiredAvg:m,missingExams:De.filter(b=>c[b].length===0),color:m>10?ht[500]:m>n.target?Vt[500]:Wt[500]}})},Ln=async(e,t)=>{var a;if(!t||!e)return{scores:[],totalScore:0};const r=await Ce.scores.where({subject:t,exams:e}).toArray(),n=(a=await Ce.targets.where({subject:t}).first())==null?void 0:a.exams[e];return{scores:r,totalScore:n}},nr=N.forwardRef((e,t)=>{const r=ze.c(18),{value:n,onChange:a,height:c,disabled:g,sx:i}=e,l=c===void 0?8:c;let f;r[0]!==i?(f={px:2,...i},r[0]=i,r[1]=f):f=r[1];let m;r[2]!==a?(m=(s,y)=>a==null?void 0:a(y),r[2]=a,r[3]=m):m=r[3];let v;r[4]!==n?(v=Ct(n),r[4]=n,r[5]=v):v=r[5];let b;r[6]!==l||r[7]!==v?(b={color:v,height:l},r[6]=l,r[7]=v,r[8]=b):b=r[8];let x;r[9]!==g||r[10]!==t||r[11]!==m||r[12]!==b||r[13]!==n?(x=o.jsx(yn,{ref:t,disabled:g,min:0,max:10,value:n,step:.25,marks:An,className:"slider-score",onChange:m,sx:b}),r[9]=g,r[10]=t,r[11]=m,r[12]=b,r[13]=n,r[14]=x):x=r[14];let u;return r[15]!==f||r[16]!==x?(u=o.jsx(be,{sx:f,children:x}),r[15]=f,r[16]=x,r[17]=u):u=r[17],u}),Rn=[0,2,3.5,5,6.5,8,10],An=Rn.map(e=>({value:e,label:e.toFixed(1)})),En=N.forwardRef((e,t)=>{const[r,n]=N.useState(!1),[a,c]=N.useState(!1);return o.jsx(Jr,{onClickAway:()=>r&&n(!1),children:o.jsxs(Oe,{ref:t,...e,sx:{minWidth:"unset",minHeight:36,...e.sx},color:r?"error":"inherit",onClick:async()=>{if(r)try{c(!0),await e.onDelete()}finally{n(!1),c(!1)}else n(!0)},loading:a,children:[o.jsx(ke,{icon:"solar:trash-bin-trash-bold"}),o.jsx(yt,{in:r,orientation:"horizontal",unmountOnExit:!0,mountOnEnter:!0,sx:{textWrap:"nowrap",mx:r?.5:0},children:e.children||"Click to delete"})]})})}),sr=Yt(e=>({open:!1,setOpen:t=>e({open:t})})),Me=qt();function Pn(){const e=ze.c(56),{open:t,setOpen:r}=sr(),{isSubmitSuccessful:n,isLoading:a}=Xt(Me),c=bt(rr)??[];let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={control:Me.control,name:["id"]},e[0]=g):g=e[0];const[i]=Kt(g);let l,f;e[1]!==i?(l=async()=>{if(!i)return;const q=await Ce.scores.where({subject:Me.getValues("subject")}).toArray();return De.reduce((ne,se)=>(ne[se]=q.filter(fe=>fe.exams===se).length,ne),{})},f=[i],e[1]=i,e[2]=l,e[3]=f):(l=e[2],f=e[3]);const m=bt(l,f);let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=Me.handleSubmit(zn),e[4]=v):v=e[4];const b=v;let x,u;e[5]!==n||e[6]!==t||e[7]!==r?(x=()=>{n&&t&&r(!1)},u=[n,t,r],e[5]=n,e[6]=t,e[7]=r,e[8]=x,e[9]=u):(x=e[8],u=e[9]),N.useEffect(x,u);let s;e[10]!==i?(s=i?Y("Update target"):Y("Add target"),e[10]=i,e[11]=s):s=e[11];let y;e[12]!==s?(y=o.jsx(Gt,{children:s}),e[12]=s,e[13]=y):y=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k={px:2},e[14]=k):k=e[14];let P;e[15]!==c?(P=o.jsx(wr,{subjectList:c,control:Me.control}),e[15]=c,e[16]=P):P=e[16];let A;e[17]===Symbol.for("react.memo_cache_sentinel")?(A={border:1,borderColor:"divider",borderRadius:1,p:0,position:"relative"},e[17]=A):A=e[17];let R,C;e[18]===Symbol.for("react.memo_cache_sentinel")?(R={mr:-1},C=Object.keys(Pe),e[18]=R,e[19]=C):(R=e[18],C=e[19]);let w;e[20]!==m?(w=o.jsx(Lr,{sx:R,children:C.map(q=>o.jsxs(kr,{value:q,children:[o.jsx(Cr,{children:q}),o.jsx(rt,{control:Me.control,name:`exams.${q}`,render:ne=>{const{field:se}=ne;return o.jsx(jr,{min:m?m[q]:0,...se})}})]},q))}),e[20]=m,e[21]=w):w=e[21];let h;e[22]===Symbol.for("react.memo_cache_sentinel")?(h=o.jsx(vt,{children:Y("Exam count")}),e[22]=h):h=e[22];let d;e[23]!==w?(d=o.jsxs(be,{sx:A,children:[w,h]}),e[23]=w,e[24]=d):d=e[24];let j;e[25]===Symbol.for("react.memo_cache_sentinel")?(j={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[25]=j):j=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=o.jsxs(be,{sx:j,children:[o.jsx(vt,{children:Y("Target score")}),o.jsx(rt,{control:Me.control,name:"target",render:In})]}),e[26]=T):T=e[26];let L;e[27]!==d||e[28]!==P?(L=o.jsx(Jt,{dividers:!0,sx:k,children:o.jsxs(Fe,{spacing:2,children:[P,d,T]})}),e[27]=d,e[28]=P,e[29]=L):L=e[29];let E;e[30]!==i||e[31]!==r?(E=i&&o.jsx(En,{sx:{mr:"auto"},onDelete:async()=>{await Ce.targets.delete(i),r(!1),Ut.success(Y("Delete target successfully"))},children:Y("Delete target")}),e[30]=i,e[31]=r,e[32]=E):E=e[32];let M;e[33]!==r?(M=()=>r(!1),e[33]=r,e[34]=M):M=e[34];let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=Y("Close"),e[35]=$):$=e[35];let H;e[36]!==a||e[37]!==M?(H=o.jsx(Oe,{disabled:a,onClick:M,children:$}),e[36]=a,e[37]=M,e[38]=H):H=e[38];const O=i?"solar:diskette-bold":"solar:cup-star-bold";let X;e[39]!==O?(X=o.jsx(ke,{icon:O}),e[39]=O,e[40]=X):X=e[40];let _;e[41]!==i?(_=i?Y("Update target"):Y("Create target"),e[41]=i,e[42]=_):_=e[42];let B;e[43]!==a||e[44]!==X||e[45]!==_?(B=o.jsx(Oe,{loading:a,variant:"contained",color:"primary",startIcon:X,onClick:b,children:_}),e[43]=a,e[44]=X,e[45]=_,e[46]=B):B=e[46];let J;e[47]!==E||e[48]!==H||e[49]!==B?(J=o.jsxs(Qt,{children:[E,H,B]}),e[47]=E,e[48]=H,e[49]=B,e[50]=J):J=e[50];let D;return e[51]!==t||e[52]!==L||e[53]!==J||e[54]!==y?(D=o.jsxs(Zt,{open:t,fullWidth:!0,maxWidth:"xs",children:[y,L,J]}),e[51]=t,e[52]=L,e[53]=J,e[54]=y,e[55]=D):D=e[55],D}function In(e){const{field:t}=e;return o.jsxs(be,{width:1,display:"flex",mt:2,children:[o.jsx(be,{children:o.jsx(jt,{score:t.value,isColor:!0})}),o.jsx(nr,{sx:{flex:1},...t})]})}async function zn(e){await Ce.targets.put(e),Ut.success(Y("Add target successfully"))}var Ze={exports:{}},_n=Ze.exports,Dt;function Dn(){return Dt||(Dt=1,(function(e,t){(function(r,n){e.exports=n()})(_n,(function(){var r,n,a=1e3,c=6e4,g=36e5,i=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,m=2628e6,v=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:f,months:m,days:i,hours:g,minutes:c,seconds:a,milliseconds:1,weeks:6048e5},x=function(w){return w instanceof R},u=function(w,h,d){return new R(w,d,h.$l)},s=function(w){return n.p(w)+"s"},y=function(w){return w<0},k=function(w){return y(w)?Math.ceil(w):Math.floor(w)},P=function(w){return Math.abs(w)},A=function(w,h){return w?y(w)?{negative:!0,format:""+P(w)+h}:{negative:!1,format:""+w+h}:{negative:!1,format:""}},R=(function(){function w(d,j,T){var L=this;if(this.$d={},this.$l=T,d===void 0&&(this.$ms=0,this.parseFromMilliseconds()),j)return u(d*b[s(j)],this);if(typeof d=="number")return this.$ms=d,this.parseFromMilliseconds(),this;if(typeof d=="object")return Object.keys(d).forEach((function($){L.$d[s($)]=d[$]})),this.calMilliseconds(),this;if(typeof d=="string"){var E=d.match(v);if(E){var M=E.slice(2).map((function($){return $!=null?Number($):0}));return this.$d.years=M[0],this.$d.months=M[1],this.$d.weeks=M[2],this.$d.days=M[3],this.$d.hours=M[4],this.$d.minutes=M[5],this.$d.seconds=M[6],this.calMilliseconds(),this}}return this}var h=w.prototype;return h.calMilliseconds=function(){var d=this;this.$ms=Object.keys(this.$d).reduce((function(j,T){return j+(d.$d[T]||0)*b[T]}),0)},h.parseFromMilliseconds=function(){var d=this.$ms;this.$d.years=k(d/f),d%=f,this.$d.months=k(d/m),d%=m,this.$d.days=k(d/i),d%=i,this.$d.hours=k(d/g),d%=g,this.$d.minutes=k(d/c),d%=c,this.$d.seconds=k(d/a),d%=a,this.$d.milliseconds=d},h.toISOString=function(){var d=A(this.$d.years,"Y"),j=A(this.$d.months,"M"),T=+this.$d.days||0;this.$d.weeks&&(T+=7*this.$d.weeks);var L=A(T,"D"),E=A(this.$d.hours,"H"),M=A(this.$d.minutes,"M"),$=this.$d.seconds||0;this.$d.milliseconds&&($+=this.$d.milliseconds/1e3,$=Math.round(1e3*$)/1e3);var H=A($,"S"),O=d.negative||j.negative||L.negative||E.negative||M.negative||H.negative,X=E.format||M.format||H.format?"T":"",_=(O?"-":"")+"P"+d.format+j.format+L.format+X+E.format+M.format+H.format;return _==="P"||_==="-P"?"P0D":_},h.toJSON=function(){return this.toISOString()},h.format=function(d){var j=d||"YYYY-MM-DDTHH:mm:ss",T={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return j.replace(l,(function(L,E){return E||String(T[L])}))},h.as=function(d){return this.$ms/b[s(d)]},h.get=function(d){var j=this.$ms,T=s(d);return T==="milliseconds"?j%=1e3:j=T==="weeks"?k(j/b[T]):this.$d[T],j||0},h.add=function(d,j,T){var L;return L=j?d*b[s(j)]:x(d)?d.$ms:u(d,this).$ms,u(this.$ms+L*(T?-1:1),this)},h.subtract=function(d,j){return this.add(d,j,!0)},h.locale=function(d){var j=this.clone();return j.$l=d,j},h.clone=function(){return u(this.$ms,this)},h.humanize=function(d){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!d)},h.valueOf=function(){return this.asMilliseconds()},h.milliseconds=function(){return this.get("milliseconds")},h.asMilliseconds=function(){return this.as("milliseconds")},h.seconds=function(){return this.get("seconds")},h.asSeconds=function(){return this.as("seconds")},h.minutes=function(){return this.get("minutes")},h.asMinutes=function(){return this.as("minutes")},h.hours=function(){return this.get("hours")},h.asHours=function(){return this.as("hours")},h.days=function(){return this.get("days")},h.asDays=function(){return this.as("days")},h.weeks=function(){return this.get("weeks")},h.asWeeks=function(){return this.as("weeks")},h.months=function(){return this.get("months")},h.asMonths=function(){return this.as("months")},h.years=function(){return this.get("years")},h.asYears=function(){return this.as("years")},w})(),C=function(w,h,d){return w.add(h.years()*d,"y").add(h.months()*d,"M").add(h.days()*d,"d").add(h.hours()*d,"h").add(h.minutes()*d,"m").add(h.seconds()*d,"s").add(h.milliseconds()*d,"ms")};return function(w,h,d){r=d,n=d().$utils(),d.duration=function(L,E){var M=d.locale();return u(L,{$l:M},E)},d.isDuration=x;var j=h.prototype.add,T=h.prototype.subtract;h.prototype.add=function(L,E){return x(L)?C(this,L,1):j.bind(this)(L,E)},h.prototype.subtract=function(L,E){return x(L)?C(this,L,-1):T.bind(this)(L,E)}}}))})(Ze)),Ze.exports}var Nn=Dn();const Fn=Ht(Nn);var et={exports:{}},On=et.exports,Nt;function Vn(){return Nt||(Nt=1,(function(e,t){(function(r,n){e.exports=n()})(On,(function(){return function(r,n,a){r=r||{};var c=n.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(f,m,v,b){return c.fromToBase(f,m,v,b)}a.en.relativeTime=g,c.fromToBase=function(f,m,v,b,x){for(var u,s,y,k=v.$locale().relativeTime||g,P=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],A=P.length,R=0;R<A;R+=1){var C=P[R];C.d&&(u=b?a(f).diff(v,C.d,!0):v.diff(f,C.d,!0));var w=(r.rounding||Math.round)(Math.abs(u));if(y=u>0,w<=C.r||!C.r){w<=1&&R>0&&(C=P[R-1]);var h=k[C.l];x&&(w=x(""+w)),s=typeof h=="string"?h.replace("%d",w):h(w,m,C.l,y);break}}if(m)return s;var d=y?k.future:k.past;return typeof d=="function"?d(s):d.replace("%s",s)},c.to=function(f,m){return i(f,m,this,!0)},c.from=function(f,m){return i(f,m,this)};var l=function(f){return f.$u?a.utc():a()};c.toNow=function(f){return this.to(l(this),f)},c.fromNow=function(f){return this.from(l(this),f)}}}))})(et)),et.exports}var Wn=Vn();const Yn=Ht(Wn);kt.extend(Fn);kt.extend(Yn);function Hn(e){const t=typeof e=="string"?new Date(e):e,n=Math.floor((new Date().getTime()-t.getTime())/1e3);if(n<60)return`${n} ${Y("seconds ago")}`;const a=Math.floor(n/60);if(a<60)return`${a} ${Y("minutes ago")}`;const c=Math.floor(a/60);if(c<24)return`${c} ${Y("hours ago")}`;const g=Math.floor(c/24);if(g<30)return`${g} ${Y("days ago")}`;const i=Math.floor(g/30);return i<12?`${i} ${Y("months ago")};`:`${Math.floor(i/12)} ${Y("years ago")}`}const mt={root:Tt("label__root"),icon:Tt("label__icon")},Bn=ie("span",{shouldForwardProp:e=>!["color","variant","disabled","sx"].includes(e)})(({color:e,variant:t,disabled:r,theme:n})=>{const a={...e==="default"&&{...t==="filled"&&{color:n.vars.palette.common.white,backgroundColor:n.vars.palette.text.primary,...n.applyStyles("dark",{color:n.vars.palette.grey[800]})},...t==="outlined"&&{backgroundColor:"transparent",color:n.vars.palette.text.primary,border:`2px solid ${n.vars.palette.text.primary}`},...t==="soft"&&{color:n.vars.palette.text.secondary,backgroundColor:Lt(n.vars.palette.grey["500Channel"],.16)},...t==="inverted"&&{color:n.vars.palette.grey[800],backgroundColor:n.vars.palette.grey[300]}}},c={...e&&e!=="default"&&{...t==="filled"&&{color:n.vars.palette[e].contrastText,backgroundColor:n.vars.palette[e].main},...t==="outlined"&&{backgroundColor:"transparent",color:n.vars.palette[e].main,border:`2px solid ${n.vars.palette[e].main}`},...t==="soft"&&{color:n.vars.palette[e].dark,backgroundColor:Lt(n.vars.palette[e].mainChannel,.16),...n.applyStyles("dark",{color:n.vars.palette[e].light})},...t==="inverted"&&{color:n.vars.palette[e].darker,backgroundColor:n.vars.palette[e].lighter}}};return{height:24,minWidth:24,lineHeight:0,flexShrink:0,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",gap:n.spacing(.75),justifyContent:"center",padding:n.spacing(0,.75),fontSize:n.typography.pxToRem(12),fontWeight:n.typography.fontWeightBold,borderRadius:Number(n.shape.borderRadius)*.75,transition:n.transitions.create(["all"],{duration:n.transitions.duration.shorter}),...a,...c,...r&&{opacity:.48,pointerEvents:"none"}}}),Ft=ie("span")({width:16,height:16,flexShrink:0,"& svg, img":{width:"100%",height:"100%",objectFit:"cover"}});function Un(e){const t=ze.c(28);let r,n,a,c,g,i,l,f,m;t[0]!==e?({sx:l,endIcon:c,children:r,startIcon:i,className:n,disabled:a,variant:f,color:m,...g}=e,t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=c,t[5]=g,t[6]=i,t[7]=l,t[8]=f,t[9]=m):(r=t[1],n=t[2],a=t[3],c=t[4],g=t[5],i=t[6],l=t[7],f=t[8],m=t[9]);const v=f===void 0?"soft":f,b=m===void 0?"default":m;let x;t[10]!==n?(x=xr([mt.root,n]),t[10]=n,t[11]=x):x=t[11];let u;t[12]!==i?(u=i&&o.jsx(Ft,{className:mt.icon,children:i}),t[12]=i,t[13]=u):u=t[13];let s;t[14]!==r?(s=typeof r=="string"?Pr(r):r,t[14]=r,t[15]=s):s=t[15];let y;t[16]!==c?(y=c&&o.jsx(Ft,{className:mt.icon,children:c}),t[16]=c,t[17]=y):y=t[17];let k;return t[18]!==b||t[19]!==a||t[20]!==g||t[21]!==l||t[22]!==x||t[23]!==u||t[24]!==s||t[25]!==y||t[26]!==v?(k=o.jsxs(Bn,{color:b,variant:v,disabled:a,className:x,sx:l,...g,children:[u,s,y]}),t[18]=b,t[19]=a,t[20]=g,t[21]=l,t[22]=x,t[23]=u,t[24]=s,t[25]=y,t[26]=v,t[27]=k):k=t[27],k}const or=Yt(e=>({open:!1,setOpen:t=>e({open:t})})),Re=qt();function qn(){var _e;const e=ze.c(89),{open:t,setOpen:r}=or();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={control:Re.control,name:["id","subject","exams","_score"]},e[0]=n):n=e[0];const[a,c,g,i]=Kt(n),{scores:l,totalScore:f}=bt(()=>Ln(g,c),[g,c])??{scores:[],totalScore:0},{isLoading:m,isSubmitSuccessful:v}=Xt(Re);let b,x;e[1]!==v||e[2]!==t||e[3]!==r?(b=()=>{v&&t&&r(!1)},x=[v,t,r],e[1]=v,e[2]=t,e[3]=r,e[4]=b,e[5]=x):(b=e[4],x=e[5]),N.useEffect(b,x);const u=tt[c],s=Pe[g];let y;e[6]!==a?(y=Re.handleSubmit(async ge=>{const we=new Date().toISOString();ge.id||delete ge.id,await Ce.scores.put({...ge,...a&&{createdAt:we},updatedAt:we})}),e[6]=a,e[7]=y):y=e[7];const k=y;let P;e[8]!==l[0]||e[9]!==l.length||e[10]!==f?(P=()=>{l.length===f&&l.length>0?Re.setValue("id",l[0].id):Re.setValue("id",0)},e[8]=l[0],e[9]=l.length,e[10]=f,e[11]=P):P=e[11];let A;e[12]!==l||e[13]!==f?(A=[l,f],e[12]=l,e[13]=f,e[14]=A):A=e[14],N.useEffect(P,A);let R;e[15]!==a?(R=a?Y("Update score"):Y("Input score"),e[15]=a,e[16]=R):R=e[16];let C;e[17]!==R?(C=o.jsx(Gt,{children:R}),e[17]=R,e[18]=C):C=e[18];let w;e[19]===Symbol.for("react.memo_cache_sentinel")?(w={borderRadius:1,borderWidth:1,p:1,px:2},e[19]=w):w=e[19];const h=u==null?void 0:u.color;let d;e[20]!==(u==null?void 0:u.color)?(d=ge=>ge.palette.getContrastText(u==null?void 0:u.color),e[20]=u==null?void 0:u.color,e[21]=d):d=e[21];let j;e[22]!==d||e[23]!==h?(j={bgcolor:h,color:d},e[22]=d,e[23]=h,e[24]=j):j=e[24];const T=(_e=tt[c])==null?void 0:_e.icon;let L;e[25]!==T?(L=o.jsx(ke,{icon:T}),e[25]=T,e[26]=L):L=e[26];let E;e[27]!==j||e[28]!==L?(E=o.jsx(Bt,{sx:j,children:L}),e[27]=j,e[28]=L,e[29]=E):E=e[29];const M=u==null?void 0:u.name;let $;e[30]!==M?($=o.jsx(Ae,{variant:"h6",children:M}),e[30]=M,e[31]=$):$=e[31];const H=`${g} ${l.length}/${f}`,O=s==null?void 0:s.color,X=s==null?void 0:s.icon;let _;e[32]!==O||e[33]!==X?(_=o.jsx(ke,{color:O,icon:X}),e[32]=O,e[33]=X,e[34]=_):_=e[34];let B;e[35]!==(s==null?void 0:s.color)?(B=(s==null?void 0:s.color)&&gt(s==null?void 0:s.color).alpha(.08).string(),e[35]=s==null?void 0:s.color,e[36]=B):B=e[36];const J=s==null?void 0:s.color;let D;e[37]!==(s==null?void 0:s.color)?(D=gt(s==null?void 0:s.color).alpha(.16).string(),e[37]=s==null?void 0:s.color,e[38]=D):D=e[38];let q;e[39]!==B||e[40]!==J||e[41]!==D?(q={bgcolor:B,color:J,border:1,borderColor:D},e[39]=B,e[40]=J,e[41]=D,e[42]=q):q=e[42];let ne;e[43]!==H||e[44]!==_||e[45]!==q?(ne=o.jsx(xt,{label:H,size:"small",icon:_,sx:q}),e[43]=H,e[44]=_,e[45]=q,e[46]=ne):ne=e[46];let se;e[47]!==$||e[48]!==ne?(se=o.jsxs(Fe,{flex:1,alignItems:"flex-start",children:[$,ne]}),e[47]=$,e[48]=ne,e[49]=se):se=e[49];let fe;e[50]!==i?(fe=i==null?void 0:i.toFixed(2),e[50]=i,e[51]=fe):fe=e[51];let ve;e[52]!==fe?(ve=o.jsx(xt,{label:fe}),e[52]=fe,e[53]=ve):ve=e[53];let xe;e[54]!==E||e[55]!==se||e[56]!==ve?(xe=o.jsxs(be,{display:"flex",alignItems:"center",gap:2,sx:w,children:[E,se,ve]}),e[54]=E,e[55]=se,e[56]=ve,e[57]=xe):xe=e[57];let le;e[58]===Symbol.for("react.memo_cache_sentinel")?(le={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[58]=le):le=e[58];let me;e[59]===Symbol.for("react.memo_cache_sentinel")?(me=o.jsxs(be,{sx:le,children:[o.jsx(vt,{children:Y("Score")}),o.jsx(rt,{control:Re.control,name:"score",render:Kn})]}),e[59]=me):me=e[59];let oe;e[60]!==l?(oe=l.length>0&&o.jsx(rt,{control:Re.control,name:"id",defaultValue:0,render:ge=>{const{field:we}=ge,p=l.find(S=>S.id===we.value);return o.jsxs(Rr,{label:Y("Select score for update"),select:!0,sx:{"& .MuiSelect-select":{display:"flex",alignItems:"center"}},helperText:p&&Hn(p.updatedAt),...we,children:[o.jsx(er,{value:0,children:o.jsx("em",{children:Y("New score")})}),l.map(Xn)]})}}),e[60]=l,e[61]=oe):oe=e[61];let ce;e[62]!==xe||e[63]!==oe?(ce=o.jsx(Jt,{children:o.jsxs(Fe,{spacing:2,children:[xe,me,oe]})}),e[62]=xe,e[63]=oe,e[64]=ce):ce=e[64];let ee;e[65]!==r?(ee=()=>r(!1),e[65]=r,e[66]=ee):ee=e[66];let K;e[67]===Symbol.for("react.memo_cache_sentinel")?(K=Y("Close"),e[67]=K):K=e[67];let ue;e[68]!==m||e[69]!==ee?(ue=o.jsx(Oe,{disabled:m,onClick:ee,children:K}),e[68]=m,e[69]=ee,e[70]=ue):ue=e[70];const F=f===l.length&&!a,Q=a?"solar:diskette-bold":"solar:check-circle-linear";let V;e[71]!==Q?(V=o.jsx(ke,{icon:Q}),e[71]=Q,e[72]=V):V=e[72];let G;e[73]!==a?(G=a?Y("Update score"):Y("Input score"),e[73]=a,e[74]=G):G=e[74];let de;e[75]!==k||e[76]!==m||e[77]!==F||e[78]!==V||e[79]!==G?(de=o.jsx(Oe,{disabled:F,loading:m,variant:"contained",color:"primary",startIcon:V,onClick:k,children:G}),e[75]=k,e[76]=m,e[77]=F,e[78]=V,e[79]=G,e[80]=de):de=e[80];let he;e[81]!==ue||e[82]!==de?(he=o.jsxs(Qt,{children:[ue,de]}),e[81]=ue,e[82]=de,e[83]=he):he=e[83];let je;return e[84]!==t||e[85]!==ce||e[86]!==he||e[87]!==C?(je=o.jsxs(Zt,{open:t,fullWidth:!0,maxWidth:"xs",children:[C,ce,he]}),e[84]=t,e[85]=ce,e[86]=he,e[87]=C,e[88]=je):je=e[88],je}function Xn(e){return o.jsxs(er,{value:e.id,children:[o.jsx(Un,{sx:{width:40,color:Ct(e.score)},children:e.score.toFixed(2)}),o.jsx(Ae,{ml:.5,variant:"body2",color:"textSecondary",children:kt(e.updatedAt).format("DD MMM YYYY")})]},e.id)}function Kn(e){const{field:t}=e;return o.jsxs(be,{width:1,display:"flex",mt:2,children:[o.jsx(be,{children:o.jsx(jt,{score:t.value,isColor:!0})}),o.jsx(nr,{sx:{flex:1},...t})]})}function is(){const e=ze.c(30);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[r,n]=N.useState(t),{setOpen:a,open:c}=sr(),{setOpen:g,open:i}=or();let l;e[1]!==a?(l=async j=>{a(!0),Me.reset(await Ce.targets.get(j))},e[1]=a,e[2]=l):l=e[2];const f=l;let m;e[3]!==a?(m=async()=>{const j=(await rr())[0]??"";Me.reset($r(j)),a(!0)},e[3]=a,e[4]=m):m=e[4];const v=m;let b;e[5]!==g?(b=(j,T,L)=>E=>{g(!0),Re.reset({subject:j,exams:E,score:Math.min(Math.round(T*4)/4,10),_score:L})},e[5]=g,e[6]=b):b=e[6];const x=b;let u,s;e[7]!==c||e[8]!==i?(u=()=>{!c&&!i&&Tn().then(n)},s=[c,i],e[7]=c,e[8]=i,e[9]=u,e[10]=s):(u=e[9],s=e[10]),N.useEffect(u,s);let y,k;e[11]===Symbol.for("react.memo_cache_sentinel")?(y={alignSelf:"flex-end"},k=o.jsx(ke,{icon:"mingcute:add-line"}),e[11]=y,e[12]=k):(y=e[11],k=e[12]);let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=Y("Add target"),e[13]=P):P=e[13];let A;e[14]!==v?(A=o.jsx(Oe,{variant:"contained",sx:y,startIcon:k,onClick:v,color:"primary",children:P}),e[14]=v,e[15]=A):A=e[15];let R;if(e[16]!==x||e[17]!==f||e[18]!==r){let j;e[20]!==x||e[21]!==f?(j=T=>o.jsx(kn,{onClickExams:x(T.subject,Math.max(T.requiredAvg,8),T.requiredAvg),target:T,handleEdit:f},T.subject),e[20]=x,e[21]=f,e[22]=j):j=e[22],R=r.map(j),e[16]=x,e[17]=f,e[18]=r,e[19]=R}else R=e[19];let C;e[23]!==R||e[24]!==A?(C=o.jsxs(Fe,{spacing:2,children:[A,R]}),e[23]=R,e[24]=A,e[25]=C):C=e[25];let w,h;e[26]===Symbol.for("react.memo_cache_sentinel")?(w=o.jsx(Pn,{}),h=o.jsx(qn,{}),e[26]=w,e[27]=h):(w=e[26],h=e[27]);let d;return e[28]!==C?(d=o.jsxs(o.Fragment,{children:[C,w,h]}),e[28]=C,e[29]=d):d=e[29],d}export{is as default};
