import{f as ot,h as nt,r as W,u as at,i as lr,k as cr,l as dr,m as Nt,n as Te,o as ie,q as ze,j as o,v as it,w as Oe,P as ur,x as Re,y as jt,z as Ye,A as fr,B as ft,D as Ge,E as pt,F as $t,G as Je,H as pr,J as Le,K as Ie,L as St,M as Ft,c as _e,N as ht,O as Ot,Q as Vt,R as be,V as Y,X as mr,Y as gt,I as ke,Z as hr,_ as gr,$ as Wt,a0 as Yt,a1 as wt,a2 as Mt,U as Tt,a3 as br}from"./index-BSBhKTDu.js";import{v as xr,d as Ce,S as et,y as yr,E as Pe,B as vr,A as Bt,L as Ee,C as Sr,u as bt,a as wr,b as kr,c as Cr,N as jr,e as $r}from"./select-subject-CpmfaW0a.js";import{S as Ne}from"./Stack-qAc14_4O.js";import{C as Lt,B as Fe}from"./Button-kH2WcNPv.js";import{C as xt}from"./Autocomplete-TeGjWePD.js";import{I as Mr,t as Ht}from"./index-CUAR1jDN.js";import{u as Tr,c as Ut,a as qt,b as Kt,L as Lr,C as tt,T as Ar}from"./index.esm-Pd2MG9ve.js";import{L as yt}from"./label-border-DBebx8PX.js";import{T as Rr,g as At}from"./getReactElementRef-BLH3ikv_.js";import{a as Xt,b as Gt,c as Jt,D as Qt,M as Zt}from"./MenuItem-D2w5zBvS.js";import"./Zoom-DU1F_pc2.js";function Ir(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function Pr(e){return ot("MuiCollapse",e)}nt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zr=e=>{const{orientation:t,classes:r}=e,s={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return it(s,Pr,r)},_r=ie("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Oe(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Dr=ie("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Er=ie("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),vt=W.forwardRef(function(t,r){const s=at({props:t,name:"MuiCollapse"}),{addEndListener:a,children:d,className:b,collapsedSize:i="0px",component:l,easing:f,in:h,onEnter:v,onEntered:g,onEntering:x,onExit:p,onExited:n,onExiting:w,orientation:$="vertical",slots:P={},slotProps:R={},style:A,timeout:k=lr.standard,TransitionComponent:S=Rr,...m}=s,c={...s,orientation:$,collapsedSize:i},C=zr(c),T=cr(),L=dr(),I=W.useRef(null),M=W.useRef(),j=typeof i=="number"?`${i}px`:i,B=$==="horizontal",F=B?"width":"height",K=W.useRef(null),D=Nt(r,K),H=N=>Q=>{if(N){const O=K.current;Q===void 0?N(O):N(O,Q)}},J=()=>I.current?I.current[B?"clientWidth":"clientHeight"]:0,E=H((N,Q)=>{I.current&&B&&(I.current.style.position="absolute"),N.style[F]=j,v&&v(N,Q)}),q=H((N,Q)=>{const O=J();I.current&&B&&(I.current.style.position="");const{duration:G,easing:ue}=At({style:A,timeout:k,easing:f},{mode:"enter"});if(k==="auto"){const he=T.transitions.getAutoHeightDuration(O);N.style.transitionDuration=`${he}ms`,M.current=he}else N.style.transitionDuration=typeof G=="string"?G:`${G}ms`;N.style[F]=`${O}px`,N.style.transitionTimingFunction=ue,x&&x(N,Q)}),se=H((N,Q)=>{N.style[F]="auto",g&&g(N,Q)}),oe=H(N=>{N.style[F]=`${J()}px`,p&&p(N)}),fe=H(n),ye=H(N=>{const Q=J(),{duration:O,easing:G}=At({style:A,timeout:k,easing:f},{mode:"exit"});if(k==="auto"){const ue=T.transitions.getAutoHeightDuration(Q);N.style.transitionDuration=`${ue}ms`,M.current=ue}else N.style.transitionDuration=typeof O=="string"?O:`${O}ms`;N.style[F]=j,N.style.transitionTimingFunction=G,w&&w(N)}),xe=N=>{k==="auto"&&L.start(M.current||0,N),a&&a(K.current,N)},le={slots:P,slotProps:R,component:l},[me,ne]=Te("root",{ref:D,className:ze(C.root,b),elementType:_r,externalForwardedProps:le,ownerState:c,additionalProps:{style:{[B?"minWidth":"minHeight"]:j,...A}}}),[ce,ee]=Te("wrapper",{ref:I,className:C.wrapper,elementType:Dr,externalForwardedProps:le,ownerState:c}),[X,de]=Te("wrapperInner",{className:C.wrapperInner,elementType:Er,externalForwardedProps:le,ownerState:c});return o.jsx(S,{in:h,onEnter:E,onEntered:se,onEntering:q,onExit:oe,onExited:fe,onExiting:ye,addEndListener:xe,nodeRef:K,timeout:k==="auto"?null:k,...m,children:(N,{ownerState:Q,...O})=>{const G={...c,state:N};return o.jsx(me,{...ne,className:ze(ne.className,{entered:C.entered,exited:!h&&j==="0px"&&C.hidden}[N]),ownerState:G,...O,children:o.jsx(ce,{...ee,ownerState:G,children:o.jsx(X,{...de,ownerState:G,children:d})})})}})});vt&&(vt.muiSupportAuto=!0);function Nr(e){return ot("MuiCard",e)}nt("MuiCard",["root"]);const Fr=e=>{const{classes:t}=e;return it({root:["root"]},Nr,t)},Or=ie(ur,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Vr=W.forwardRef(function(t,r){const s=at({props:t,name:"MuiCard"}),{className:a,raised:d=!1,...b}=s,i={...s,raised:d},l=Fr(i);return o.jsx(Or,{className:ze(l.root,a),elevation:d?8:void 0,ref:r,ownerState:i,...b})});function Wr(e){return ot("MuiCardHeader",e)}const rt=nt("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Yr=e=>{const{classes:t}=e;return it({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Wr,t)},Br=ie("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${rt.title}`]:t.title},{[`& .${rt.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Hr=ie("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),Ur=ie("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),qr=ie("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${jt.root}:where(& .${rt.title})`]:{display:"block"},[`.${jt.root}:where(& .${rt.subheader})`]:{display:"block"}}),Kr=W.forwardRef(function(t,r){const s=at({props:t,name:"MuiCardHeader"}),{action:a,avatar:d,component:b="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:f,title:h,titleTypographyProps:v,slots:g={},slotProps:x={},...p}=s,n={...s,component:b,disableTypography:i},w=Yr(n),$={slots:g,slotProps:{title:v,subheader:f,...x}};let P=h;const[R,A]=Te("title",{className:w.title,elementType:Re,externalForwardedProps:$,ownerState:n,additionalProps:{variant:d?"body2":"h5",component:"span"}});P!=null&&P.type!==Re&&!i&&(P=o.jsx(R,{...A,children:P}));let k=l;const[S,m]=Te("subheader",{className:w.subheader,elementType:Re,externalForwardedProps:$,ownerState:n,additionalProps:{variant:d?"body2":"body1",color:"textSecondary",component:"span"}});k!=null&&k.type!==Re&&!i&&(k=o.jsx(S,{...m,children:k}));const[c,C]=Te("root",{ref:r,className:w.root,elementType:Br,externalForwardedProps:{...$,...p,component:b},ownerState:n}),[T,L]=Te("avatar",{className:w.avatar,elementType:Hr,externalForwardedProps:$,ownerState:n}),[I,M]=Te("content",{className:w.content,elementType:qr,externalForwardedProps:$,ownerState:n}),[j,B]=Te("action",{className:w.action,elementType:Ur,externalForwardedProps:$,ownerState:n});return o.jsxs(c,{...C,children:[d&&o.jsx(T,{...L,children:d}),o.jsxs(I,{...M,children:[P,k]}),a&&o.jsx(j,{...B,children:a})]})});function Xr(e,t,r=(s,a)=>s===a){return e.length===t.length&&e.every((s,a)=>r(s,t[a]))}const Gr=2;function Ve(e,t,r,s,a){return r===1?Math.min(e+t,a):Math.max(e-t,s)}function er(e,t){return e-t}function Rt(e,t){const{index:r}=e.reduce((s,a,d)=>{const b=Math.abs(t-a);return s===null||b<s.distance||b===s.distance?{distance:b,index:d}:s},null)??{};return r}function Ue(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let s=0;s<r.changedTouches.length;s+=1){const a=r.changedTouches[s];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function st(e,t,r){return(e-t)*100/(r-t)}function Jr(e,t,r){return(r-t)*e+t}function Qr(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),s=r[0].split(".")[1];return(s?s.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Zr(e,t,r){const s=Math.round((e-r)/t)*t+r;return Number(s.toFixed(Qr(t)))}function It({values:e,newValue:t,index:r}){const s=e.slice();return s[r]=t,s.sort(er)}function qe({sliderRef:e,activeIndex:t,setActive:r}){var a,d,b;const s=Ge(e.current);(!((a=e.current)!=null&&a.contains(s.activeElement))||Number((d=s==null?void 0:s.activeElement)==null?void 0:d.getAttribute("data-index"))!==t)&&((b=e.current)==null||b.querySelector(`[type="range"][data-index="${t}"]`).focus()),r&&r(t)}function Ke(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Xr(e,t):!1}const es={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},ts=e=>e;let Xe;function Pt(){return Xe===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Xe=CSS.supports("touch-action","none"):Xe=!0),Xe}function rs(e){const{"aria-labelledby":t,defaultValue:r,disabled:s=!1,disableSwap:a=!1,isRtl:d=!1,marks:b=!1,max:i=100,min:l=0,name:f,onChange:h,onChangeCommitted:v,orientation:g="horizontal",rootRef:x,scale:p=ts,step:n=1,shiftStep:w=10,tabIndex:$,value:P}=e,R=W.useRef(void 0),[A,k]=W.useState(-1),[S,m]=W.useState(-1),[c,C]=W.useState(!1),T=W.useRef(0),L=W.useRef(null),[I,M]=Tr({controlled:P,default:r??l,name:"Slider"}),j=h&&((u,y,z)=>{const V=u.nativeEvent||u,U=new V.constructor(V.type,V);Object.defineProperty(U,"target",{writable:!0,value:{value:y,name:f}}),L.current=y,h(U,y,z)}),B=Array.isArray(I);let F=B?I.slice().sort(er):[I];F=F.map(u=>u==null?l:Ye(u,l,i));const K=b===!0&&n!==null?[...Array(Math.floor((i-l)/n)+1)].map((u,y)=>({value:l+n*y})):b||[],D=K.map(u=>u.value),[H,J]=W.useState(-1),E=W.useRef(null),q=Nt(x,E),se=u=>y=>{var V;const z=Number(y.currentTarget.getAttribute("data-index"));$t(y.target)&&J(z),m(z),(V=u==null?void 0:u.onFocus)==null||V.call(u,y)},oe=u=>y=>{var z;$t(y.target)||J(-1),m(-1),(z=u==null?void 0:u.onBlur)==null||z.call(u,y)},fe=(u,y)=>{const z=Number(u.currentTarget.getAttribute("data-index")),V=F[z],U=D.indexOf(V);let _=y;if(K&&n==null){const re=D[D.length-1];_>=re?_=re:_<=D[0]?_=D[0]:_=_<V?D[U-1]:D[U+1]}if(_=Ye(_,l,i),B){a&&(_=Ye(_,F[z-1]||-1/0,F[z+1]||1/0));const re=_;_=It({values:F,newValue:_,index:z});let pe=z;a||(pe=_.indexOf(re)),qe({sliderRef:E,activeIndex:pe})}M(_),J(z),j&&!Ke(_,I)&&j(u,_,z),v&&v(u,L.current??_)},ye=u=>y=>{var z;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(y.key)){y.preventDefault();const V=Number(y.currentTarget.getAttribute("data-index")),U=F[V];let _=null;if(n!=null){const re=y.shiftKey?w:n;switch(y.key){case"ArrowUp":_=Ve(U,re,1,l,i);break;case"ArrowRight":_=Ve(U,re,d?-1:1,l,i);break;case"ArrowDown":_=Ve(U,re,-1,l,i);break;case"ArrowLeft":_=Ve(U,re,d?1:-1,l,i);break;case"PageUp":_=Ve(U,w,1,l,i);break;case"PageDown":_=Ve(U,w,-1,l,i);break;case"Home":_=l;break;case"End":_=i;break}}else if(K){const re=D[D.length-1],pe=D.indexOf(U),te=[d?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ve=[d?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];te.includes(y.key)?pe===0?_=D[0]:_=D[pe-1]:ve.includes(y.key)&&(pe===D.length-1?_=re:_=D[pe+1])}_!=null&&fe(y,_)}(z=u==null?void 0:u.onKeyDown)==null||z.call(u,y)};fr(()=>{var u;s&&E.current.contains(document.activeElement)&&((u=document.activeElement)==null||u.blur())},[s]),s&&A!==-1&&k(-1),s&&H!==-1&&J(-1);const xe=u=>y=>{var z;(z=u.onChange)==null||z.call(u,y),fe(y,y.target.valueAsNumber)},le=W.useRef(void 0);let me=g;d&&g==="horizontal"&&(me+="-reverse");const ne=({finger:u,move:y=!1})=>{const{current:z}=E,{width:V,height:U,bottom:_,left:re}=z.getBoundingClientRect();let pe;me.startsWith("vertical")?pe=(_-u.y)/U:pe=(u.x-re)/V,me.includes("-reverse")&&(pe=1-pe);let te;if(te=Jr(pe,l,i),n)te=Zr(te,n,l);else{const We=Rt(D,te);te=D[We]}te=Ye(te,l,i);let ve=0;if(B){y?ve=le.current:ve=Rt(F,te),a&&(te=Ye(te,F[ve-1]||-1/0,F[ve+1]||1/0));const We=te;te=It({values:F,newValue:te,index:ve}),a&&y||(ve=te.indexOf(We),le.current=ve)}return{newValue:te,activeIndex:ve}},ce=ft(u=>{const y=Ue(u,R);if(!y)return;if(T.current+=1,u.type==="mousemove"&&u.buttons===0){ee(u);return}const{newValue:z,activeIndex:V}=ne({finger:y,move:!0});qe({sliderRef:E,activeIndex:V,setActive:k}),M(z),!c&&T.current>Gr&&C(!0),j&&!Ke(z,I)&&j(u,z,V)}),ee=ft(u=>{const y=Ue(u,R);if(C(!1),!y)return;const{newValue:z}=ne({finger:y,move:!0});k(-1),u.type==="touchend"&&m(-1),v&&v(u,L.current??z),R.current=void 0,de()}),X=ft(u=>{if(s)return;Pt()||u.preventDefault();const y=u.changedTouches[0];y!=null&&(R.current=y.identifier);const z=Ue(u,R);if(z!==!1){const{newValue:U,activeIndex:_}=ne({finger:z});qe({sliderRef:E,activeIndex:_,setActive:k}),M(U),j&&!Ke(U,I)&&j(u,U,_)}T.current=0;const V=Ge(E.current);V.addEventListener("touchmove",ce,{passive:!0}),V.addEventListener("touchend",ee,{passive:!0})}),de=W.useCallback(()=>{const u=Ge(E.current);u.removeEventListener("mousemove",ce),u.removeEventListener("mouseup",ee),u.removeEventListener("touchmove",ce),u.removeEventListener("touchend",ee)},[ee,ce]);W.useEffect(()=>{const{current:u}=E;return u.addEventListener("touchstart",X,{passive:Pt()}),()=>{u.removeEventListener("touchstart",X),de()}},[de,X]),W.useEffect(()=>{s&&de()},[s,de]);const N=u=>y=>{var U;if((U=u.onMouseDown)==null||U.call(u,y),s||y.defaultPrevented||y.button!==0)return;y.preventDefault();const z=Ue(y,R);if(z!==!1){const{newValue:_,activeIndex:re}=ne({finger:z});qe({sliderRef:E,activeIndex:re,setActive:k}),M(_),j&&!Ke(_,I)&&j(y,_,re)}T.current=0;const V=Ge(E.current);V.addEventListener("mousemove",ce,{passive:!0}),V.addEventListener("mouseup",ee)},Q=st(B?F[0]:l,l,i),O=st(F[F.length-1],l,i)-Q,G=(u={})=>{const y=pt(u),z={onMouseDown:N(y||{})},V={...y,...z};return{...u,ref:q,...V}},ue=u=>y=>{var V;(V=u.onMouseOver)==null||V.call(u,y);const z=Number(y.currentTarget.getAttribute("data-index"));m(z)},he=u=>y=>{var z;(z=u.onMouseLeave)==null||z.call(u,y),m(-1)},je=(u={})=>{const y=pt(u),z={onMouseOver:ue(y||{}),onMouseLeave:he(y||{})};return{...u,...y,...z}},De=u=>({pointerEvents:A!==-1&&A!==u?"none":void 0});let ge;return g==="vertical"&&(ge=d?"vertical-rl":"vertical-lr"),{active:A,axis:me,axisProps:es,dragging:c,focusedThumbIndex:H,getHiddenInputProps:(u={})=>{const y=pt(u),z={onChange:xe(y||{}),onFocus:se(y||{}),onBlur:oe(y||{}),onKeyDown:ye(y||{})},V={...y,...z};return{tabIndex:$,"aria-labelledby":t,"aria-orientation":g,"aria-valuemax":p(i),"aria-valuemin":p(l),name:f,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:s,...u,...V,style:{...xr,direction:d?"rtl":"ltr",width:"100%",height:"100%",writingMode:ge}}},getRootProps:G,getThumbProps:je,marks:K,open:S,range:B,rootRef:q,trackLeap:O,trackOffset:Q,values:F,getThumbStyle:De}}const ss=e=>!e||!Je(e);function os(e){return ot("MuiSlider",e)}const Se=nt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ns=e=>{const{open:t}=e;return{offset:ze(t&&Se.valueLabelOpen),circle:Se.valueLabelCircle,label:Se.valueLabelLabel}};function as(e){const{children:t,className:r,value:s}=e,a=ns(e);return t?W.cloneElement(t,{className:t.props.className},o.jsxs(W.Fragment,{children:[t.props.children,o.jsx("span",{className:ze(a.offset,r),"aria-hidden":!0,children:o.jsx("span",{className:a.circle,children:o.jsx("span",{className:a.label,children:s})})})]})):null}function zt(e){return e}const is=ie("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Ie(r.color)}`],r.size!=="medium"&&t[`size${Ie(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(Oe(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Se.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Se.dragging}`]:{[`& .${Se.thumb}, & .${Se.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(St()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ls=ie("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),cs=ie("span",{name:"MuiSlider",slot:"Track"})(Oe(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(St()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),ds=ie("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${Ie(r.color)}`],r.size!=="medium"&&t[`thumbSize${Ie(r.size)}`]]}})(Oe(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Se.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(St()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${Se.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Se.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),us=ie(as,{name:"MuiSlider",slot:"ValueLabel"})(Oe(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Se.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Se.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),fs=ie("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ft(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(Oe(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),ps=ie("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ft(e)&&e!=="markLabelActive"})(Oe(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),ms=e=>{const{disabled:t,dragging:r,marked:s,orientation:a,track:d,classes:b,color:i,size:l}=e,f={root:["root",t&&"disabled",r&&"dragging",s&&"marked",a==="vertical"&&"vertical",d==="inverted"&&"trackInverted",d===!1&&"trackFalse",i&&`color${Ie(i)}`,l&&`size${Ie(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Ie(l)}`,i&&`thumbColor${Ie(i)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return it(f,os,b)},hs=({children:e})=>e,gs=W.forwardRef(function(t,r){const s=at({props:t,name:"MuiSlider"}),a=pr(),{"aria-label":d,"aria-valuetext":b,"aria-labelledby":i,component:l="span",components:f={},componentsProps:h={},color:v="primary",classes:g,className:x,disableSwap:p=!1,disabled:n=!1,getAriaLabel:w,getAriaValueText:$,marks:P=!1,max:R=100,min:A=0,name:k,onChange:S,onChangeCommitted:m,orientation:c="horizontal",shiftStep:C=10,size:T="medium",step:L=1,scale:I=zt,slotProps:M,slots:j,tabIndex:B,track:F="normal",value:K,valueLabelDisplay:D="off",valueLabelFormat:H=zt,...J}=s,E={...s,isRtl:a,max:R,min:A,classes:g,disabled:n,disableSwap:p,orientation:c,marks:P,color:v,size:T,step:L,shiftStep:C,scale:I,track:F,valueLabelDisplay:D,valueLabelFormat:H},{axisProps:q,getRootProps:se,getHiddenInputProps:oe,getThumbProps:fe,open:ye,active:xe,axis:le,focusedThumbIndex:me,range:ne,dragging:ce,marks:ee,values:X,trackOffset:de,trackLeap:N,getThumbStyle:Q}=rs({...E,rootRef:r});E.marked=ee.length>0&&ee.some(Z=>Z.label),E.dragging=ce,E.focusedThumbIndex=me;const O=ms(E),G=(j==null?void 0:j.root)??f.Root??is,ue=(j==null?void 0:j.rail)??f.Rail??ls,he=(j==null?void 0:j.track)??f.Track??cs,je=(j==null?void 0:j.thumb)??f.Thumb??ds,De=(j==null?void 0:j.valueLabel)??f.ValueLabel??us,ge=(j==null?void 0:j.mark)??f.Mark??fs,we=(j==null?void 0:j.markLabel)??f.MarkLabel??ps,u=(j==null?void 0:j.input)??f.Input??"input",y=(M==null?void 0:M.root)??h.root,z=(M==null?void 0:M.rail)??h.rail,V=(M==null?void 0:M.track)??h.track,U=(M==null?void 0:M.thumb)??h.thumb,_=(M==null?void 0:M.valueLabel)??h.valueLabel,re=(M==null?void 0:M.mark)??h.mark,pe=(M==null?void 0:M.markLabel)??h.markLabel,te=(M==null?void 0:M.input)??h.input,ve=Le({elementType:G,getSlotProps:se,externalSlotProps:y,externalForwardedProps:J,additionalProps:{...ss(G)&&{as:l}},ownerState:{...E,...y==null?void 0:y.ownerState},className:[O.root,x]}),We=Le({elementType:ue,externalSlotProps:z,ownerState:E,className:O.rail}),nr=Le({elementType:he,externalSlotProps:V,additionalProps:{style:{...q[le].offset(de),...q[le].leap(N)}},ownerState:{...E,...V==null?void 0:V.ownerState},className:O.track}),lt=Le({elementType:je,getSlotProps:fe,externalSlotProps:U,ownerState:{...E,...U==null?void 0:U.ownerState},className:O.thumb}),ar=Le({elementType:De,externalSlotProps:_,ownerState:{...E,..._==null?void 0:_.ownerState},className:O.valueLabel}),ct=Le({elementType:ge,externalSlotProps:re,ownerState:E,className:O.mark}),dt=Le({elementType:we,externalSlotProps:pe,ownerState:E,className:O.markLabel}),ir=Le({elementType:u,getSlotProps:oe,externalSlotProps:te,ownerState:E});return o.jsxs(G,{...ve,children:[o.jsx(ue,{...We}),o.jsx(he,{...nr}),ee.filter(Z=>Z.value>=A&&Z.value<=R).map((Z,ae)=>{const ut=st(Z.value,A,R),He=q[le].offset(ut);let $e;return F===!1?$e=X.includes(Z.value):$e=F==="normal"&&(ne?Z.value>=X[0]&&Z.value<=X[X.length-1]:Z.value<=X[0])||F==="inverted"&&(ne?Z.value<=X[0]||Z.value>=X[X.length-1]:Z.value>=X[0]),o.jsxs(W.Fragment,{children:[o.jsx(ge,{"data-index":ae,...ct,...!Je(ge)&&{markActive:$e},style:{...He,...ct.style},className:ze(ct.className,$e&&O.markActive)}),Z.label!=null?o.jsx(we,{"aria-hidden":!0,"data-index":ae,...dt,...!Je(we)&&{markLabelActive:$e},style:{...He,...dt.style},className:ze(O.markLabel,dt.className,$e&&O.markLabelActive),children:Z.label}):null]},ae)}),X.map((Z,ae)=>{const ut=st(Z,A,R),He=q[le].offset(ut),$e=D==="off"?hs:De;return o.jsx($e,{...!Je($e)&&{valueLabelFormat:H,valueLabelDisplay:D,value:typeof H=="function"?H(I(Z),ae):H,index:ae,open:ye===ae||xe===ae||D==="on",disabled:n},...ar,children:o.jsx(je,{"data-index":ae,...lt,className:ze(O.thumb,lt.className,xe===ae&&O.active,me===ae&&O.focusVisible),style:{...He,...Q(ae),...lt.style},children:o.jsx(u,{"data-index":ae,"aria-label":w?w(ae):d,"aria-valuenow":I(Z),"aria-labelledby":i,"aria-valuetext":$?$(I(Z),ae):b,value:X[ae],...ir})})},ae)})]})});async function tr(){const e=new Set((await Ce.targets.toArray()).map(t=>t.subject));return Object.keys(et).filter(t=>!e.has(t))}const Be=[ht[900],ht[500],Ot[500],yr[500],Vt[500]],kt=e=>e>=8?Be[4]:e>=6.5?Be[3]:e>=5?Be[2]:e>=3.5?Be[1]:Be[0];function Ct(e){const t=_e.c(30),{score:r,size:s,sx:a,isColor:d,subTitle:b}=e,i=r===void 0?0:r,l=s===void 0?40:s;let f;t[0]!==l||t[1]!==a?(f={position:"relative",width:l,aspectRatio:"1 / 1",display:"inline-flex",alignItems:"center",justifyContent:"center",...a},t[0]=l,t[1]=a,t[2]=f):f=t[2];const h=Math.min(l/4,16);let v;t[3]!==h?(v={fontSize:h},t[3]=h,t[4]=v):v=t[4];let g;t[5]!==i?(g=i.toFixed(2),t[5]=i,t[6]=g):g=t[6];let x;t[7]!==v||t[8]!==g?(x=o.jsx(be,{sx:v,children:g}),t[7]=v,t[8]=g,t[9]=x):x=t[9];let p;t[10]!==l||t[11]!==b?(p=b&&o.jsx(be,{sx:{opacity:.4,fontSize:Math.max(l/5.5,12)},children:b}),t[10]=l,t[11]=b,t[12]=p):p=t[12];let n;t[13]!==x||t[14]!==p?(n=o.jsxs(Ne,{children:[x,p]}),t[13]=x,t[14]=p,t[15]=n):n=t[15];let w;t[16]===Symbol.for("react.memo_cache_sentinel")?(w=o.jsx(Lt,{sx:{color:"divider",position:"absolute",top:0,left:0,"& circle":{strokeLinecap:"round"}},variant:"determinate",value:100,size:"100%"}),t[16]=w):w=t[16];let $;t[17]!==d||t[18]!==i?($=d?kt(i):void 0,t[17]=d,t[18]=i,t[19]=$):$=t[19];let P;t[20]===Symbol.for("react.memo_cache_sentinel")?(P={strokeLinecap:"round"},t[20]=P):P=t[20];let R;t[21]!==$?(R={color:$,position:"absolute",top:0,left:0,"& circle":P},t[21]=$,t[22]=R):R=t[22];const A=i*10;let k;t[23]!==R||t[24]!==A?(k=o.jsx(Lt,{sx:R,variant:"determinate",value:A,size:"100%"}),t[23]=R,t[24]=A,t[25]=k):k=t[25];let S;return t[26]!==k||t[27]!==f||t[28]!==n?(S=o.jsxs(be,{sx:f,children:[n,w,k]}),t[26]=k,t[27]=f,t[28]=n,t[29]=S):S=t[29],S}const bs=(e,t)=>{let r="transparent";return t>10&&(r="error.main"),e<t&&(r="warning.main"),t===0&&(r="primary.main"),r};function xs(e){const t=_e.c(16),{target:r,require:s,avg:a}=e;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=Y("You can achieve the target"),t[0]=d):d=t[0];let b=d,i="text.secondary";if(s>10){let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=Y("Cannot achieve the target"),t[1]=n):n=t[1],b=n,i="error.main"}if(r<s){let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=Y("It is quite hard to reach the target"),t[2]=n):n=t[2],b=n,i="warning.main"}s===0&&(i="primary.main");let l;t[3]!==i?(l={color:i},t[3]=i,t[4]=l):l=t[4];const f=b;let h;t[5]!==a?(h=a.toFixed(2),t[5]=a,t[6]=h):h=t[6];let v;t[7]!==r?(v=r.toFixed(2),t[7]=r,t[8]=v):v=t[8];let g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=o.jsx("br",{}),t[9]=g):g=t[9];const x=s!==0&&Y("require score")+" "+s.toFixed(2);let p;return t[10]!==b||t[11]!==l||t[12]!==h||t[13]!==v||t[14]!==x?(p=o.jsxs(Re,{variant:"caption",sx:l,children:[f," ",h,"/",v," ",g,x]}),t[10]=b,t[11]=l,t[12]=h,t[13]=v,t[14]=x,t[15]=p):p=t[15],p}function ys(e){const t=_e.c(43),{target:r,handleEdit:s,onClickExams:a}=e,d=et[r.subject];let b;t[0]!==r.requiredAvg||t[1]!==r.score?(b=bs(r.score,r.requiredAvg),t[0]=r.requiredAvg,t[1]=r.score,t[2]=b):b=t[2];const i=b,l=r.score!==0?i:"transparent";let f;t[3]!==l?(f={borderRadius:2,outline:1,outlineColor:l},t[3]=l,t[4]=f):f=t[4];let h;t[5]!==d.color?(h=C=>C.palette.getContrastText(d.color),t[5]=d.color,t[6]=h):h=t[6];let v;t[7]!==d.color||t[8]!==h?(v={bgcolor:d.color,color:h},t[7]=d.color,t[8]=h,t[9]=v):v=t[9];const g=d.icon;let x;t[10]!==g?(x=o.jsx(ke,{icon:g}),t[10]=g,t[11]=x):x=t[11];let p;t[12]!==v||t[13]!==x?(p=o.jsx(Bt,{sx:v,children:x}),t[12]=v,t[13]=x,t[14]=p):p=t[14];let n;t[15]!==r.requiredAvg||t[16]!==r.score||t[17]!==r.target?(n=o.jsx(xs,{avg:r.score,target:r.target,require:r.requiredAvg}),t[15]=r.requiredAvg,t[16]=r.score,t[17]=r.target,t[18]=n):n=t[18];let w;t[19]!==s||t[20]!==r.id?(w=()=>s(r.id),t[19]=s,t[20]=r.id,t[21]=w):w=t[21];let $;t[22]===Symbol.for("react.memo_cache_sentinel")?($=o.jsx(ke,{icon:"solar:pen-bold"}),t[22]=$):$=t[22];let P;t[23]!==w?(P=o.jsx(Mr,{onClick:w,children:$}),t[23]=w,t[24]=P):P=t[24];let R;t[25]===Symbol.for("react.memo_cache_sentinel")?(R={px:3,pt:2},t[25]=R):R=t[25];let A;t[26]!==d.name||t[27]!==P||t[28]!==p||t[29]!==n?(A=o.jsx(Kr,{avatar:p,title:d.name,subheader:n,action:P,sx:R}),t[26]=d.name,t[27]=P,t[28]=p,t[29]=n,t[30]=A):A=t[30];let k;t[31]!==r.exams?(k=Object.entries(r.exams),t[31]=r.exams,t[32]=k):k=t[32];let S;t[33]!==a||t[34]!==k||t[35]!==r.subject?(S=o.jsx(Ne,{pb:2,children:o.jsx(be,{display:"flex",children:k.map(C=>{const[T,L]=C;return o.jsxs(Ne,{spacing:2,width:.3333333,px:1,children:[o.jsxs(mr,{onClick:()=>a(T),sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",py:1,borderRadius:1,transition:"all .2s ease-in-out","&:hover":{bgcolor:"action.hover"}},children:[o.jsx(xt,{sx:{color:Pe[T].color,bgcolor:gt(Pe[T].color).alpha(.08).string(),fontWeight:"bold",textWrap:"wrap",fontSize:12},icon:o.jsx(ke,{color:Pe[T].color,icon:Pe[T].icon}),label:T}),o.jsx(vr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiBadge-badge":{boxShadow:ws,bgcolor:Ss,color:vs,borderColor:"divider",borderWidth:1}},badgeContent:`x${L.weight}`,children:o.jsx(Ct,{subTitle:`${Math.round(L.percent*100)/100}%`,sx:{mt:2},size:60,score:L.avg,isColor:!0})}),o.jsxs(Re,{variant:"caption",sx:{opacity:.6,my:1},children:[L.count,"/",L.target," - (",L.count/L.target*100,"%)"]}),o.jsx(hr,{sx:{width:.8,borderRadius:1,height:6},variant:"determinate",value:L.count/L.target*100})]}),o.jsx(Fe,{sx:{alignSelf:"center"},size:"small",variant:"outlined",startIcon:o.jsx(ke,{icon:"solar:calendar-bold"}),LinkComponent:gr,href:`/calendar?exam=${T}&subject=${r.subject}&back=/`,children:Y("Schedule")})]},T)})})}),t[33]=a,t[34]=k,t[35]=r.subject,t[36]=S):S=t[36];let m;t[37]!==A||t[38]!==S?(m=o.jsxs(Vr,{children:[A,S]}),t[37]=A,t[38]=S,t[39]=m):m=t[39];let c;return t[40]!==m||t[41]!==f?(c=o.jsx(be,{sx:f,children:m}),t[40]=m,t[41]=f,t[42]=c):c=t[42],c}function vs(e){return e.vars.palette.text.primary}function Ss(e){return e.vars.palette.background.default}function ws(e){return e.vars.customShadows.z8}const ks=(e,t)=>{if(e<=0)return t>0?1/0:100;if(t<0)return 0;const r=t/e;return Math.round(r*100*10)/10},Cs=async()=>{const[e,t]=await Promise.all([Ce.scores.toArray(),Ce.targets.toArray()]),r=new Map;for(const s of e){let a=r.get(s.subject);a||(a=Ee.reduce((d,b)=>d.set(b,[]),new Map),r.set(s.subject,a)),a.get(s.exams).push(s.score)}return t.map(s=>{const a=r.get(s.subject),d=a?Object.fromEntries(Ee.map(g=>[g,a.get(g)??[]])):Ee.reduce((g,x)=>(g[x]=[],g),{});let b=0,i=0,l=0;Ee.forEach(g=>{const x=d[g],p=Pe[g].weight,n=x.length;if(n>0){const w=x.reduce(($,P)=>$+P,0)/n;b+=w*n*p,i+=n*p}else l+=p});const f=i>0?b/i:0;let h=0;l>0&&(h=(s.target*(i+l)-b)/l);const v=Object.fromEntries(Ee.map(g=>{const x=d[g],p=x.length,n=p>0?x.reduce((w,$)=>w+$,0)/p:0;return[g,{target:s.exams[g],count:p,weight:Pe[g].weight,avg:p>0?n:0,isMissing:p===0,percent:ks(s.target,p>0?n:0)}]}));return{id:s.id,subject:s.subject,target:s.target,score:f,exams:v,countExams:Object.values(v).reduce((g,x)=>g+x.count,0),requiredAvg:h,missingExams:Ee.filter(g=>d[g].length===0),color:h>10?ht[500]:h>s.target?Ot[500]:Vt[500]}})},js=async(e,t)=>{var a;if(!t||!e)return{scores:[],totalScore:0};const r=await Ce.scores.where({subject:t,exams:e}).toArray(),s=(a=await Ce.targets.where({subject:t}).first())==null?void 0:a.exams[e];return{scores:r,totalScore:s}},rr=W.forwardRef((e,t)=>{const r=_e.c(18),{value:s,onChange:a,height:d,disabled:b,sx:i}=e,l=d===void 0?8:d;let f;r[0]!==i?(f={px:2,...i},r[0]=i,r[1]=f):f=r[1];let h;r[2]!==a?(h=(n,w)=>a==null?void 0:a(w),r[2]=a,r[3]=h):h=r[3];let v;r[4]!==s?(v=kt(s),r[4]=s,r[5]=v):v=r[5];let g;r[6]!==l||r[7]!==v?(g={color:v,height:l},r[6]=l,r[7]=v,r[8]=g):g=r[8];let x;r[9]!==b||r[10]!==t||r[11]!==h||r[12]!==g||r[13]!==s?(x=o.jsx(gs,{ref:t,disabled:b,min:0,max:10,value:s,step:.25,marks:Ms,className:"slider-score",onChange:h,sx:g}),r[9]=b,r[10]=t,r[11]=h,r[12]=g,r[13]=s,r[14]=x):x=r[14];let p;return r[15]!==f||r[16]!==x?(p=o.jsx(be,{sx:f,children:x}),r[15]=f,r[16]=x,r[17]=p):p=r[17],p}),$s=[0,2,3.5,5,6.5,8,10],Ms=$s.map(e=>({value:e,label:e.toFixed(1)})),Ts=W.forwardRef((e,t)=>{const[r,s]=W.useState(!1),[a,d]=W.useState(!1);return o.jsx(Sr,{onClickAway:()=>r&&s(!1),children:o.jsxs(Fe,{ref:t,...e,sx:{minWidth:"unset",minHeight:36,...e.sx},color:r?"error":"inherit",onClick:async()=>{if(r)try{d(!0),await e.onDelete()}finally{s(!1),d(!1)}else s(!0)},loading:a,children:[o.jsx(ke,{icon:"solar:trash-bin-trash-bold"}),o.jsx(vt,{in:r,orientation:"horizontal",unmountOnExit:!0,mountOnEnter:!0,sx:{textWrap:"nowrap",mx:r?.5:0},children:e.children||"Click to delete"})]})})}),sr=Wt(e=>({open:!1,setOpen:t=>e({open:t})})),Me=Ut();function Ls(){const e=_e.c(56),{open:t,setOpen:r}=sr(),{isSubmitSuccessful:s,isLoading:a}=qt(Me),d=bt(tr)??[];let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={control:Me.control,name:["id"]},e[0]=b):b=e[0];const[i]=Kt(b);let l,f;e[1]!==i?(l=async()=>{if(!i)return;const q=await Ce.scores.where({subject:Me.getValues("subject")}).toArray();return Ee.reduce((se,oe)=>(se[oe]=q.filter(fe=>fe.exams===oe).length,se),{})},f=[i],e[1]=i,e[2]=l,e[3]=f):(l=e[2],f=e[3]);const h=bt(l,f);let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=Me.handleSubmit(Rs),e[4]=v):v=e[4];const g=v;let x,p;e[5]!==s||e[6]!==t||e[7]!==r?(x=()=>{s&&t&&r(!1)},p=[s,t,r],e[5]=s,e[6]=t,e[7]=r,e[8]=x,e[9]=p):(x=e[8],p=e[9]),W.useEffect(x,p);let n;e[10]!==i?(n=i?Y("Update target"):Y("Add target"),e[10]=i,e[11]=n):n=e[11];let w;e[12]!==n?(w=o.jsx(Xt,{children:n}),e[12]=n,e[13]=w):w=e[13];let $;e[14]===Symbol.for("react.memo_cache_sentinel")?($={px:2},e[14]=$):$=e[14];let P;e[15]!==d?(P=o.jsx(wr,{subjectList:d,control:Me.control}),e[15]=d,e[16]=P):P=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R={border:1,borderColor:"divider",borderRadius:1,p:0,position:"relative"},e[17]=R):R=e[17];let A,k;e[18]===Symbol.for("react.memo_cache_sentinel")?(A={mr:-1},k=Object.keys(Pe),e[18]=A,e[19]=k):(A=e[18],k=e[19]);let S;e[20]!==h?(S=o.jsx(Lr,{sx:A,children:k.map(q=>o.jsxs(kr,{value:q,children:[o.jsx(Cr,{children:q}),o.jsx(tt,{control:Me.control,name:`exams.${q}`,render:se=>{const{field:oe}=se;return o.jsx(jr,{min:h?h[q]:0,...oe})}})]},q))}),e[20]=h,e[21]=S):S=e[21];let m;e[22]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx(yt,{children:Y("Exam count")}),e[22]=m):m=e[22];let c;e[23]!==S?(c=o.jsxs(be,{sx:R,children:[S,m]}),e[23]=S,e[24]=c):c=e[24];let C;e[25]===Symbol.for("react.memo_cache_sentinel")?(C={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[25]=C):C=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=o.jsxs(be,{sx:C,children:[o.jsx(yt,{children:Y("Target score")}),o.jsx(tt,{control:Me.control,name:"target",render:As})]}),e[26]=T):T=e[26];let L;e[27]!==c||e[28]!==P?(L=o.jsx(Gt,{dividers:!0,sx:$,children:o.jsxs(Ne,{spacing:2,children:[P,c,T]})}),e[27]=c,e[28]=P,e[29]=L):L=e[29];let I;e[30]!==i||e[31]!==r?(I=i&&o.jsx(Ts,{sx:{mr:"auto"},onDelete:async()=>{await Ce.targets.delete(i),r(!1),Ht.success(Y("Delete target successfully"))},children:Y("Delete target")}),e[30]=i,e[31]=r,e[32]=I):I=e[32];let M;e[33]!==r?(M=()=>r(!1),e[33]=r,e[34]=M):M=e[34];let j;e[35]===Symbol.for("react.memo_cache_sentinel")?(j=Y("Close"),e[35]=j):j=e[35];let B;e[36]!==a||e[37]!==M?(B=o.jsx(Fe,{disabled:a,onClick:M,children:j}),e[36]=a,e[37]=M,e[38]=B):B=e[38];const F=i?"solar:diskette-bold":"solar:cup-star-bold";let K;e[39]!==F?(K=o.jsx(ke,{icon:F}),e[39]=F,e[40]=K):K=e[40];let D;e[41]!==i?(D=i?Y("Update target"):Y("Create target"),e[41]=i,e[42]=D):D=e[42];let H;e[43]!==a||e[44]!==K||e[45]!==D?(H=o.jsx(Fe,{loading:a,variant:"contained",color:"primary",startIcon:K,onClick:g,children:D}),e[43]=a,e[44]=K,e[45]=D,e[46]=H):H=e[46];let J;e[47]!==I||e[48]!==B||e[49]!==H?(J=o.jsxs(Jt,{children:[I,B,H]}),e[47]=I,e[48]=B,e[49]=H,e[50]=J):J=e[50];let E;return e[51]!==t||e[52]!==L||e[53]!==J||e[54]!==w?(E=o.jsxs(Qt,{open:t,fullWidth:!0,maxWidth:"xs",children:[w,L,J]}),e[51]=t,e[52]=L,e[53]=J,e[54]=w,e[55]=E):E=e[55],E}function As(e){const{field:t}=e;return o.jsxs(be,{width:1,display:"flex",mt:2,children:[o.jsx(be,{children:o.jsx(Ct,{score:t.value,isColor:!0})}),o.jsx(rr,{sx:{flex:1},...t})]})}async function Rs(e){await Ce.targets.put(e),Ht.success(Y("Add target successfully"))}var Qe={exports:{}},Is=Qe.exports,_t;function Ps(){return _t||(_t=1,(function(e,t){(function(r,s){e.exports=s()})(Is,(function(){var r,s,a=1e3,d=6e4,b=36e5,i=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,h=2628e6,v=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:f,months:h,days:i,hours:b,minutes:d,seconds:a,milliseconds:1,weeks:6048e5},x=function(S){return S instanceof A},p=function(S,m,c){return new A(S,c,m.$l)},n=function(S){return s.p(S)+"s"},w=function(S){return S<0},$=function(S){return w(S)?Math.ceil(S):Math.floor(S)},P=function(S){return Math.abs(S)},R=function(S,m){return S?w(S)?{negative:!0,format:""+P(S)+m}:{negative:!1,format:""+S+m}:{negative:!1,format:""}},A=(function(){function S(c,C,T){var L=this;if(this.$d={},this.$l=T,c===void 0&&(this.$ms=0,this.parseFromMilliseconds()),C)return p(c*g[n(C)],this);if(typeof c=="number")return this.$ms=c,this.parseFromMilliseconds(),this;if(typeof c=="object")return Object.keys(c).forEach((function(j){L.$d[n(j)]=c[j]})),this.calMilliseconds(),this;if(typeof c=="string"){var I=c.match(v);if(I){var M=I.slice(2).map((function(j){return j!=null?Number(j):0}));return this.$d.years=M[0],this.$d.months=M[1],this.$d.weeks=M[2],this.$d.days=M[3],this.$d.hours=M[4],this.$d.minutes=M[5],this.$d.seconds=M[6],this.calMilliseconds(),this}}return this}var m=S.prototype;return m.calMilliseconds=function(){var c=this;this.$ms=Object.keys(this.$d).reduce((function(C,T){return C+(c.$d[T]||0)*g[T]}),0)},m.parseFromMilliseconds=function(){var c=this.$ms;this.$d.years=$(c/f),c%=f,this.$d.months=$(c/h),c%=h,this.$d.days=$(c/i),c%=i,this.$d.hours=$(c/b),c%=b,this.$d.minutes=$(c/d),c%=d,this.$d.seconds=$(c/a),c%=a,this.$d.milliseconds=c},m.toISOString=function(){var c=R(this.$d.years,"Y"),C=R(this.$d.months,"M"),T=+this.$d.days||0;this.$d.weeks&&(T+=7*this.$d.weeks);var L=R(T,"D"),I=R(this.$d.hours,"H"),M=R(this.$d.minutes,"M"),j=this.$d.seconds||0;this.$d.milliseconds&&(j+=this.$d.milliseconds/1e3,j=Math.round(1e3*j)/1e3);var B=R(j,"S"),F=c.negative||C.negative||L.negative||I.negative||M.negative||B.negative,K=I.format||M.format||B.format?"T":"",D=(F?"-":"")+"P"+c.format+C.format+L.format+K+I.format+M.format+B.format;return D==="P"||D==="-P"?"P0D":D},m.toJSON=function(){return this.toISOString()},m.format=function(c){var C=c||"YYYY-MM-DDTHH:mm:ss",T={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return C.replace(l,(function(L,I){return I||String(T[L])}))},m.as=function(c){return this.$ms/g[n(c)]},m.get=function(c){var C=this.$ms,T=n(c);return T==="milliseconds"?C%=1e3:C=T==="weeks"?$(C/g[T]):this.$d[T],C||0},m.add=function(c,C,T){var L;return L=C?c*g[n(C)]:x(c)?c.$ms:p(c,this).$ms,p(this.$ms+L*(T?-1:1),this)},m.subtract=function(c,C){return this.add(c,C,!0)},m.locale=function(c){var C=this.clone();return C.$l=c,C},m.clone=function(){return p(this.$ms,this)},m.humanize=function(c){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!c)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},S})(),k=function(S,m,c){return S.add(m.years()*c,"y").add(m.months()*c,"M").add(m.days()*c,"d").add(m.hours()*c,"h").add(m.minutes()*c,"m").add(m.seconds()*c,"s").add(m.milliseconds()*c,"ms")};return function(S,m,c){r=c,s=c().$utils(),c.duration=function(L,I){var M=c.locale();return p(L,{$l:M},I)},c.isDuration=x;var C=m.prototype.add,T=m.prototype.subtract;m.prototype.add=function(L,I){return x(L)?k(this,L,1):C.bind(this)(L,I)},m.prototype.subtract=function(L,I){return x(L)?k(this,L,-1):T.bind(this)(L,I)}}}))})(Qe)),Qe.exports}var zs=Ps();const _s=Yt(zs);var Ze={exports:{}},Ds=Ze.exports,Dt;function Es(){return Dt||(Dt=1,(function(e,t){(function(r,s){e.exports=s()})(Ds,(function(){return function(r,s,a){r=r||{};var d=s.prototype,b={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(f,h,v,g){return d.fromToBase(f,h,v,g)}a.en.relativeTime=b,d.fromToBase=function(f,h,v,g,x){for(var p,n,w,$=v.$locale().relativeTime||b,P=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=P.length,A=0;A<R;A+=1){var k=P[A];k.d&&(p=g?a(f).diff(v,k.d,!0):v.diff(f,k.d,!0));var S=(r.rounding||Math.round)(Math.abs(p));if(w=p>0,S<=k.r||!k.r){S<=1&&A>0&&(k=P[A-1]);var m=$[k.l];x&&(S=x(""+S)),n=typeof m=="string"?m.replace("%d",S):m(S,h,k.l,w);break}}if(h)return n;var c=w?$.future:$.past;return typeof c=="function"?c(n):c.replace("%s",n)},d.to=function(f,h){return i(f,h,this,!0)},d.from=function(f,h){return i(f,h,this)};var l=function(f){return f.$u?a.utc():a()};d.toNow=function(f){return this.to(l(this),f)},d.fromNow=function(f){return this.from(l(this),f)}}}))})(Ze)),Ze.exports}var Ns=Es();const Fs=Yt(Ns);wt.extend(_s);wt.extend(Fs);function Os(e){const t=typeof e=="string"?new Date(e):e,s=Math.floor((new Date().getTime()-t.getTime())/1e3);if(s<60)return`${s} ${Y("seconds ago")}`;const a=Math.floor(s/60);if(a<60)return`${a} ${Y("minutes ago")}`;const d=Math.floor(a/60);if(d<24)return`${d} ${Y("hours ago")}`;const b=Math.floor(d/24);if(b<30)return`${b} ${Y("days ago")}`;const i=Math.floor(b/30);return i<12?`${i} ${Y("months ago")};`:`${Math.floor(i/12)} ${Y("years ago")}`}const mt={root:Mt("label__root"),icon:Mt("label__icon")},Vs=ie("span",{shouldForwardProp:e=>!["color","variant","disabled","sx"].includes(e)})(({color:e,variant:t,disabled:r,theme:s})=>{const a={...e==="default"&&{...t==="filled"&&{color:s.vars.palette.common.white,backgroundColor:s.vars.palette.text.primary,...s.applyStyles("dark",{color:s.vars.palette.grey[800]})},...t==="outlined"&&{backgroundColor:"transparent",color:s.vars.palette.text.primary,border:`2px solid ${s.vars.palette.text.primary}`},...t==="soft"&&{color:s.vars.palette.text.secondary,backgroundColor:Tt(s.vars.palette.grey["500Channel"],.16)},...t==="inverted"&&{color:s.vars.palette.grey[800],backgroundColor:s.vars.palette.grey[300]}}},d={...e&&e!=="default"&&{...t==="filled"&&{color:s.vars.palette[e].contrastText,backgroundColor:s.vars.palette[e].main},...t==="outlined"&&{backgroundColor:"transparent",color:s.vars.palette[e].main,border:`2px solid ${s.vars.palette[e].main}`},...t==="soft"&&{color:s.vars.palette[e].dark,backgroundColor:Tt(s.vars.palette[e].mainChannel,.16),...s.applyStyles("dark",{color:s.vars.palette[e].light})},...t==="inverted"&&{color:s.vars.palette[e].darker,backgroundColor:s.vars.palette[e].lighter}}};return{height:24,minWidth:24,lineHeight:0,flexShrink:0,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",gap:s.spacing(.75),justifyContent:"center",padding:s.spacing(0,.75),fontSize:s.typography.pxToRem(12),fontWeight:s.typography.fontWeightBold,borderRadius:Number(s.shape.borderRadius)*.75,transition:s.transitions.create(["all"],{duration:s.transitions.duration.shorter}),...a,...d,...r&&{opacity:.48,pointerEvents:"none"}}}),Et=ie("span")({width:16,height:16,flexShrink:0,"& svg, img":{width:"100%",height:"100%",objectFit:"cover"}});function Ws(e){const t=_e.c(28);let r,s,a,d,b,i,l,f,h;t[0]!==e?({sx:l,endIcon:d,children:r,startIcon:i,className:s,disabled:a,variant:f,color:h,...b}=e,t[0]=e,t[1]=r,t[2]=s,t[3]=a,t[4]=d,t[5]=b,t[6]=i,t[7]=l,t[8]=f,t[9]=h):(r=t[1],s=t[2],a=t[3],d=t[4],b=t[5],i=t[6],l=t[7],f=t[8],h=t[9]);const v=f===void 0?"soft":f,g=h===void 0?"default":h;let x;t[10]!==s?(x=br([mt.root,s]),t[10]=s,t[11]=x):x=t[11];let p;t[12]!==i?(p=i&&o.jsx(Et,{className:mt.icon,children:i}),t[12]=i,t[13]=p):p=t[13];let n;t[14]!==r?(n=typeof r=="string"?Ir(r):r,t[14]=r,t[15]=n):n=t[15];let w;t[16]!==d?(w=d&&o.jsx(Et,{className:mt.icon,children:d}),t[16]=d,t[17]=w):w=t[17];let $;return t[18]!==g||t[19]!==a||t[20]!==b||t[21]!==l||t[22]!==x||t[23]!==p||t[24]!==n||t[25]!==w||t[26]!==v?($=o.jsxs(Vs,{color:g,variant:v,disabled:a,className:x,sx:l,...b,children:[p,n,w]}),t[18]=g,t[19]=a,t[20]=b,t[21]=l,t[22]=x,t[23]=p,t[24]=n,t[25]=w,t[26]=v,t[27]=$):$=t[27],$}const or=Wt(e=>({open:!1,setOpen:t=>e({open:t})})),Ae=Ut();function Ys(){var De;const e=_e.c(89),{open:t,setOpen:r}=or();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={control:Ae.control,name:["id","subject","exams","_score"]},e[0]=s):s=e[0];const[a,d,b,i]=Kt(s),{scores:l,totalScore:f}=bt(()=>js(b,d),[b,d])??{scores:[],totalScore:0},{isLoading:h,isSubmitSuccessful:v}=qt(Ae);let g,x;e[1]!==v||e[2]!==t||e[3]!==r?(g=()=>{v&&t&&r(!1)},x=[v,t,r],e[1]=v,e[2]=t,e[3]=r,e[4]=g,e[5]=x):(g=e[4],x=e[5]),W.useEffect(g,x);const p=et[d],n=Pe[b];let w;e[6]!==a?(w=Ae.handleSubmit(async ge=>{const we=new Date().toISOString();ge.id||delete ge.id,await Ce.scores.put({...ge,...a&&{createdAt:we},updatedAt:we})}),e[6]=a,e[7]=w):w=e[7];const $=w;let P;e[8]!==l[0]||e[9]!==l.length||e[10]!==f?(P=()=>{l.length===f&&l.length>0?Ae.setValue("id",l[0].id):Ae.setValue("id",0)},e[8]=l[0],e[9]=l.length,e[10]=f,e[11]=P):P=e[11];let R;e[12]!==l||e[13]!==f?(R=[l,f],e[12]=l,e[13]=f,e[14]=R):R=e[14],W.useEffect(P,R);let A;e[15]!==a?(A=a?Y("Update score"):Y("Input score"),e[15]=a,e[16]=A):A=e[16];let k;e[17]!==A?(k=o.jsx(Xt,{children:A}),e[17]=A,e[18]=k):k=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S={borderRadius:1,borderWidth:1,p:1,px:2},e[19]=S):S=e[19];const m=p==null?void 0:p.color;let c;e[20]!==(p==null?void 0:p.color)?(c=ge=>ge.palette.getContrastText(p==null?void 0:p.color),e[20]=p==null?void 0:p.color,e[21]=c):c=e[21];let C;e[22]!==c||e[23]!==m?(C={bgcolor:m,color:c},e[22]=c,e[23]=m,e[24]=C):C=e[24];const T=(De=et[d])==null?void 0:De.icon;let L;e[25]!==T?(L=o.jsx(ke,{icon:T}),e[25]=T,e[26]=L):L=e[26];let I;e[27]!==C||e[28]!==L?(I=o.jsx(Bt,{sx:C,children:L}),e[27]=C,e[28]=L,e[29]=I):I=e[29];const M=p==null?void 0:p.name;let j;e[30]!==M?(j=o.jsx(Re,{variant:"h6",children:M}),e[30]=M,e[31]=j):j=e[31];const B=`${b} ${l.length}/${f}`,F=n==null?void 0:n.color,K=n==null?void 0:n.icon;let D;e[32]!==F||e[33]!==K?(D=o.jsx(ke,{color:F,icon:K}),e[32]=F,e[33]=K,e[34]=D):D=e[34];let H;e[35]!==(n==null?void 0:n.color)?(H=(n==null?void 0:n.color)&&gt(n==null?void 0:n.color).alpha(.08).string(),e[35]=n==null?void 0:n.color,e[36]=H):H=e[36];const J=n==null?void 0:n.color;let E;e[37]!==(n==null?void 0:n.color)?(E=gt(n==null?void 0:n.color).alpha(.16).string(),e[37]=n==null?void 0:n.color,e[38]=E):E=e[38];let q;e[39]!==H||e[40]!==J||e[41]!==E?(q={bgcolor:H,color:J,border:1,borderColor:E},e[39]=H,e[40]=J,e[41]=E,e[42]=q):q=e[42];let se;e[43]!==B||e[44]!==D||e[45]!==q?(se=o.jsx(xt,{label:B,size:"small",icon:D,sx:q}),e[43]=B,e[44]=D,e[45]=q,e[46]=se):se=e[46];let oe;e[47]!==j||e[48]!==se?(oe=o.jsxs(Ne,{flex:1,alignItems:"flex-start",children:[j,se]}),e[47]=j,e[48]=se,e[49]=oe):oe=e[49];let fe;e[50]!==i?(fe=i==null?void 0:i.toFixed(2),e[50]=i,e[51]=fe):fe=e[51];let ye;e[52]!==fe?(ye=o.jsx(xt,{label:fe}),e[52]=fe,e[53]=ye):ye=e[53];let xe;e[54]!==I||e[55]!==oe||e[56]!==ye?(xe=o.jsxs(be,{display:"flex",alignItems:"center",gap:2,sx:S,children:[I,oe,ye]}),e[54]=I,e[55]=oe,e[56]=ye,e[57]=xe):xe=e[57];let le;e[58]===Symbol.for("react.memo_cache_sentinel")?(le={border:1,borderColor:"divider",display:"flex",borderRadius:1,p:1.5,pl:2.5,alignItems:"center",position:"relative"},e[58]=le):le=e[58];let me;e[59]===Symbol.for("react.memo_cache_sentinel")?(me=o.jsxs(be,{sx:le,children:[o.jsx(yt,{children:Y("Score")}),o.jsx(tt,{control:Ae.control,name:"score",render:Hs})]}),e[59]=me):me=e[59];let ne;e[60]!==l?(ne=l.length>0&&o.jsx(tt,{control:Ae.control,name:"id",defaultValue:0,render:ge=>{const{field:we}=ge,u=l.find(y=>y.id===we.value);return o.jsxs(Ar,{label:Y("Select score for update"),select:!0,sx:{"& .MuiSelect-select":{display:"flex",alignItems:"center"}},helperText:u&&Os(u.updatedAt),...we,children:[o.jsx(Zt,{value:0,children:o.jsx("em",{children:Y("New score")})}),l.map(Bs)]})}}),e[60]=l,e[61]=ne):ne=e[61];let ce;e[62]!==xe||e[63]!==ne?(ce=o.jsx(Gt,{children:o.jsxs(Ne,{spacing:2,children:[xe,me,ne]})}),e[62]=xe,e[63]=ne,e[64]=ce):ce=e[64];let ee;e[65]!==r?(ee=()=>r(!1),e[65]=r,e[66]=ee):ee=e[66];let X;e[67]===Symbol.for("react.memo_cache_sentinel")?(X=Y("Close"),e[67]=X):X=e[67];let de;e[68]!==h||e[69]!==ee?(de=o.jsx(Fe,{disabled:h,onClick:ee,children:X}),e[68]=h,e[69]=ee,e[70]=de):de=e[70];const N=f===l.length&&!a,Q=a?"solar:diskette-bold":"solar:check-circle-linear";let O;e[71]!==Q?(O=o.jsx(ke,{icon:Q}),e[71]=Q,e[72]=O):O=e[72];let G;e[73]!==a?(G=a?Y("Update score"):Y("Input score"),e[73]=a,e[74]=G):G=e[74];let ue;e[75]!==$||e[76]!==h||e[77]!==N||e[78]!==O||e[79]!==G?(ue=o.jsx(Fe,{disabled:N,loading:h,variant:"contained",color:"primary",startIcon:O,onClick:$,children:G}),e[75]=$,e[76]=h,e[77]=N,e[78]=O,e[79]=G,e[80]=ue):ue=e[80];let he;e[81]!==de||e[82]!==ue?(he=o.jsxs(Jt,{children:[de,ue]}),e[81]=de,e[82]=ue,e[83]=he):he=e[83];let je;return e[84]!==t||e[85]!==ce||e[86]!==he||e[87]!==k?(je=o.jsxs(Qt,{open:t,fullWidth:!0,maxWidth:"xs",children:[k,ce,he]}),e[84]=t,e[85]=ce,e[86]=he,e[87]=k,e[88]=je):je=e[88],je}function Bs(e){return o.jsxs(Zt,{value:e.id,children:[o.jsx(Ws,{sx:{width:40,color:kt(e.score)},children:e.score.toFixed(2)}),o.jsx(Re,{ml:.5,variant:"body2",color:"textSecondary",children:wt(e.updatedAt).format("DD MMM YYYY")})]},e.id)}function Hs(e){const{field:t}=e;return o.jsxs(be,{width:1,display:"flex",mt:2,children:[o.jsx(be,{children:o.jsx(Ct,{score:t.value,isColor:!0})}),o.jsx(rr,{sx:{flex:1},...t})]})}function so(){const e=_e.c(30);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[r,s]=W.useState(t),{setOpen:a,open:d}=sr(),{setOpen:b,open:i}=or();let l;e[1]!==a?(l=async C=>{a(!0),Me.reset(await Ce.targets.get(C))},e[1]=a,e[2]=l):l=e[2];const f=l;let h;e[3]!==a?(h=async()=>{const C=(await tr())[0]??"";Me.reset($r(C)),a(!0)},e[3]=a,e[4]=h):h=e[4];const v=h;let g;e[5]!==b?(g=(C,T,L)=>I=>{b(!0),Ae.reset({subject:C,exams:I,score:Math.min(Math.round(T*4)/4,10),_score:L})},e[5]=b,e[6]=g):g=e[6];const x=g;let p,n;e[7]!==d||e[8]!==i?(p=()=>{!d&&!i&&Cs().then(s)},n=[d,i],e[7]=d,e[8]=i,e[9]=p,e[10]=n):(p=e[9],n=e[10]),W.useEffect(p,n);let w,$;e[11]===Symbol.for("react.memo_cache_sentinel")?(w={alignSelf:"flex-end"},$=o.jsx(ke,{icon:"mingcute:add-line"}),e[11]=w,e[12]=$):(w=e[11],$=e[12]);let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=Y("Add target"),e[13]=P):P=e[13];let R;e[14]!==v?(R=o.jsx(Fe,{variant:"contained",sx:w,startIcon:$,onClick:v,color:"primary",children:P}),e[14]=v,e[15]=R):R=e[15];let A;if(e[16]!==x||e[17]!==f||e[18]!==r){let C;e[20]!==x||e[21]!==f?(C=T=>o.jsx(ys,{onClickExams:x(T.subject,Math.max(T.requiredAvg,8),T.requiredAvg),target:T,handleEdit:f},T.subject),e[20]=x,e[21]=f,e[22]=C):C=e[22],A=r.map(C),e[16]=x,e[17]=f,e[18]=r,e[19]=A}else A=e[19];let k;e[23]!==A||e[24]!==R?(k=o.jsxs(Ne,{spacing:2,children:[R,A]}),e[23]=A,e[24]=R,e[25]=k):k=e[25];let S,m;e[26]===Symbol.for("react.memo_cache_sentinel")?(S=o.jsx(Ls,{}),m=o.jsx(Ys,{}),e[26]=S,e[27]=m):(S=e[26],m=e[27]);let c;return e[28]!==k?(c=o.jsxs(o.Fragment,{children:[k,S,m]}),e[28]=k,e[29]=c):c=e[29],c}export{so as default};
