import{f as W,h as X,r as S,u as Y,j as s,o as Z,q as ee,v as te,B as se,aD as ne,a7 as oe,a3 as c,I as le,c as L,ai as ie,ae as re}from"./index-Bstsoh_D.js";import{a as T,b as k,c as q}from"./DialogTitle-BSeqlUSn.js";import{f as ae,C as ce,T as B,F as de}from"./index.esm-Dcoymsfo.js";import{S as N}from"./Stack-CvdFPB2A.js";import{F as fe,S as me}from"./Switch-CdHtN75F.js";function ue(t){return W("MuiDialogContentText",t)}X("MuiDialogContentText",["root"]);const he=t=>{const{classes:e}=t,n=te({root:["root"]},ue,e);return{...e,...n}},xe=Z(se,{shouldForwardProp:t=>ne(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),A=S.forwardRef(function(e,l){const n=Y({props:e,name:"MuiDialogContentText"}),{children:o,className:i,...r}=n,a=he(r);return s.jsx(xe,{component:"p",variant:"body1",color:"textSecondary",ref:l,ownerState:r,className:ee(a.root,i),...n,classes:a})}),M=oe(t=>({open:!1,setOpen:e=>t({open:e})}));function ge({onDelete:t,message:e}){const[l,n]=S.useState(!1),{setOpen:o}=M(),i=async()=>{try{n(!0),await t()}catch{n(!1)}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(T,{children:"Confirm delete"}),s.jsx(k,{children:s.jsx(A,{children:e})}),s.jsxs(q,{children:[s.jsx(c,{id:"dialog-delete-cancel",disabled:l,color:"inherit",onClick:()=>o(!1),children:"Cancel"}),s.jsx(c,{id:"dialog-delete-action",loading:l,variant:"contained",onClick:i,color:"error",startIcon:s.jsx(le,{icon:"solar:trash-bin-trash-bold"}),children:"Delete"})]})]})}function je({onConfirm:t,message:e}){const[l,n]=S.useState(!1),{setOpen:o}=M(),i=async()=>{try{n(!0),await t()}catch{n(!1)}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(T,{children:"Confirm"}),s.jsx(k,{children:s.jsx(A,{children:e})}),s.jsxs(q,{children:[s.jsx(c,{id:"dialog-confirm-cancel",disabled:l,color:"inherit",onClick:()=>o(!1),children:"Cancel"}),s.jsx(c,{id:"dialog-confirm-action",loading:l,variant:"contained",onClick:i,color:"primary",children:"Confirm"})]})]})}function Ce(t){const e=L.c(8),{message:l}=t,{setOpen:n}=M();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(T,{children:"Message"}),e[0]=o):o=e[0];let i;e[1]!==l?(i=s.jsx(k,{children:s.jsx(A,{children:l})}),e[1]=l,e[2]=i):i=e[2];let r;e[3]!==n?(r=s.jsx(q,{children:s.jsx(c,{color:"inherit",onClick:()=>n(!1),children:"Close"})}),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==i||e[6]!==r?(a=s.jsxs(s.Fragment,{children:[o,i,r]}),e[5]=i,e[6]=r,e[7]=a):a=e[7],a}const pe={checkbox:(t,e,l,n)=>{var o;return s.jsxs(N,{spacing:1,children:[s.jsx(fe,{required:!!((o=t.rules)!=null&&o.required),color:l?"error.main":"inherit",...e,control:s.jsx(me,{...t.props,color:l?"error":"primary"}),label:t.label}),n&&s.jsx(de,{sx:{px:1},error:l,children:n})]})},text:(t,e,l,n)=>{var o;return s.jsx(B,{...e,...t.props,label:t.label,error:l,helperText:n,required:!!((o=t.rules)!=null&&o.required)})},select:(t,e,l,n)=>{var o,i;return s.jsx(B,{...e,...t.props,select:!0,label:t.label,error:l,helperText:n,required:!!((o=t.rules)!=null&&o.required),children:(i=t.options)==null?void 0:i.map(r=>s.jsx(re,{value:r.value,children:r.label},r.value))})},custom:(t,e,l,n)=>{var o;return(o=t.render)==null?void 0:o.call(t,t,e,l,n)}};function ye(t){const e=L.c(36),{body:l,action:n,title:o}=t;let i,r;e[0]!==n?({onAction:r,...i}=n,e[0]=n,e[1]=i,e[2]=r):(i=e[1],r=e[2]);const{setOpen:a,open:b}=M(),{control:O,formState:$,handleSubmit:I,reset:v}=ae(),{isLoading:d,isSubmitSuccessful:D,isDirty:H}=$;let w,E;e[3]!==D||e[4]!==b||e[5]!==v||e[6]!==a?(w=()=>{D&&b&&(a(!1),v())},E=[D,b,v,a],e[3]=D,e[4]=b,e[5]=v,e[6]=a,e[7]=w,e[8]=E):(w=e[7],E=e[8]),S.useEffect(w,E);const z=be;let f;e[9]!==o?(f=s.jsx(T,{children:o}),e[9]=o,e[10]=f):f=e[10];let m;e[11]!==l||e[12]!==O?(m=s.jsx(k,{dividers:!0,children:s.jsx(N,{spacing:2,children:Object.entries(l).map(P=>{const[U,p]=P;return z(p)?s.jsx(ce,{name:U,control:O,rules:p.rules,defaultValue:p.defaultValue,render:J=>{const{field:K,fieldState:Q}=J,{invalid:V,error:_}=Q;return s.jsx(s.Fragment,{children:pe[p.type](p,K,V,_==null?void 0:_.message)})}},U):s.jsx(ie.Fragment,{children:p},U)})})}),e[11]=l,e[12]=O,e[13]=m):m=e[13];let u;e[14]!==a?(u=()=>a(!1),e[14]=a,e[15]=u):u=e[15];let h;e[16]!==d||e[17]!==u?(h=s.jsx(c,{id:"dialog-form-cancel",disabled:d,color:"inherit",onClick:u,children:"Cancel"}),e[16]=d,e[17]=u,e[18]=h):h=e[18];const R=!H,G=i.label;let x;e[19]!==r?(x=async P=>{await r(P)},e[19]=r,e[20]=x):x=e[20];let g;e[21]!==I||e[22]!==x?(g=I(x),e[21]=I,e[22]=x,e[23]=g):g=e[23];let j;e[24]!==i||e[25]!==d||e[26]!==g||e[27]!==R?(j=s.jsx(c,{variant:"contained",disabled:R,id:"dialog-form-action",color:"inherit",children:G,...i,loading:d,onClick:g}),e[24]=i,e[25]=d,e[26]=g,e[27]=R,e[28]=j):j=e[28];let C;e[29]!==j||e[30]!==h?(C=s.jsxs(q,{children:[h,j]}),e[29]=j,e[30]=h,e[31]=C):C=e[31];let F;return e[32]!==C||e[33]!==f||e[34]!==m?(F=s.jsxs(s.Fragment,{children:[f,m,C]}),e[32]=C,e[33]=f,e[34]=m,e[35]=F):F=e[35],F}function be(t){return t&&typeof t=="object"&&"type"in t}const y=new EventTarget,Se={message:t=>{y.dispatchEvent(new CustomEvent("show",{detail:{content:()=>s.jsx(Ce,{message:t})}}))},confirm:(t,e)=>{y.dispatchEvent(new CustomEvent("show",{detail:{content:()=>s.jsx(je,{onConfirm:e,message:t})}}))},form:t=>{y.dispatchEvent(new CustomEvent("show",{detail:{content:()=>s.jsx(ye,{...t})}}))},delete:(t,e)=>{y.dispatchEvent(new CustomEvent("show",{detail:{content:()=>s.jsx(ge,{onDelete:e,message:t})}}))},custom:(t,e)=>{y.dispatchEvent(new CustomEvent("show",{detail:{content:t,props:e}}))}};export{y as c,Se as d,M as u};
